<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="style.css">
	<title>School Shooters</title></head>
	<body>
	

<script>window.Flourish = {"static_prefix":".","environment":"live","is_read_only":true};</script><script>var template=function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){var e={exports:{}};return t(e,e.exports),e.exports}var r,i,a=function(t){return t&&t.Math==Math&&t},o=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof e&&e)||function(){return this}()||Function("return this")(),l=function(t){try{return!!t()}catch(t){return!0}},s=!l((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,f={f:u&&!c.call({1:2},1)?function(t){var e=u(this,t);return!!e&&e.enumerable}:c},d=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},p={}.toString,h=function(t){return p.call(t).slice(8,-1)},y="".split,_=l((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==h(t)?y.call(t,""):Object(t)}:Object,b=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},g=function(t){return _(b(t))},m=function(t){return"function"==typeof t},v=function(t){return"object"==typeof t?null!==t:m(t)},x=function(t){return m(t)?t:void 0},w=function(t,e){return arguments.length<2?x(o[t]):o[t]&&o[t][e]},M=w("navigator","userAgent")||"",k=o.process,A=o.Deno,E=k&&k.versions||A&&A.version,S=E&&E.v8;S?i=(r=S.split("."))[0]<4?1:r[0]+r[1]:M&&(!(r=M.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=M.match(/Chrome\/(\d+)/))&&(i=r[1]);var T=i&&+i,z=!!Object.getOwnPropertySymbols&&!l((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&T&&T<41})),O=z&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,C=O?function(t){return"symbol"==typeof t}:function(t){var e=w("Symbol");return m(e)&&Object(t)instanceof e},L=function(t){try{return String(t)}catch(t){return"Object"}},N=function(t){if(m(t))return t;throw TypeError(L(t)+" is not a function")},j=function(t,e){var n=t[e];return null==n?void 0:N(n)},F=function(t,e){try{Object.defineProperty(o,t,{value:e,configurable:!0,writable:!0})}catch(n){o[t]=e}return e},P="__core-js_shared__",I=o[P]||F(P,{}),D=n((function(t){(t.exports=function(t,e){return I[t]||(I[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.18.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),R=function(t){return Object(b(t))},U={}.hasOwnProperty,B=Object.hasOwn||function(t,e){return U.call(R(t),e)},H=0,Y=Math.random(),q=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++H+Y).toString(36)},$=D("wks"),W=o.Symbol,V=O?W:W&&W.withoutSetter||q,G=function(t){return B($,t)&&(z||"string"==typeof $[t])||(z&&B(W,t)?$[t]=W[t]:$[t]=V("Symbol."+t)),$[t]},X=G("toPrimitive"),Z=function(t,e){if(!v(t)||C(t))return t;var n,r=j(t,X);if(r){if(void 0===e&&(e="default"),n=r.call(t,e),!v(n)||C(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var n,r;if("string"===e&&m(n=t.toString)&&!v(r=n.call(t)))return r;if(m(n=t.valueOf)&&!v(r=n.call(t)))return r;if("string"!==e&&m(n=t.toString)&&!v(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}(t,e)},J=function(t){var e=Z(t,"string");return C(e)?e:String(e)},Q=o.document,K=v(Q)&&v(Q.createElement),tt=function(t){return K?Q.createElement(t):{}},et=!s&&!l((function(){return 7!=Object.defineProperty(tt("div"),"a",{get:function(){return 7}}).a})),nt=Object.getOwnPropertyDescriptor,rt={f:s?nt:function(t,e){if(t=g(t),e=J(e),et)try{return nt(t,e)}catch(t){}if(B(t,e))return d(!f.f.call(t,e),t[e])}},it=function(t){if(v(t))return t;throw TypeError(String(t)+" is not an object")},at=Object.defineProperty,ot={f:s?at:function(t,e,n){if(it(t),e=J(e),it(n),et)try{return at(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},lt=s?function(t,e,n){return ot.f(t,e,d(1,n))}:function(t,e,n){return t[e]=n,t},st=Function.toString;m(I.inspectSource)||(I.inspectSource=function(t){return st.call(t)});var ct,ut,ft,dt=I.inspectSource,pt=o.WeakMap,ht=m(pt)&&/native code/.test(dt(pt)),yt=D("keys"),_t=function(t){return yt[t]||(yt[t]=q(t))},bt={},gt="Object already initialized",mt=o.WeakMap;if(ht||I.state){var vt=I.state||(I.state=new mt),xt=vt.get,wt=vt.has,Mt=vt.set;ct=function(t,e){if(wt.call(vt,t))throw new TypeError(gt);return e.facade=t,Mt.call(vt,t,e),e},ut=function(t){return xt.call(vt,t)||{}},ft=function(t){return wt.call(vt,t)}}else{var kt=_t("state");bt[kt]=!0,ct=function(t,e){if(B(t,kt))throw new TypeError(gt);return e.facade=t,lt(t,kt,e),e},ut=function(t){return B(t,kt)?t[kt]:{}},ft=function(t){return B(t,kt)}}var At={set:ct,get:ut,has:ft,enforce:function(t){return ft(t)?ut(t):ct(t,{})},getterFor:function(t){return function(e){var n;if(!v(e)||(n=ut(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Et=Function.prototype,St=s&&Object.getOwnPropertyDescriptor,Tt=B(Et,"name"),zt={EXISTS:Tt,PROPER:Tt&&"something"===function(){}.name,CONFIGURABLE:Tt&&(!s||s&&St(Et,"name").configurable)},Ot=n((function(t){var e=zt.CONFIGURABLE,n=At.get,r=At.enforce,i=String(String).split("String");(t.exports=function(t,n,a,l){var s,c=!!l&&!!l.unsafe,u=!!l&&!!l.enumerable,f=!!l&&!!l.noTargetGet,d=l&&void 0!==l.name?l.name:n;m(a)&&("Symbol("===String(d).slice(0,7)&&(d="["+String(d).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!B(a,"name")||e&&a.name!==d)&&lt(a,"name",d),(s=r(a)).source||(s.source=i.join("string"==typeof d?d:""))),t!==o?(c?!f&&t[n]&&(u=!0):delete t[n],u?t[n]=a:lt(t,n,a)):u?t[n]=a:F(n,a)})(Function.prototype,"toString",(function(){return m(this)&&n(this).source||dt(this)}))})),Ct=Math.ceil,Lt=Math.floor,Nt=function(t){return isNaN(t=+t)?0:(t>0?Lt:Ct)(t)},jt=Math.min,Ft=function(t){return t>0?jt(Nt(t),9007199254740991):0},Pt=Math.max,It=Math.min,Dt=function(t,e){var n=Nt(t);return n<0?Pt(n+e,0):It(n,e)},Rt=function(t){return function(e,n,r){var i,a=g(e),o=Ft(a.length),l=Dt(r,o);if(t&&n!=n){for(;o>l;)if((i=a[l++])!=i)return!0}else for(;o>l;l++)if((t||l in a)&&a[l]===n)return t||l||0;return!t&&-1}},Ut={includes:Rt(!0),indexOf:Rt(!1)},Bt=Ut.indexOf,Ht=function(t,e){var n,r=g(t),i=0,a=[];for(n in r)!B(bt,n)&&B(r,n)&&a.push(n);for(;e.length>i;)B(r,n=e[i++])&&(~Bt(a,n)||a.push(n));return a},Yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],qt=Yt.concat("length","prototype"),$t={f:Object.getOwnPropertyNames||function(t){return Ht(t,qt)}},Wt={f:Object.getOwnPropertySymbols},Vt=w("Reflect","ownKeys")||function(t){var e=$t.f(it(t)),n=Wt.f;return n?e.concat(n(t)):e},Gt=function(t,e){for(var n=Vt(e),r=ot.f,i=rt.f,a=0;a<n.length;a++){var o=n[a];B(t,o)||r(t,o,i(e,o))}},Xt=/#|\.prototype\./,Zt=function(t,e){var n=Qt[Jt(t)];return n==te||n!=Kt&&(m(e)?l(e):!!e)},Jt=Zt.normalize=function(t){return String(t).replace(Xt,".").toLowerCase()},Qt=Zt.data={},Kt=Zt.NATIVE="N",te=Zt.POLYFILL="P",ee=Zt,ne=rt.f,re=function(t,e){var n,r,i,a,l,s=t.target,c=t.global,u=t.stat;if(n=c?o:u?o[s]||F(s,{}):(o[s]||{}).prototype)for(r in e){if(a=e[r],i=t.noTargetGet?(l=ne(n,r))&&l.value:n[r],!ee(c?r:s+(u?".":"#")+r,t.forced)&&void 0!==i){if(typeof a==typeof i)continue;Gt(a,i)}(t.sham||i&&i.sham)&&lt(a,"sham",!0),Ot(n,r,a,t)}},ie=!l((function(){return Object.isExtensible(Object.preventExtensions({}))})),ae=$t.f,oe={}.toString,le="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],se={f:function(t){return le&&"[object Window]"==oe.call(t)?function(t){try{return ae(t)}catch(t){return le.slice()}}(t):ae(g(t))}},ce=n((function(t){var e=ot.f,n=!1,r=q("meta"),i=0,a=Object.isExtensible||function(){return!0},o=function(t){e(t,r,{value:{objectID:"O"+i++,weakData:{}}})},l=t.exports={enable:function(){l.enable=function(){},n=!0;var t=$t.f,e=[].splice,i={};i[r]=1,t(i).length&&($t.f=function(n){for(var i=t(n),a=0,o=i.length;a<o;a++)if(i[a]===r){e.call(i,a,1);break}return i},re({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:se.f}))},fastKey:function(t,e){if(!v(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!B(t,r)){if(!a(t))return"F";if(!e)return"E";o(t)}return t[r].objectID},getWeakData:function(t,e){if(!B(t,r)){if(!a(t))return!0;if(!e)return!1;o(t)}return t[r].weakData},onFreeze:function(t){return ie&&n&&a(t)&&!B(t,r)&&o(t),t}};bt[r]=!0})),ue=ce.onFreeze,fe=Object.freeze,de=l((function(){fe(1)}));re({target:"Object",stat:!0,forced:de,sham:!ie},{freeze:function(t){return fe&&v(t)?fe(ue(t)):t}});var pe={};pe[G("toStringTag")]="z";var he="[object z]"===String(pe),ye=G("toStringTag"),_e="Arguments"==h(function(){return arguments}()),be=he?h:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ye))?n:_e?h(e):"Object"==(r=h(e))&&m(e.callee)?"Arguments":r},ge=he?{}.toString:function(){return"[object "+be(this)+"]"};he||Ot(Object.prototype,"toString",ge,{unsafe:!0});var me=function(t){if("Symbol"===be(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)},ve=function(){var t=it(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},xe=zt.PROPER,we="toString",Me=RegExp.prototype,ke=Me.toString,Ae=l((function(){return"/a/b"!=ke.call({source:"a",flags:"b"})})),Ee=xe&&ke.name!=we;(Ae||Ee)&&Ot(RegExp.prototype,we,(function(){var t=it(this),e=me(t.source),n=t.flags;return"/"+e+"/"+me(void 0===n&&t instanceof RegExp&&!("flags"in Me)?ve.call(t):n)}),{unsafe:!0});var Se=Array.isArray||function(t){return"Array"==h(t)},Te=[],ze=w("Reflect","construct"),Oe=/^\s*(?:class|function)\b/,Ce=Oe.exec,Le=!Oe.exec((function(){})),Ne=function(t){if(!m(t))return!1;try{return ze(Object,Te,t),!0}catch(t){return!1}},je=!ze||l((function(){var t;return Ne(Ne.call)||!Ne(Object)||!Ne((function(){t=!0}))||t}))?function(t){if(!m(t))return!1;switch(be(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Le||!!Ce.call(Oe,dt(t))}:Ne,Fe=function(t,e,n){var r=J(e);r in t?ot.f(t,r,d(0,n)):t[r]=n},Pe=G("species"),Ie=function(t){return T>=51||!l((function(){var e=[];return(e.constructor={})[Pe]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},De=Ie("slice"),Re=G("species"),Ue=[].slice,Be=Math.max;re({target:"Array",proto:!0,forced:!De},{slice:function(t,e){var n,r,i,a=g(this),o=Ft(a.length),l=Dt(t,o),s=Dt(void 0===e?o:e,o);if(Se(a)&&(n=a.constructor,(je(n)&&(n===Array||Se(n.prototype))||v(n)&&null===(n=n[Re]))&&(n=void 0),n===Array||void 0===n))return Ue.call(a,l,s);for(r=new(void 0===n?Array:n)(Be(s-l,0)),i=0;l<s;l++,i++)l in a&&Fe(r,i,a[l]);return r.length=i,r}});var He=Math.floor,Ye=function(t,e){var n=t.length,r=He(n/2);return n<8?qe(t,e):$e(Ye(t.slice(0,r),e),Ye(t.slice(r),e),e)},qe=function(t,e){for(var n,r,i=t.length,a=1;a<i;){for(r=a,n=t[a];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==a++&&(t[r]=n)}return t},$e=function(t,e,n){for(var r=t.length,i=e.length,a=0,o=0,l=[];a<r||o<i;)a<r&&o<i?l.push(n(t[a],e[o])<=0?t[a++]:e[o++]):l.push(a<r?t[a++]:e[o++]);return l},We=Ye,Ve=function(t,e){var n=[][t];return!!n&&l((function(){n.call(null,e||function(){throw 1},1)}))},Ge=M.match(/firefox\/(\d+)/i),Xe=!!Ge&&+Ge[1],Ze=/MSIE|Trident/.test(M),Je=M.match(/AppleWebKit\/(\d+)\./),Qe=!!Je&&+Je[1],Ke=[],tn=Ke.sort,en=l((function(){Ke.sort(void 0)})),nn=l((function(){Ke.sort(null)})),rn=Ve("sort"),an=!l((function(){if(T)return T<70;if(!(Xe&&Xe>3)){if(Ze)return!0;if(Qe)return Qe<603;var t,e,n,r,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)Ke.push({k:e+r,v:n})}for(Ke.sort((function(t,e){return e.v-t.v})),r=0;r<Ke.length;r++)e=Ke[r].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));re({target:"Array",proto:!0,forced:en||!nn||!rn||!an},{sort:function(t){void 0!==t&&N(t);var e=R(this);if(an)return void 0===t?tn.call(e):tn.call(e,t);var n,r,i=[],a=Ft(e.length);for(r=0;r<a;r++)r in e&&i.push(e[r]);for(i=We(i,function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:me(e)>me(n)?1:-1}}(t)),n=i.length,r=0;r<n;)e[r]=i[r++];for(;r<a;)delete e[r++];return e}});var on="http://www.w3.org/1999/xhtml",ln={svg:"http://www.w3.org/2000/svg",xhtml:on,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sn(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ln.hasOwnProperty(e)?{space:ln[e],local:t}:t}function cn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===on&&e.documentElement.namespaceURI===on?e.createElement(t):e.createElementNS(n,t)}}function un(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fn(t){var e=sn(t);return(e.local?un:cn)(e)}function dn(){}function pn(t){return null==t?dn:function(){return this.querySelector(t)}}function hn(){return[]}function yn(t){return null==t?hn:function(){return this.querySelectorAll(t)}}function _n(t){return function(){return this.matches(t)}}var bn=function(t,e,n){if(N(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},gn=G("species"),mn=function(t,e){return new(function(t){var e;return Se(t)&&(e=t.constructor,(je(e)&&(e===Array||Se(e.prototype))||v(e)&&null===(e=e[gn]))&&(e=void 0)),void 0===e?Array:e}(t))(0===e?0:e)},vn=[].push,xn=function(t){var e=1==t,n=2==t,r=3==t,i=4==t,a=6==t,o=7==t,l=5==t||a;return function(s,c,u,f){for(var d,p,h=R(s),y=_(h),b=bn(c,u,3),g=Ft(y.length),m=0,v=f||mn,x=e?v(s,g):n||o?v(s,0):void 0;g>m;m++)if((l||m in y)&&(p=b(d=y[m],m,h),t))if(e)x[m]=p;else if(p)switch(t){case 3:return!0;case 5:return d;case 6:return m;case 2:vn.call(x,d)}else switch(t){case 4:return!1;case 7:vn.call(x,d)}return a?-1:r||i?i:x}},wn={forEach:xn(0),map:xn(1),filter:xn(2),some:xn(3),every:xn(4),find:xn(5),findIndex:xn(6),filterReject:xn(7)},Mn=wn.map,kn=Ie("map");function An(t){return new Array(t.length)}function En(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}re({target:"Array",proto:!0,forced:!kn},{map:function(t){return Mn(this,t,arguments.length>1?arguments[1]:void 0)}}),En.prototype={constructor:En,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Sn(t,e,n,r,i,a){for(var o,l=0,s=e.length,c=a.length;l<c;++l)(o=e[l])?(o.__data__=a[l],r[l]=o):n[l]=new En(t,a[l]);for(;l<s;++l)(o=e[l])&&(i[l]=o)}function Tn(t,e,n,r,i,a,o){var l,s,c,u={},f=e.length,d=a.length,p=new Array(f);for(l=0;l<f;++l)(s=e[l])&&(p[l]=c="$"+o.call(s,s.__data__,l,e),c in u?i[l]=s:u[c]=s);for(l=0;l<d;++l)(s=u[c="$"+o.call(t,a[l],l,a)])?(r[l]=s,s.__data__=a[l],u[c]=null):n[l]=new En(t,a[l]);for(l=0;l<f;++l)(s=e[l])&&u[p[l]]===s&&(i[l]=s)}function zn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function On(t){return function(){this.removeAttribute(t)}}function Cn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ln(t,e){return function(){this.setAttribute(t,e)}}function Nn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function jn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Fn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Pn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function In(t){return function(){this.style.removeProperty(t)}}function Dn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Rn(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Un(t,e){return t.style.getPropertyValue(e)||Pn(t).getComputedStyle(t,null).getPropertyValue(e)}function Bn(t){return function(){delete this[t]}}function Hn(t,e){return function(){this[t]=e}}function Yn(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var qn,$n=o.RegExp,Wn=l((function(){var t=$n("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Vn=l((function(){var t=$n("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),Gn={UNSUPPORTED_Y:Wn,BROKEN_CARET:Vn},Xn=Object.keys||function(t){return Ht(t,Yt)},Zn=s?Object.defineProperties:function(t,e){it(t);for(var n,r=Xn(e),i=r.length,a=0;i>a;)ot.f(t,n=r[a++],e[n]);return t},Jn=w("document","documentElement"),Qn=_t("IE_PROTO"),Kn=function(){},tr=function(t){return"<script>"+t+"</"+"script>"},er=function(t){t.write(tr("")),t.close();var e=t.parentWindow.Object;return t=null,e},nr=function(){try{qn=new ActiveXObject("htmlfile")}catch(t){}var t,e;nr="undefined"!=typeof document?document.domain&&qn?er(qn):((e=tt("iframe")).style.display="none",Jn.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(tr("document.F=Object")),t.close(),t.F):er(qn);for(var n=Yt.length;n--;)delete nr.prototype[Yt[n]];return nr()};bt[Qn]=!0;var rr=Object.create||function(t,e){var n;return null!==t?(Kn.prototype=it(t),n=new Kn,Kn.prototype=null,n[Qn]=t):n=nr(),void 0===e?n:Zn(n,e)},ir=o.RegExp,ar=l((function(){var t=ir(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),or=o.RegExp,lr=l((function(){var t=or("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),sr=At.get,cr=RegExp.prototype.exec,ur=D("native-string-replace",String.prototype.replace),fr=cr,dr=function(){var t=/a/,e=/b*/g;return cr.call(t,"a"),cr.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),pr=Gn.UNSUPPORTED_Y||Gn.BROKEN_CARET,hr=void 0!==/()??/.exec("")[1];(dr||hr||pr||ar||lr)&&(fr=function(t){var e,n,r,i,a,o,l,s=this,c=sr(s),u=me(t),f=c.raw;if(f)return f.lastIndex=s.lastIndex,e=fr.call(f,u),s.lastIndex=f.lastIndex,e;var d=c.groups,p=pr&&s.sticky,h=ve.call(s),y=s.source,_=0,b=u;if(p&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),b=u.slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==u.charAt(s.lastIndex-1))&&(y="(?: "+y+")",b=" "+b,_++),n=new RegExp("^(?:"+y+")",h)),hr&&(n=new RegExp("^"+y+"$(?!\\s)",h)),dr&&(r=s.lastIndex),i=cr.call(p?n:s,b),p?i?(i.input=i.input.slice(_),i[0]=i[0].slice(_),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:dr&&i&&(s.lastIndex=s.global?i.index+i[0].length:r),hr&&i&&i.length>1&&ur.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&d)for(i.groups=o=rr(null),a=0;a<d.length;a++)o[(l=d[a])[0]]=i[l[1]];return i});var yr=fr;re({target:"RegExp",proto:!0,forced:/./.exec!==yr},{exec:yr});var _r=G("species"),br=RegExp.prototype,gr=function(t,e,n,r){var i=G(t),a=!l((function(){var e={};return e[i]=function(){return 7},7!=""[t](e)})),o=a&&!l((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[_r]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return e=!0,null},n[i](""),!e}));if(!a||!o||n){var s=/./[i],c=e(i,""[t],(function(t,e,n,r,i){var o=e.exec;return o===yr||o===br.exec?a&&!i?{done:!0,value:s.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}));Ot(String.prototype,t,c[0]),Ot(br,i,c[1])}r&&lt(br[i],"sham",!0)},mr=G("match"),vr=function(t){var e;return v(t)&&(void 0!==(e=t[mr])?!!e:"RegExp"==h(t))},xr=G("species"),wr=function(t,e){var n,r=it(t).constructor;return void 0===r||null==(n=it(r)[xr])?e:function(t){if(je(t))return t;throw TypeError(L(t)+" is not a constructor")}(n)},Mr=function(t){return function(e,n){var r,i,a=me(b(e)),o=Nt(n),l=a.length;return o<0||o>=l?t?"":void 0:(r=a.charCodeAt(o))<55296||r>56319||o+1===l||(i=a.charCodeAt(o+1))<56320||i>57343?t?a.charAt(o):r:t?a.slice(o,o+2):i-56320+(r-55296<<10)+65536}},kr={codeAt:Mr(!1),charAt:Mr(!0)},Ar=kr.charAt,Er=function(t,e,n){return e+(n?Ar(t,e).length:1)},Sr=function(t,e){var n=t.exec;if(m(n)){var r=n.call(t,e);return null!==r&&it(r),r}if("RegExp"===h(t))return yr.call(t,e);throw TypeError("RegExp#exec called on incompatible receiver")},Tr=Gn.UNSUPPORTED_Y,zr=[].push,Or=Math.min,Cr=4294967295,Lr=!l((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));gr("split",(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=me(b(this)),i=void 0===n?Cr:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!vr(t))return e.call(r,t,i);for(var a,o,l,s=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,f=new RegExp(t.source,c+"g");(a=yr.call(f,r))&&!((o=f.lastIndex)>u&&(s.push(r.slice(u,a.index)),a.length>1&&a.index<r.length&&zr.apply(s,a.slice(1)),l=a[0].length,u=o,s.length>=i));)f.lastIndex===a.index&&f.lastIndex++;return u===r.length?!l&&f.test("")||s.push(""):s.push(r.slice(u)),s.length>i?s.slice(0,i):s}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=b(this),a=null==e?void 0:j(e,t);return a?a.call(e,i,n):r.call(me(i),e,n)},function(t,i){var a=it(this),o=me(t),l=n(r,a,o,i,r!==e);if(l.done)return l.value;var s=wr(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(Tr?"g":"y"),f=new s(Tr?"^(?:"+a.source+")":a,u),d=void 0===i?Cr:i>>>0;if(0===d)return[];if(0===o.length)return null===Sr(f,o)?[o]:[];for(var p=0,h=0,y=[];h<o.length;){f.lastIndex=Tr?0:h;var _,b=Sr(f,Tr?o.slice(h):o);if(null===b||(_=Or(Ft(f.lastIndex+(Tr?h:0)),o.length))===p)h=Er(o,h,c);else{if(y.push(o.slice(p,h)),y.length===d)return y;for(var g=1;g<=b.length-1;g++)if(y.push(b[g]),y.length===d)return y;h=p=_}}return y.push(o.slice(p)),y}]}),!Lr,Tr);var Nr,jr="\t\n\v\f\r                　\u2028\u2029\ufeff",Fr="["+jr+"]",Pr=RegExp("^"+Fr+Fr+"*"),Ir=RegExp(Fr+Fr+"*$"),Dr=function(t){return function(e){var n=me(b(e));return 1&t&&(n=n.replace(Pr,"")),2&t&&(n=n.replace(Ir,"")),n}},Rr={start:Dr(1),end:Dr(2),trim:Dr(3)},Ur=zt.PROPER,Br=Rr.trim;re({target:"String",proto:!0,forced:(Nr="trim",l((function(){return!!jr[Nr]()||"​᠎"!=="​᠎"[Nr]()||Ur&&jr[Nr].name!==Nr})))},{trim:function(){return Br(this)}});var Hr=[].join,Yr=_!=Object,qr=Ve("join",",");re({target:"Array",proto:!0,forced:Yr||!qr},{join:function(t){return Hr.call(g(this),void 0===t?",":t)}});var $r=Ie("splice"),Wr=Math.max,Vr=Math.min,Gr=9007199254740991,Xr="Maximum allowed length exceeded";function Zr(t){return t.trim().split(/^|\s+/)}function Jr(t){return t.classList||new Qr(t)}function Qr(t){this._node=t,this._names=Zr(t.getAttribute("class")||"")}function Kr(t,e){for(var n=Jr(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ti(t,e){for(var n=Jr(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ei(t){return function(){Kr(this,t)}}function ni(t){return function(){ti(this,t)}}function ri(t,e){return function(){(e.apply(this,arguments)?Kr:ti)(this,t)}}function ii(){this.textContent=""}function ai(t){return function(){this.textContent=t}}function oi(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function li(){this.innerHTML=""}function si(t){return function(){this.innerHTML=t}}function ci(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ui(){this.nextSibling&&this.parentNode.appendChild(this)}function fi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function di(){return null}function pi(){var t=this.parentNode;t&&t.removeChild(this)}function hi(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yi(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}re({target:"Array",proto:!0,forced:!$r},{splice:function(t,e){var n,r,i,a,o,l,s=R(this),c=Ft(s.length),u=Dt(t,c),f=arguments.length;if(0===f?n=r=0:1===f?(n=0,r=c-u):(n=f-2,r=Vr(Wr(Nt(e),0),c-u)),c+n-r>Gr)throw TypeError(Xr);for(i=mn(s,r),a=0;a<r;a++)(o=u+a)in s&&Fe(i,a,s[o]);if(i.length=r,n<r){for(a=u;a<c-r;a++)l=a+n,(o=a+r)in s?s[l]=s[o]:delete s[l];for(a=c;a>c-r+n;a--)delete s[a-1]}else if(n>r)for(a=c-r;a>u;a--)l=a+n-1,(o=a+r-1)in s?s[l]=s[o]:delete s[l];for(a=0;a<n;a++)s[a+u]=arguments[a+2];return s.length=c-r+n,i}}),Qr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var _i=zt.EXISTS,bi=ot.f,gi=Function.prototype,mi=gi.toString,vi=/^\s*function ([^ (]*)/;s&&!_i&&bi(gi,"name",{configurable:!0,get:function(){try{return mi.call(this).match(vi)[1]}catch(t){return""}}});var xi={},wi=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(xi={mouseenter:"mouseover",mouseleave:"mouseout"}));function Mi(t,e,n){return t=ki(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ki(t,e,n){return function(r){var i=wi;wi=r;try{t.call(this,this.__data__,e,n)}finally{wi=i}}}function Ai(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ei(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Si(t,e,n){var r=xi.hasOwnProperty(t.type)?Mi:ki;return function(i,a,o){var l,s=this.__on,c=r(e,a,o);if(s)for(var u=0,f=s.length;u<f;++u)if((l=s[u]).type===t.type&&l.name===t.name)return this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=n),void(l.value=e);this.addEventListener(t.type,c,n),l={type:t.type,name:t.name,value:e,listener:c,capture:n},s?s.push(l):this.__on=[l]}}function Ti(t,e,n){var r=Pn(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function zi(t,e){return function(){return Ti(this,t,e)}}function Oi(t,e){return function(){return Ti(this,t,e.apply(this,arguments))}}var Ci=[null];function Li(t,e){this._groups=t,this._parents=e}function Ni(){return new Li([[document.documentElement]],Ci)}function ji(t){return"string"==typeof t?new Li([[document.querySelector(t)]],[document.documentElement]):new Li([[t]],Ci)}Li.prototype=Ni.prototype={constructor:Li,select:function(t){"function"!=typeof t&&(t=pn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,l=e[i],s=l.length,c=r[i]=new Array(s),u=0;u<s;++u)(a=l[u])&&(o=t.call(a,a.__data__,u,l))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new Li(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=yn(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,l=e[a],s=l.length,c=0;c<s;++c)(o=l[c])&&(r.push(t.call(o,o.__data__,c,l)),i.push(o));return new Li(r,i)},filter:function(t){"function"!=typeof t&&(t=_n(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,s=r[i]=[],c=0;c<l;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&s.push(a);return new Li(r,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),u=-1,this.each((function(t){h[++u]=t})),h;var n,r=e?Tn:Sn,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,l=new Array(o),s=new Array(o),c=new Array(o),u=0;u<o;++u){var f=i[u],d=a[u],p=d.length,h=t.call(f,f&&f.__data__,u,i),y=h.length,_=s[u]=new Array(y),b=l[u]=new Array(y);r(f,d,_,b,c[u]=new Array(p),h,e);for(var g,m,v=0,x=0;v<y;++v)if(g=_[v]){for(v>=x&&(x=v+1);!(m=b[x])&&++x<y;);g._next=m||null}}return(l=new Li(l,i))._enter=s,l._exit=c,l},enter:function(){return new Li(this._enter||this._groups.map(An),this._parents)},exit:function(){return new Li(this._exit||this._groups.map(An),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,a=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,c=e[l],u=n[l],f=c.length,d=o[l]=new Array(f),p=0;p<f;++p)(s=c[p]||u[p])&&(d[p]=s);for(;l<r;++l)o[l]=e[l];return new Li(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=zn);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,l=n[a],s=l.length,c=i[a]=new Array(s),u=0;u<s;++u)(o=l[u])&&(c[u]=o);c.sort(e)}return new Li(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,l=a.length;o<l;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=sn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Cn:On:"function"==typeof e?n.local?Fn:jn:n.local?Nn:Ln)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?In:"function"==typeof e?Rn:Dn)(t,e,null==n?"":n)):Un(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Bn:"function"==typeof e?Yn:Hn)(t,e)):this.node()[t]},classed:function(t,e){var n=Zr(t+"");if(arguments.length<2){for(var r=Jr(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ri:e?ei:ni)(n,e))},text:function(t){return arguments.length?this.each(null==t?ii:("function"==typeof t?oi:ai)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?li:("function"==typeof t?ci:si)(t)):this.node().innerHTML},raise:function(){return this.each(ui)},lower:function(){return this.each(fi)},append:function(t){var e="function"==typeof t?t:fn(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:fn(t),r=null==e?di:"function"==typeof e?e:pn(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(pi)},clone:function(t){return this.select(t?yi:hi)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=Ai(t+""),o=a.length;if(!(arguments.length<2)){for(l=e?Si:Ei,null==n&&(n=!1),r=0;r<o;++r)this.each(l(a[r],e,n));return this}var l=this.node().__on;if(l)for(var s,c=0,u=l.length;c<u;++c)for(r=0,s=l[c];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?Oi:zi)(t,e))}};var Fi=Math.ceil,Pi=Math.floor;re({target:"Math",stat:!0},{trunc:function(t){return(t>0?Pi:Fi)(t)}});var Ii=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return it(n),function(t){if("object"==typeof t||m(t))return t;throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),Di=function(t,e,n){var r,i;return Ii&&m(r=e.constructor)&&r!==n&&v(i=r.prototype)&&i!==n.prototype&&Ii(t,i),t},Ri=G("species"),Ui=function(t){var e=w(t),n=ot.f;s&&e&&!e[Ri]&&n(e,Ri,{configurable:!0,get:function(){return this}})},Bi=ot.f,Hi=$t.f,Yi=At.enforce,qi=G("match"),$i=o.RegExp,Wi=$i.prototype,Vi=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Gi=/a/g,Xi=/a/g,Zi=new $i(Gi)!==Gi,Ji=Gn.UNSUPPORTED_Y,Qi=s&&(!Zi||Ji||ar||lr||l((function(){return Xi[qi]=!1,$i(Gi)!=Gi||$i(Xi)==Xi||"/a/i"!=$i(Gi,"i")})));if(ee("RegExp",Qi)){for(var Ki=function(t,e){var n,r,i,a,o,l,s=this instanceof Ki,c=vr(t),u=void 0===e,f=[],d=t;if(!s&&c&&u&&t.constructor===Ki)return t;if((c||t instanceof Ki)&&(t=t.source,u&&(e="flags"in d?d.flags:ve.call(d))),t=void 0===t?"":me(t),e=void 0===e?"":me(e),d=t,ar&&"dotAll"in Gi&&(r=!!e&&e.indexOf("s")>-1)&&(e=e.replace(/s/g,"")),n=e,Ji&&"sticky"in Gi&&(i=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,"")),lr&&(a=function(t){for(var e,n=t.length,r=0,i="",a=[],o={},l=!1,s=!1,c=0,u="";r<=n;r++){if("\\"===(e=t.charAt(r)))e+=t.charAt(++r);else if("]"===e)l=!1;else if(!l)switch(!0){case"["===e:l=!0;break;case"("===e:Vi.test(t.slice(r+1))&&(r+=2,s=!0),i+=e,c++;continue;case">"===e&&s:if(""===u||B(o,u))throw new SyntaxError("Invalid capture group name");o[u]=!0,a.push([u,c]),s=!1,u="";continue}s?u+=e:i+=e}return[i,a]}(t),t=a[0],f=a[1]),o=Di($i(t,e),s?this:Wi,Ki),(r||i||f.length)&&(l=Yi(o),r&&(l.dotAll=!0,l.raw=Ki(function(t){for(var e,n=t.length,r=0,i="",a=!1;r<=n;r++)"\\"!==(e=t.charAt(r))?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),i+=e):i+="[\\s\\S]":i+=e+t.charAt(++r);return i}(t),n)),i&&(l.sticky=!0),f.length&&(l.groups=f)),t!==d)try{lt(o,"source",""===d?"(?:)":d)}catch(t){}return o},ta=function(t){t in Ki||Bi(Ki,t,{configurable:!0,get:function(){return $i[t]},set:function(e){$i[t]=e}})},ea=Hi($i),na=0;ea.length>na;)ta(ea[na++]);Wi.constructor=Ki,Ki.prototype=Wi,Ot(o,"RegExp",Ki)}Ui("RegExp");var ra=Math.floor,ia="".replace,aa=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,oa=/\$([$&'`]|\d{1,2})/g,la=function(t,e,n,r,i,a){var o=n+t.length,l=r.length,s=oa;return void 0!==i&&(i=R(i),s=aa),ia.call(a,s,(function(a,s){var c;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(o);case"<":c=i[s.slice(1,-1)];break;default:var u=+s;if(0===u)return a;if(u>l){var f=ra(u/10);return 0===f?a:f<=l?void 0===r[f-1]?s.charAt(1):r[f-1]+s.charAt(1):a}c=r[u-1]}return void 0===c?"":c}))},sa=G("replace"),ca=Math.max,ua=Math.min,fa="$0"==="a".replace(/./,"$0"),da=!!/./[sa]&&""===/./[sa]("a","$0"),pa=!l((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));gr("replace",(function(t,e,n){var r=da?"$":"$0";return[function(t,n){var r=b(this),i=null==t?void 0:j(t,sa);return i?i.call(t,r,n):e.call(me(r),t,n)},function(t,i){var a=it(this),o=me(t);if("string"==typeof i&&-1===i.indexOf(r)&&-1===i.indexOf("$<")){var l=n(e,a,o,i);if(l.done)return l.value}var s=m(i);s||(i=me(i));var c=a.global;if(c){var u=a.unicode;a.lastIndex=0}for(var f=[];;){var d=Sr(a,o);if(null===d)break;if(f.push(d),!c)break;""===me(d[0])&&(a.lastIndex=Er(o,Ft(a.lastIndex),u))}for(var p,h="",y=0,_=0;_<f.length;_++){d=f[_];for(var b=me(d[0]),g=ca(ua(Nt(d.index),o.length),0),v=[],x=1;x<d.length;x++)v.push(void 0===(p=d[x])?p:String(p));var w=d.groups;if(s){var M=[b].concat(v,g,o);void 0!==w&&M.push(w);var k=me(i.apply(void 0,M))}else k=la(b,o,g,v,w,i);g>=y&&(h+=o.slice(y,g)+k,y=g+b.length)}return h+o.slice(y)}]}),!pa||!fa||da);var ha=l((function(){Xn(1)}));re({target:"Object",stat:!0,forced:ha},{keys:function(t){return Xn(R(t))}});var ya=wn.filter,_a=Ie("filter");re({target:"Array",proto:!0,forced:!_a},{filter:function(t){return ya(this,t,arguments.length>1?arguments[1]:void 0)}});var ba={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ga=tt("span").classList,ma=ga&&ga.constructor&&ga.constructor.prototype,va=ma===Object.prototype?void 0:ma,xa=wn.forEach,wa=Ve("forEach")?[].forEach:function(t){return xa(this,t,arguments.length>1?arguments[1]:void 0)},Ma=function(t){if(t&&t.forEach!==wa)try{lt(t,"forEach",wa)}catch(e){t.forEach=wa}};for(var ka in ba)ba[ka]&&Ma(o[ka]&&o[ka].prototype);Ma(va);var Aa=G("isConcatSpreadable"),Ea=9007199254740991,Sa="Maximum allowed index exceeded",Ta=T>=51||!l((function(){var t=[];return t[Aa]=!1,t.concat()[0]!==t})),za=Ie("concat"),Oa=function(t){if(!v(t))return!1;var e=t[Aa];return void 0!==e?!!e:Se(t)};re({target:"Array",proto:!0,forced:!Ta||!za},{concat:function(t){var e,n,r,i,a,o=R(this),l=mn(o,0),s=0;for(e=-1,r=arguments.length;e<r;e++)if(Oa(a=-1===e?o:arguments[e])){if(s+(i=Ft(a.length))>Ea)throw TypeError(Sa);for(n=0;n<i;n++,s++)n in a&&Fe(l,s,a[n])}else{if(s>=Ea)throw TypeError(Sa);Fe(l,s++,a)}return l.length=s,l}}),gr("match",(function(t,e,n){return[function(e){var n=b(this),r=null==e?void 0:j(e,t);return r?r.call(e,n):new RegExp(e)[t](me(n))},function(t){var r=it(this),i=me(t),a=n(e,r,i);if(a.done)return a.value;if(!r.global)return Sr(r,i);var o=r.unicode;r.lastIndex=0;for(var l,s=[],c=0;null!==(l=Sr(r,i));){var u=me(l[0]);s[c]=u,""===u&&(r.lastIndex=Er(i,Ft(r.lastIndex),o)),c++}return 0===c?null:s}]}));var Ca=new Date,La=new Date;function Na(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,a){var o,l=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r&&a>0))return l;do{l.push(o=new Date(+n)),e(n,a),t(n)}while(o<n&&n<r);return l},i.filter=function(n){return Na((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Ca.setTime(+e),La.setTime(+r),t(Ca),t(La),Math.floor(n(Ca,La))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var ja=Na((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));ja.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Na((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):ja:null};var Fa=1e3,Pa=6e4,Ia=36e5,Da=864e5,Ra=6048e5;Na((function(t){t.setTime(Math.floor(t/Fa)*Fa)}),(function(t,e){t.setTime(+t+e*Fa)}),(function(t,e){return(e-t)/Fa}),(function(t){return t.getUTCSeconds()})),Na((function(t){t.setTime(Math.floor(t/Pa)*Pa)}),(function(t,e){t.setTime(+t+e*Pa)}),(function(t,e){return(e-t)/Pa}),(function(t){return t.getMinutes()})),Na((function(t){var e=t.getTimezoneOffset()*Pa%Ia;e<0&&(e+=Ia),t.setTime(Math.floor((+t-e)/Ia)*Ia+e)}),(function(t,e){t.setTime(+t+e*Ia)}),(function(t,e){return(e-t)/Ia}),(function(t){return t.getHours()}));var Ua=Na((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pa)/Da}),(function(t){return t.getDate()-1}));function Ba(t){return Na((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pa)/Ra}))}var Ha=Ba(0),Ya=Ba(1);Ba(2),Ba(3);var qa=Ba(4);Ba(5),Ba(6),Na((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));var $a=Na((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));$a.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Na((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null},Na((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Pa)}),(function(t,e){return(e-t)/Pa}),(function(t){return t.getUTCMinutes()})),Na((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Ia)}),(function(t,e){return(e-t)/Ia}),(function(t){return t.getUTCHours()}));var Wa=Na((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Da}),(function(t){return t.getUTCDate()-1}));function Va(t){return Na((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Ra}))}var Ga=Va(0),Xa=Va(1);Va(2),Va(3);var Za=Va(4);Va(5),Va(6),Na((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));var Ja=Na((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function Qa(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ka(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function to(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}Ja.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Na((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var eo,no,ro,io={"-":"",_:" ",0:"0"},ao=/^\s*\d+/,oo=/^%/,lo=/[\\^$*+?|[\]().{}]/g;function so(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function co(t){return t.replace(lo,"\\$&")}function uo(t){return new RegExp("^(?:"+t.map(co).join("|")+")","i")}function fo(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function po(t,e,n){var r=ao.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ho(t,e,n){var r=ao.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function yo(t,e,n){var r=ao.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _o(t,e,n){var r=ao.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function bo(t,e,n){var r=ao.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function go(t,e,n){var r=ao.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mo(t,e,n){var r=ao.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vo(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xo(t,e,n){var r=ao.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function wo(t,e,n){var r=ao.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Mo(t,e,n){var r=ao.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ko(t,e,n){var r=ao.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ao(t,e,n){var r=ao.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Eo(t,e,n){var r=ao.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function So(t,e,n){var r=ao.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function To(t,e,n){var r=ao.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zo(t,e,n){var r=ao.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Oo(t,e,n){var r=oo.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Co(t,e,n){var r=ao.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Lo(t,e,n){var r=ao.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function No(t,e){return so(t.getDate(),e,2)}function jo(t,e){return so(t.getHours(),e,2)}function Fo(t,e){return so(t.getHours()%12||12,e,2)}function Po(t,e){return so(1+Ua.count($a(t),t),e,3)}function Io(t,e){return so(t.getMilliseconds(),e,3)}function Do(t,e){return Io(t,e)+"000"}function Ro(t,e){return so(t.getMonth()+1,e,2)}function Uo(t,e){return so(t.getMinutes(),e,2)}function Bo(t,e){return so(t.getSeconds(),e,2)}function Ho(t){var e=t.getDay();return 0===e?7:e}function Yo(t,e){return so(Ha.count($a(t)-1,t),e,2)}function qo(t){var e=t.getDay();return e>=4||0===e?qa(t):qa.ceil(t)}function $o(t,e){return t=qo(t),so(qa.count($a(t),t)+(4===$a(t).getDay()),e,2)}function Wo(t){return t.getDay()}function Vo(t,e){return so(Ya.count($a(t)-1,t),e,2)}function Go(t,e){return so(t.getFullYear()%100,e,2)}function Xo(t,e){return so((t=qo(t)).getFullYear()%100,e,2)}function Zo(t,e){return so(t.getFullYear()%1e4,e,4)}function Jo(t,e){var n=t.getDay();return so((t=n>=4||0===n?qa(t):qa.ceil(t)).getFullYear()%1e4,e,4)}function Qo(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+so(e/60|0,"0",2)+so(e%60,"0",2)}function Ko(t,e){return so(t.getUTCDate(),e,2)}function tl(t,e){return so(t.getUTCHours(),e,2)}function el(t,e){return so(t.getUTCHours()%12||12,e,2)}function nl(t,e){return so(1+Wa.count(Ja(t),t),e,3)}function rl(t,e){return so(t.getUTCMilliseconds(),e,3)}function il(t,e){return rl(t,e)+"000"}function al(t,e){return so(t.getUTCMonth()+1,e,2)}function ol(t,e){return so(t.getUTCMinutes(),e,2)}function ll(t,e){return so(t.getUTCSeconds(),e,2)}function sl(t){var e=t.getUTCDay();return 0===e?7:e}function cl(t,e){return so(Ga.count(Ja(t)-1,t),e,2)}function ul(t){var e=t.getUTCDay();return e>=4||0===e?Za(t):Za.ceil(t)}function fl(t,e){return t=ul(t),so(Za.count(Ja(t),t)+(4===Ja(t).getUTCDay()),e,2)}function dl(t){return t.getUTCDay()}function pl(t,e){return so(Xa.count(Ja(t)-1,t),e,2)}function hl(t,e){return so(t.getUTCFullYear()%100,e,2)}function yl(t,e){return so((t=ul(t)).getUTCFullYear()%100,e,2)}function _l(t,e){return so(t.getUTCFullYear()%1e4,e,4)}function bl(t,e){var n=t.getUTCDay();return so((t=n>=4||0===n?Za(t):Za.ceil(t)).getUTCFullYear()%1e4,e,4)}function gl(){return"+0000"}function ml(){return"%"}function vl(t){return+t}function xl(t){return Math.floor(+t/1e3)}function wl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ml(t){return Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ml(t)}function kl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Al(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function El(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Al(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Al(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function Sl(t){throw new TypeError("Expected a value of type string but got a value of type "+Ml(t))}function Tl(t){return function(e){return"string"!=typeof e&&Sl(e),(e=e.trim())?t(e):null}}eo=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,s=t.shortMonths,c=uo(i),u=fo(i),f=uo(a),d=fo(a),p=uo(o),h=fo(o),y=uo(l),_=fo(l),b=uo(s),g=fo(s),m={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:No,e:No,f:Do,g:Xo,G:Jo,H:jo,I:Fo,j:Po,L:Io,m:Ro,M:Uo,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:vl,s:xl,S:Bo,u:Ho,U:Yo,V:$o,w:Wo,W:Vo,x:null,X:null,y:Go,Y:Zo,Z:Qo,"%":ml},v={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Ko,e:Ko,f:il,g:yl,G:bl,H:tl,I:el,j:nl,L:rl,m:al,M:ol,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:vl,s:xl,S:ll,u:sl,U:cl,V:fl,w:dl,W:pl,x:null,X:null,y:hl,Y:_l,Z:gl,"%":ml},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:Mo,e:Mo,f:zo,g:mo,G:go,H:Ao,I:Ao,j:ko,L:To,m:wo,M:Eo,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:xo,Q:Co,s:Lo,S:So,u:ho,U:yo,V:_o,w:po,W:bo,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:mo,Y:go,Z:vo,"%":Oo};function w(t,e){return function(n){var r,i,a,o=[],l=-1,s=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===t.charCodeAt(l)&&(o.push(t.slice(s,l)),null!=(i=io[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),s=l+1);return o.push(t.slice(s,l)),o.join("")}}function M(t,e){return function(n){var r,i,a=to(1900,void 0,1);if(k(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(e&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Ka(to(a.y,0,1))).getUTCDay(),r=i>4||0===i?Xa.ceil(r):Xa(r),r=Wa.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Qa(to(a.y,0,1))).getDay(),r=i>4||0===i?Ya.ceil(r):Ya(r),r=Ua.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Ka(to(a.y,0,1)).getUTCDay():Qa(to(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Ka(a)):Qa(a)}}function k(t,e,n,r){for(var i,a,o=0,l=e.length,s=n.length;o<l;){if(r>=s)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=x[i in io?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return m.x=w(n,m),m.X=w(r,m),m.c=w(e,m),v.x=w(n,v),v.X=w(r,v),v.c=w(e,v),{format:function(t){var e=w(t+="",m);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),no=eo.format,ro=eo.parse;var zl=new Date(1972,3,27,19,45,5),Ol={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[0])}}]};function Cl(t){return function(e){var n=null;return t.forEach((function(t){e.match(t.regex)&&(n=t.toDate(e))})),n}}function Ll(t,e){var n,r=ro(t),i=no(t);return n=Tl("function"==typeof e?function(t){return e(t,null!==r(t))}:function(t){return null!==r(t)}),Object.freeze({test:n,parse:Tl((function(e){return r(e)||(Ol[t]?Cl(Ol[t])(e):null)})),format:function(t){return i(t)},type:"datetime",description:t,id:"datetime$"+t,example:i(zl)})}var Nl=Object.freeze([Ll("%Y-%m-%dT%H:%M:%S.%LZ"),Ll("%d/%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),Ll("%d/%m/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),Ll("%m/%d/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),Ll("%m/%d/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),Ll("%Y/%m/%d",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),Ll("%d-%m-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),Ll("%d-%m-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),Ll("%m-%d-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),Ll("%m-%d-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),Ll("%Y-%m-%d",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),Ll("%d %b %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Ll("%d %B %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Ll("%d %b %y"),Ll("%d %B %y"),Ll("%d-%b-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Ll("%d-%B-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),Ll("%d-%b-%y"),Ll("%d-%B-%y"),Ll("%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>=1e3})),Ll("%m/%y"),Ll("%b %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),Ll("%B %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),Ll("%b %y"),Ll("%B %y"),Ll("%d %b",(function(t,e){return!!e||!!Cl(Ol["%d %b"])(t)})),Ll("%d %B"),Ll("%b %d",(function(t,e){return!!e||!!Cl(Ol["%b %d"])(t)})),Ll("%B %d"),Ll("%d-%m",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12})),Ll("%m-%d"),Ll("%d/%m"),Ll("%m/%d"),Ll("%Y",(function(t,e){if(!e)return!1;var n=parseFloat(t);return n>1499&&n<2200})),Ll("%B"),Ll("%b"),Ll("%X"),Ll("%I:%M %p"),Ll("%H:%M"),Ll("%H:%M:%S"),Ll("%-I%p"),Ll("Q%q %Y",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length})),Ll("%Y Q%q",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length}))]),jl=$t.f,Fl=rt.f,Pl=ot.f,Il=Rr.trim,Dl="Number",Rl=o.Number,Ul=Rl.prototype,Bl=h(rr(Ul))==Dl,Hl=function(t){if(C(t))throw TypeError("Cannot convert a Symbol value to a number");var e,n,r,i,a,o,l,s,c=Z(t,"number");if("string"==typeof c&&c.length>2)if(43===(e=(c=Il(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=c.slice(2)).length,l=0;l<o;l++)if((s=a.charCodeAt(l))<48||s>i)return NaN;return parseInt(a,r)}return+c};if(ee(Dl,!Rl(" 0o1")||!Rl("0b1")||Rl("+0x1"))){for(var Yl,ql=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof ql&&(Bl?l((function(){Ul.valueOf.call(n)})):h(n)!=Dl)?Di(new Rl(Hl(e)),n,ql):Hl(e)},$l=s?jl(Rl):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Wl=0;$l.length>Wl;Wl++)B(Rl,Yl=$l[Wl])&&!B(ql,Yl)&&Pl(ql,Yl,Fl(Rl,Yl));ql.prototype=Ul,Ul.constructor=ql,Ot(o,Dl,ql)}var Vl=function(t){for(var e=R(this),n=Ft(e.length),r=arguments.length,i=Dt(r>1?arguments[1]:void 0,n),a=r>2?arguments[2]:void 0,o=void 0===a?n:Dt(a,n);o>i;)e[i++]=t;return e},Gl=G("unscopables"),Xl=Array.prototype;null==Xl[Gl]&&ot.f(Xl,Gl,{configurable:!0,value:rr(null)});var Zl=function(t){Xl[Gl][t]=!0};function Jl(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}re({target:"Array",proto:!0},{fill:Vl}),Zl("fill");var Ql=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kl(t){if(!(e=Ql.exec(t)))throw new Error("invalid format: "+t);var e;return new ts({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ts(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Kl.prototype=ts.prototype,ts.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var es,ns=1..valueOf,rs=function(t){var e=me(b(this)),n="",r=Nt(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},is=1..toFixed,as=Math.floor,os=function(t,e,n){return 0===e?n:e%2==1?os(t,e-1,n*t):os(t*t,e/2,n)},ls=function(t,e,n){for(var r=-1,i=n;++r<6;)i+=e*t[r],t[r]=i%1e7,i=as(i/1e7)},ss=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=as(r/e),r=r%e*1e7},cs=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=String(t[e]);n=""===n?r:n+rs.call("0",7-r.length)+r}return n},us=is&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){is.call({})}));function fs(t,e){var n=Jl(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}re({target:"Number",proto:!0,forced:us},{toFixed:function(t){var e,n,r,i,a,o=(e=this,ns.call(e)),l=Nt(t),s=[0,0,0,0,0,0],c="",u="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(c="-",o=-o),o>1e-21)if(r=(n=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(o*os(2,69,1))-69)<0?o*os(2,-n,1):o/os(2,n,1),r*=4503599627370496,(n=52-n)>0){for(ls(s,0,r),i=l;i>=7;)ls(s,1e7,0),i-=7;for(ls(s,os(10,i,1),0),i=n-1;i>=23;)ss(s,1<<23),i-=23;ss(s,1<<i),ls(s,1,1),ss(s,2),u=cs(s)}else ls(s,0,r),ls(s,1<<-n,0),u=cs(s)+rs.call("0",l);return u=l>0?c+((a=u.length)<=l?"0."+rs.call("0",l-a)+u:u.slice(0,a-l)+"."+u.slice(a-l)):c+u}});var ds={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return fs(100*t,e)},r:fs,s:function(t,e){var n=Jl(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(es=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Jl(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function ps(t){return t}var hs=Array.prototype.map,ys=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _s(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?ps:(e=hs.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(t.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?ps:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(hs.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Kl(t)).fill,n=t.align,f=t.sign,d=t.symbol,p=t.zero,h=t.width,y=t.comma,_=t.precision,b=t.trim,g=t.type;"n"===g?(y=!0,g="g"):ds[g]||(void 0===_&&(_=12),b=!0,g="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var m="$"===d?i:"#"===d&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v="$"===d?a:/[%p]/.test(g)?s:"",x=ds[g],w=/[defgprs%]/.test(g);function M(t){var i,a,s,d=m,M=v;if("c"===g)M=x(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),_),b&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),d=(k?"("===f?f:c:"-"===f||"("===f?"":f)+d,M=("s"===g?ys[8+es/3]:"")+M+(k&&"("===f?")":""),w)for(i=-1,a=t.length;++i<a;)if(48>(s=t.charCodeAt(i))||s>57){M=(46===s?o+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}y&&!p&&(t=r(t,1/0));var A=d.length+t.length+M.length,E=A<h?new Array(h-A+1).join(e):"";switch(y&&p&&(t=r(E+t,E.length?h-M.length:1/0),E=""),n){case"<":t=d+t+M+E;break;case"=":t=d+E+t+M;break;case"^":t=E.slice(0,A=E.length>>1)+d+t+M+E.slice(A);break;default:t=E+d+t+M}return l(t)}return _=void 0===_?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),M.toString=function(){return t+""},M}return{format:f,formatPrefix:function(t,e){var n,r=f(((t=Kl(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor((n=e,((n=Jl(Math.abs(n)))?n[1]:NaN)/3)))),a=Math.pow(10,-i),o=ys[8+i/3];return function(t){return r(a*t)+o}}}}var bs={test:Tl((function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tl((function(t){return parseFloat(t.replace(/,/g,""))})),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},gs={test:Tl((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tl((function(t){return parseFloat(t.replace(/\s/g,""))})),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},ms={test:Tl((function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tl((function(t){return parseFloat(t)})),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},vs={test:Tl((function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tl((function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))})),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},xs={test:Tl((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tl((function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))})),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},ws={test:Tl((function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:Tl((function(t){return parseFloat(t.replace(/,/,"."))})),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},Ms=Object.freeze([bs,gs,vs,xs,ms,ws]);Ms.forEach((function(t){t.type="number",t.format=function(t){var e,n,r=_s({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]});return function(t,i){return i||(i=",.2f"),i!==n&&(n=i,e=r.format(n)),e(t)}}(t),Object.freeze(t)}));var ks,As=Object.freeze({test:function(t){return"string"==typeof t||Sl(t)},parse:function(t){return"string"==typeof t?t:Sl(t)},format:function(t){if("string"==typeof t)return t},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),Es=Object.freeze({datetime:Nl,number:Ms}),Ss=Object.freeze(["datetime","number","string"]),Ts=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),zs=Object.freeze(Object.keys(Ts));function Os(t,e){return t.index-e.index}function Cs(t,e){return e.n_success-t.n_success||Os(t,e)}function Ls(t){return(""+t).trim()}function Ns(t){return void 0===t?function(t){return Ls(t)}:"function"==typeof t?function(e,n){return Ls(t(e,n))}:function(e){return Ls(e[""+t])}}function js(t){t?Array.isArray(t)||(t=[t]):t=Ss;var e=t.reduce((function(t,e){var n=Es[e];return n&&Array.prototype.push.apply(t,n),t}),[]),n=-1!==t.indexOf("string"),r=zs.reduce((function(t,e){return t[e]=Ts[e],t}),{}),i=function(t,i){i=Ns(i);var a=t.map(i).filter((function(t){return t}));if(!a.length)return n?[As]:[];var o=Math.min(r.n_max,a.length),l=Math.floor(o*r.failure_fraction),s=r.n_failing_values,c=r.sort?Cs:Os,u=e.slice().reduce((function(t,e,n){for(var r=u=0,i=[],c=!1,u=0;u<o;u++){var f=a[u];if(!e.test(f)&&(++r>l?c=!0:-1===i.indexOf(f)&&(i.push(f),i.length>s&&(c=!0)),c))break}return c||t.push({interp:e,n_success:o-r,index:n}),t}),[]).sort(c).map((function(t){return t.interp}));return n&&u.push(As),u};return zs.forEach((function(t){var e;i[(e=t,e.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()})))]=function(e){return void 0===e?r[t]:(r[t]=e,i)}})),i}function Fs(t){var e=js.getInterpretation(t);if(!e)throw new Error("format_id ".concat(t," not recognised"));return function(){return e.format.apply(e,arguments)}}js.DATETIME_IDS=Object.freeze(Nl.map((function(t){return t.id}))),js.NUMBER_IDS=Object.freeze(Ms.map((function(t){return t.id}))),js.STRING_IDS=Object.freeze([As.id]),js.getInterpretation=(ks=Nl.concat(Ms,As).reduce((function(t,e){return t[e.id]=e,t}),{}),function(t){return ks[t]}),js._createAccessorFunction=Ns,Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});var Ps=Ut.includes;re({target:"Array",proto:!0},{includes:function(t){return Ps(this,t,arguments.length>1?arguments[1]:void 0)}}),Zl("includes");var Is=function(t){if(vr(t))throw TypeError("The method doesn't accept regular expressions");return t},Ds=G("match");function Rs(){return this.declarations=[],this}function Us(t){return this.selector=t,this.styles=[],this}re({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Ds]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~me(b(this)).indexOf(me(Is(t)),arguments.length>1?arguments[1]:void 0)}}),Rs.prototype.select=function(t){if(!t)return this;var e=new Us(t,this);return e.parent=this,this.addDeclaration(e),e},Rs.prototype.addDeclaration=function(t){return this.declarations.push(t),this},Rs.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},Rs.prototype.clear=function(){return this.declarations=[],this},Us.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},Us.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var Bs=!1;function Hs(){if(!Bs&&"undefined"!=typeof document){var t,e=((t=new Rs).select(".fl-controls-container").style("display","inline-block").style("line-height","1em"),t.select(".fl-controls-title").style("display","inline-block").style("margin-inline-end","0.5rem"),t.select(".fl-controls-container, .fl-controls-container *").style("box-sizing","border-box"),t.select(".slider-holder").style("margin-bottom","20px"),t.select(".fl-controls-slider, .slider-play").style("pointer-events","all").style("display","inline-block").style("vertical-align","middle"),t.select(".slider-play svg").style("height","100%").style("width","100%").style("display","block").style("cursor"," pointer",""),t.select(".fl-controls-slider svg").style("display","block"),t.select(".slider-play:hover").style("opacity","0.6"),t.select(".fl-control-slider").style("width","100%").style("bottom","0").style("align-items","center"),t.select(".fl-control").style("position","relative"),t.select(".fl-control.hidden").style("display","none"),t.select(".fl-control .button").style("display","inline-flex").style("align-items","center").style("background","#eee").style("padding","0 0.5em").style("margin-right","0.25em").style("margin-bottom","0.25em").style("line-height","1em").style("box-sizing","border-box"),t.select(".fl-control.grouped:not(.hidden)").style("display","inline-table").style("table-layout","fixed").select(".button").style("display","table-cell").style("vertical-align","middle").style("margin","0").style("text-align","center"),t.select(".fl-control .button.selected").style("background","#ddd"),t.select(".fl-control-dropdown").style("line-height","1em").style("position","relative"),t.select(".fl-control-dropdown::after").style("display","block").style("content","''").style("width","10px").style("height","10px").style("background","transparent").style("position","absolute").style("right","5px").style("left","auto").style("top","50%").style("pointer-events","none").style("transform","translateY(calc(-50% + 3px))").style("border-left","5px solid transparent").style("border-right","5px solid transparent").style("border-top","5px solid").style("box-sizing","border-box"),t.select(".is-rtl .fl-control-dropdown::after").style("left","5px").style("right","auto"),t.select(".fl-control-dropdown select").style("-webkit-appearance","none").style("-webkit-border-radius","0px").style("width","100%"),t.print()),n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",r.className="flourish-controls",n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)),Bs=!0}}var Ys=Object.assign,qs=Object.defineProperty,$s=!Ys||l((function(){if(s&&1!==Ys({b:1},Ys(qs({},"a",{enumerable:!0,get:function(){qs(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Ys({},t)[n]||Xn(Ys({},e)).join("")!=r}))?function(t,e){for(var n=R(t),r=arguments.length,i=1,a=Wt.f,o=f.f;r>i;)for(var l,c=_(arguments[i++]),u=a?Xn(c).concat(a(c)):Xn(c),d=u.length,p=0;d>p;)l=u[p++],s&&!o.call(c,l)||(n[l]=c[l]);return n}:Ys;function Ws(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vs(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gs(){}re({target:"Object",stat:!0,forced:Object.assign!==$s},{assign:$s});var Xs=.7,Zs=1/Xs,Js="\\s*([+-]?\\d+)\\s*",Qs="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ks="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tc=/^#([0-9a-f]{3,8})$/,ec=new RegExp("^rgb\\("+[Js,Js,Js]+"\\)$"),nc=new RegExp("^rgb\\("+[Ks,Ks,Ks]+"\\)$"),rc=new RegExp("^rgba\\("+[Js,Js,Js,Qs]+"\\)$"),ic=new RegExp("^rgba\\("+[Ks,Ks,Ks,Qs]+"\\)$"),ac=new RegExp("^hsl\\("+[Qs,Ks,Ks]+"\\)$"),oc=new RegExp("^hsla\\("+[Qs,Ks,Ks,Qs]+"\\)$"),lc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function sc(){return this.rgb().formatHex()}function cc(){return this.rgb().formatRgb()}function uc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?fc(e):3===n?new yc(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?dc(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?dc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ec.exec(t))?new yc(e[1],e[2],e[3],1):(e=nc.exec(t))?new yc(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=rc.exec(t))?dc(e[1],e[2],e[3],e[4]):(e=ic.exec(t))?dc(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ac.exec(t))?mc(e[1],e[2]/100,e[3]/100,1):(e=oc.exec(t))?mc(e[1],e[2]/100,e[3]/100,e[4]):lc.hasOwnProperty(t)?fc(lc[t]):"transparent"===t?new yc(NaN,NaN,NaN,0):null}function fc(t){return new yc(t>>16&255,t>>8&255,255&t,1)}function dc(t,e,n,r){return r<=0&&(t=e=n=NaN),new yc(t,e,n,r)}function pc(t){return t instanceof Gs||(t=uc(t)),t?new yc((t=t.rgb()).r,t.g,t.b,t.opacity):new yc}function hc(t,e,n,r){return 1===arguments.length?pc(t):new yc(t,e,n,null==r?1:r)}function yc(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function _c(){return"#"+gc(this.r)+gc(this.g)+gc(this.b)}function bc(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function gc(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function mc(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wc(t,e,n,r)}function vc(t){if(t instanceof wc)return new wc(t.h,t.s,t.l,t.opacity);if(t instanceof Gs||(t=uc(t)),!t)return new wc;if(t instanceof wc)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,l=a-i,s=(a+i)/2;return l?(o=e===a?(n-r)/l+6*(n<r):n===a?(r-e)/l+2:(e-n)/l+4,l/=s<.5?a+i:2-a-i,o*=60):l=s>0&&s<1?0:o,new wc(o,l,s,t.opacity)}function xc(t,e,n,r){return 1===arguments.length?vc(t):new wc(t,e,n,null==r?1:r)}function wc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Mc(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ws(Gs,uc,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:sc,formatHex:sc,formatHsl:function(){return vc(this).formatHsl()},formatRgb:cc,toString:cc}),Ws(yc,hc,Vs(Gs,{brighter:function(t){return t=null==t?Zs:Math.pow(Zs,t),new yc(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Xs:Math.pow(Xs,t),new yc(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_c,formatHex:_c,formatRgb:bc,toString:bc})),Ws(wc,xc,Vs(Gs,{brighter:function(t){return t=null==t?Zs:Math.pow(Zs,t),new wc(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Xs:Math.pow(Xs,t),new wc(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yc(Mc(t>=240?t-240:t+120,i,r),Mc(t,i,r),Mc(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var kc=Math.PI/180,Ac=180/Math.PI,Ec=.96422,Sc=.82521,Tc=4/29,zc=6/29,Oc=3*zc*zc;function Cc(t){if(t instanceof Nc)return new Nc(t.l,t.a,t.b,t.opacity);if(t instanceof Uc)return Bc(t);t instanceof yc||(t=pc(t));var e,n,r=Ic(t.r),i=Ic(t.g),a=Ic(t.b),o=jc((.2225045*r+.7168786*i+.0606169*a)/1);return r===i&&i===a?e=n=o:(e=jc((.4360747*r+.3850649*i+.1430804*a)/Ec),n=jc((.0139322*r+.0971045*i+.7141733*a)/Sc)),new Nc(116*o-16,500*(e-o),200*(o-n),t.opacity)}function Lc(t,e,n,r){return 1===arguments.length?Cc(t):new Nc(t,e,n,null==r?1:r)}function Nc(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function jc(t){return t>.008856451679035631?Math.pow(t,1/3):t/Oc+Tc}function Fc(t){return t>zc?t*t*t:Oc*(t-Tc)}function Pc(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ic(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Dc(t){if(t instanceof Uc)return new Uc(t.h,t.c,t.l,t.opacity);if(t instanceof Nc||(t=Cc(t)),0===t.a&&0===t.b)return new Uc(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Ac;return new Uc(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Rc(t,e,n,r){return 1===arguments.length?Dc(t):new Uc(t,e,n,null==r?1:r)}function Uc(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Bc(t){if(isNaN(t.h))return new Nc(t.l,0,0,t.opacity);var e=t.h*kc;return new Nc(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ws(Nc,Lc,Vs(Gs,{brighter:function(t){return new Nc(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Nc(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new yc(Pc(3.1338561*(e=Ec*Fc(e))-1.6168667*(t=1*Fc(t))-.4906146*(n=Sc*Fc(n))),Pc(-.9787684*e+1.9161415*t+.033454*n),Pc(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ws(Uc,Rc,Vs(Gs,{brighter:function(t){return new Uc(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Uc(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Bc(this).rgb()}}));var Hc=-.14861,Yc=1.78277,qc=-.29227,$c=-.90649,Wc=1.97294,Vc=Wc*$c,Gc=Wc*Yc,Xc=Yc*qc-$c*Hc;function Zc(t){if(t instanceof Qc)return new Qc(t.h,t.s,t.l,t.opacity);t instanceof yc||(t=pc(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Xc*r+Vc*e-Gc*n)/(Xc+Vc-Gc),a=r-i,o=(Wc*(n-i)-qc*a)/$c,l=Math.sqrt(o*o+a*a)/(Wc*i*(1-i)),s=l?Math.atan2(o,a)*Ac-120:NaN;return new Qc(s<0?s+360:s,l,i,t.opacity)}function Jc(t,e,n,r){return 1===arguments.length?Zc(t):new Qc(t,e,n,null==r?1:r)}function Qc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ws(Qc,Jc,Vs(Gs,{brighter:function(t){return t=null==t?Zs:Math.pow(Zs,t),new Qc(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Xs:Math.pow(Xs,t),new Qc(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*kc,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new yc(255*(e+n*(Hc*r+Yc*i)),255*(e+n*(qc*r+$c*i)),255*(e+n*(Wc*r)),this.opacity)}}));var Kc,tu,eu,nu={},ru=!l((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),iu=_t("IE_PROTO"),au=Object.prototype,ou=ru?Object.getPrototypeOf:function(t){var e=R(t);if(B(e,iu))return e[iu];var n=e.constructor;return m(n)&&e instanceof n?n.prototype:e instanceof Object?au:null},lu=G("iterator"),su=!1;[].keys&&("next"in(eu=[].keys())?(tu=ou(ou(eu)))!==Object.prototype&&(Kc=tu):su=!0);var cu=null==Kc||l((function(){var t={};return Kc[lu].call(t)!==t}));cu&&(Kc={}),m(Kc[lu])||Ot(Kc,lu,(function(){return this}));var uu={IteratorPrototype:Kc,BUGGY_SAFARI_ITERATORS:su},fu=ot.f,du=G("toStringTag"),pu=function(t,e,n){t&&!B(t=n?t:t.prototype,du)&&fu(t,du,{configurable:!0,value:e})},hu=uu.IteratorPrototype,yu=function(){return this},_u=zt.PROPER,bu=zt.CONFIGURABLE,gu=uu.IteratorPrototype,mu=uu.BUGGY_SAFARI_ITERATORS,vu=G("iterator"),xu="keys",wu="values",Mu="entries",ku=function(){return this},Au=function(t,e,n,r,i,a,o){!function(t,e,n){var r=e+" Iterator";t.prototype=rr(hu,{next:d(1,n)}),pu(t,r,!1),nu[r]=yu}(n,e,r);var l,s,c,u=function(t){if(t===i&&_)return _;if(!mu&&t in h)return h[t];switch(t){case xu:case wu:case Mu:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",p=!1,h=t.prototype,y=h[vu]||h["@@iterator"]||i&&h[i],_=!mu&&y||u(i),b="Array"==e&&h.entries||y;if(b&&(l=ou(b.call(new t)))!==Object.prototype&&l.next&&(ou(l)!==gu&&(Ii?Ii(l,gu):m(l[vu])||Ot(l,vu,ku)),pu(l,f,!0)),_u&&i==wu&&y&&y.name!==wu&&(bu?lt(h,"name",wu):(p=!0,_=function(){return y.call(this)})),i)if(s={values:u(wu),keys:a?_:u(xu),entries:u(Mu)},o)for(c in s)(mu||p||!(c in h))&&Ot(h,c,s[c]);else re({target:e,proto:!0,forced:mu||p},s);return h[vu]!==_&&Ot(h,vu,_,{name:i}),nu[e]=_,s},Eu="Array Iterator",Su=At.set,Tu=At.getterFor(Eu),zu=Au(Array,"Array",(function(t,e){Su(this,{type:Eu,target:g(t),index:0,kind:e})}),(function(){var t=Tu(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values");nu.Arguments=nu.Array,Zl("keys"),Zl("values"),Zl("entries");var Ou=G("iterator"),Cu=G("toStringTag"),Lu=zu.values,Nu=function(t,e){if(t){if(t[Ou]!==Lu)try{lt(t,Ou,Lu)}catch(e){t[Ou]=Lu}if(t[Cu]||lt(t,Cu,e),ba[e])for(var n in zu)if(t[n]!==zu[n])try{lt(t,n,zu[n])}catch(e){t[n]=zu[n]}}};for(var ju in ba)Nu(o[ju]&&o[ju].prototype,ju);Nu(va,"DOMTokenList");var Fu="$";function Pu(){}function Iu(t,e){var n=new Pu;if(t instanceof Pu)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function Du(){var t,e,n,r=[],i=[];function a(n,i,o,l){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var s,c,u,f=-1,d=n.length,p=r[i++],h=Iu(),y=o();++f<d;)(u=h.get(s=p(c=n[f])+""))?u.push(c):h.set(s,[c]);return h.each((function(t,e){l(y,e,a(t,i,o,l))})),y}function o(t,n){if(++n>r.length)return t;var a,l=i[n-1];return null!=e&&n>=r.length?a=t.entries():(a=[],t.each((function(t,e){a.push({key:e,values:o(t,n)})}))),null!=l?a.sort((function(t,e){return l(t.key,e.key)})):a}return n={object:function(t){return a(t,0,Ru,Uu)},map:function(t){return a(t,0,Bu,Hu)},entries:function(t){return o(a(t,0,Bu,Hu),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function Ru(){return{}}function Uu(t,e,n){t[e]=n}function Bu(){return Iu()}function Hu(t,e,n){t.set(e,n)}function Yu(){}Pu.prototype=Iu.prototype={constructor:Pu,has:function(t){return Fu+t in this},get:function(t){return this[Fu+t]},set:function(t,e){return this[Fu+t]=e,this},remove:function(t){var e=Fu+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Fu&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Fu&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Fu&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Fu&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Fu&&++t;return t},empty:function(){for(var t in this)if(t[0]===Fu)return!1;return!0},each:function(t){for(var e in this)e[0]===Fu&&t(this[e],e.slice(1),this)}};var qu=Iu.prototype;function $u(t,e){var n=new Yu;if(t instanceof Yu)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}Yu.prototype=$u.prototype={constructor:Yu,has:qu.has,add:function(t){return this[Fu+(t+="")]=t,this},remove:qu.remove,clear:qu.clear,values:qu.keys,size:qu.size,empty:qu.empty,each:qu.each};var Wu,Vu,Gu=(Wu=document.createElement("canvas").getContext("2d"),function(t,e){return Wu.font=e||"10px sans-serif",Wu.measureText(t).width});function Xu(t,e,n){var r,i,a,o,l,s={},c=ji(n).append("div").attr("class","fl-control fl-control-slider").style("flex","1"),u=c.append("div").attr("class","slider-play").attr("role","button").attr("aria-label","play-button").attr("cursor","pointer").attr("tabindex",0),f=c.append("div").attr("class","fl-controls-slider").style("display","none").style("align-items","center"),d=null,p=f.append("input").attr("type","range").attr("id","slider-range").attr("name","slider-range").attr("value",0),h=f.append("label").attr("class","slider-label").attr("for","slider-range"),y=function(){clearTimeout(d),d=null},_=function(e){var n=a[e];n.options_index!==t.index()&&(t.index(n.options_index),t.trigger("change"))},b=function(){y(),c.classed("playing",!1),u.html(r).attr("aria-label","play-button"),t._isPlaying_(!1),l=!1},g=function n(){var r=t.getSortedIndex(),i=o[r],a=t.n_options-1,l=r<a?r+1:0;d=setTimeout((function(){_(l),e.slider_loop||l<a?n():b()}),i)},m=function(){c.classed("playing",!0),u.html(i).attr("aria-label","pause-button"),g(),t._isPlaying_(!0),l=!0};u.on("click",(function(){null===d?m():b()})).on("keyup",(function(){"Space"!==wi.code&&"Enter"!==wi.code||(wi.preventDefault(),null===d?m():b())}));var v=function(){return c.style("display","inline-flex"),r='<svg aria-hidden="true" width="25px" height="30px" viewBox="0 0 25 30"> <polygon stroke="none" points="25 15 0 30 0 0"></polygon> </svg>',i='<svg aria-hidden="true" width="26px" height="30px" viewBox="0 0 26 30"> <g stroke="none" stroke-width="1"quarter><rect x="2" y="2" width="9" height="26"></rect> <rect x="15" y="2" width="9" height="26"></rect> </g> </svg>',u.html(d?i:r),s},x=function(){return b(),c.style("display","none"),s};return s.show=v,s.hide=x,s.update=function(n,r){if(f.style("display","flex"),a=n,!t.n_options||"slider"!==e.control_type)return x(),s;r?v():x();var i=t.n_options,c=e.slider_loop;o=a.map((function(t,n){return 1e3*(e.slider_step_time+(c&&n===i-1?e.slider_restart_pause:0))}));var u=t.getSortedIndex(),w=a[u],M=a[0].display,k=a[a.length-1].display;return p.attr("min",0).attr("max",i-1).attr("step",1).attr("aria-valuenow",w.display).attr("aria-valuemin",M).attr("aria-valuemax",k).on("input",(function(){var t=null!==d;t&&y(),_(this.value),t&&g()})),p.node().value=u,h.html(w.display),t._isPlaying_()&&!l?m():!t._isPlaying_()&&l&&b(),s},s}var Zu=Object.freeze({alignment:"start",controls_spacing:1});function Ju(t){for(var e in this._state=t,Zu)void 0===this._state[e]&&(this._state[e]=Zu[e]);return this}Ju.prototype.appendTo=function(t){return this._container=ji(t).append("div").node(),this},Ju.prototype.add=function(t){return this._controls=Array.isArray(t)?t:[t],this._controls.forEach((function(t){t&&"function"==typeof t.appendTo?t.appendTo(this._container):console.warn("Please pass valid controls instances to .add()")}),this),this},Ju.prototype.update=function(){this._controls.forEach((function(t){t&&"function"==typeof t.update&&t.update()}));var t=this._state.alignment,e="center"==t?t:"flex-"+t,n=window.template||void 0,r=n?n.state.layout:void 0,i=r&&r.read_direction||ji("body").node().dir||"ltr",a=t;"rtl"===i&&"center"!==t&&(a="start"===t?"end":"start"),ji(this._container).classed("is-rtl","rtl"==i).style("display","flex").style("flex-wrap","wrap").style("justify-content",e);var o,l,s=ji(this._container).selectAll(".fl-controls-container"),c=this._state.controls_spacing;switch(a){case"end":o=c+"em",l=0;break;case"center":o=.5*c+"em",l=.5*c+"em";break;default:o=0,l=c+"em"}return s.style("margin-left",o).style("margin-right",l),this};var Qu,Ku=Object.freeze({control_type:"dropdown",control_title:"",dropdown_width_mode:"auto",dropdown_width_fixed:20,button_group:!0,button_group_width_mode:"auto",button_group_width_fixed:20,slider_width:15,slider_handle_height:1,slider_track_height:.2,slider_margin:4.5,slider_play_button:!0,slider_step_time:2,slider_loop:!0,slider_restart_pause:0,sort:!1,_index_:null,_is_playing_:!1});function tf(t){return t}function ef(t){return null==t?"":t.toString()}function nf(t){var e={},n=tf,r=ef,i=[],a=!0,o=[],l=[],s=[],c=document.createElement("div");c.setAttribute("class","fl-controls-container");var u=ji(c).append("div").attr("class","fl-controls-title"),f=function(t,e,n){var r={},i=ji(n).append("div").attr("class","fl-control fl-control-dropdown").style("display","none"),a=i.append("select").on("change",(function(){var e=a.select("option:checked").datum().options_index;t.index(e),t.trigger("change")})),o=function(t){var r="100%";"auto"==e.dropdown_width_mode?r=Math.min(t+40,Vu(20))+Vu(1)+"px":"fixed"==e.dropdown_width_mode&&(r=Vu(e.dropdown_width_fixed)+"px"),n.style.width="full"==e.dropdown_width_mode?r:"",i.style("width",r).style("display","full"!==e.dropdown_width_mode?"inline-table":null)},l=function(){i.style("display","none")};return r.show=o,r.hide=l,r.update=function(n,i){var s=window.getComputedStyle(a.node()).fontSize;if(!t.n_options||"dropdown"!==e.control_type)return l(),r;var c=a.selectAll("option").data(n,(function(t){return t.value}));c.exit().remove();var u=c.enter().append("option").text((function(t){return t.display})).attr("value",(function(t){return t.value})),f=0,d=s+" sans-serif";return"auto"===e.dropdown_width_mode&&c.merge(u).each((function(t){var e=Gu(t.display,d);f=Math.max(f,e)})),a.node().value=t.value(),i?o(f):l(),r},r}(e,t,c),d=function(t,e,n){var r={},i=ji(n).append("div").attr("class","fl-control fl-control-buttons"),a=function(){i.classed("hidden",!1)},o=function(){i.classed("hidden",!0)};return r.show=a,r.hide=o,r.update=function(n,l){if(!t.n_options||"buttons"!==e.control_type)return o(),r;var s=t.index();i.classed("grouped",e.button_group),i.classed("fixed-width","fixed"==e.button_group_width_mode||"full"==e.button_group_width_mode),i.style("width",e.button_group&&"fixed"==e.button_group_width_mode?Vu(e.button_group_width_fixed)+"px":"full"==e.button_group_width_mode?"100%":null);var c=function(e){var n=e.options_index;n!==t.index()&&(t.index(n),t.trigger("change"))},u=i.selectAll(".button").data(n,(function(t){return t.display})),f=u.enter().append("div").attr("class","button").style("cursor","pointer").attr("role","button").attr("tabindex",0).on("click",(function(t){c(t)})).on("keyup",(function(t){"Space"!==wi.code&&"Enter"!==wi.code||(wi.preventDefault(),c(t))}));f.append("span").text((function(t){return t.display})),u.merge(f).classed("selected",(function(t){return t.options_index===s})).attr("aria-pressed",(function(t){return t.options_index===s})),u.exit().remove(),l?a():o()},r}(e,t,c),p=Xu(e,t,c);for(var h in Ku)void 0===t[h]&&(t[h]=Ku[h]);var y=t._index_;e.appendTo=function(t){return Hs(),ji(t).node().appendChild(c),e};e.remove=function(){return c.parentElement&&c.parentElement.removeChild(c),e},e.options=function(t){if(void 0===t)return o.slice();if(!Array.isArray(t))return e;var n=(o=t.slice()).length,r=_();return n?(null===r||r>=n)&&_(0):_(null),e},Object.defineProperty(e,"n_options",{get:function(){return o.length}});var _=function(n){return void 0===n?(t._is_playing_||(y=t._index_),y):(null===n||function(t){return o.length&&t>=0&&t<o.length}(n)?(y=n,t._is_playing_||(t._index_=y)):console.warn("Invalid index, ignoring update call"),e)};e.index=_,e.getSortedIndex=function(){var e,n=_();return"unsorted"==t.sort?n:(l.some((function(t,r){if(t.options_index===n)return e=r,!0})),e)},e.value=function(t){if(void 0===t)return o[_()];var n=o.indexOf(t);return-1!==n&&_(n),e},e.on=function(t,n){return"change"===t&&s.push(n.bind(e)),e},e.parse=function(t){return void 0===t?n:(n=null===t?tf:t,e)},e.format=function(t,n){if(void 0===t)return r;if(null===t&&(r=ef),"string"==typeof t)try{r=Fs(t)}catch(t){r=ef,console.warn(t.message)}else r=t;return n&&Array.isArray(n)&&(i=n),e},e.visible=function(t){return void 0===t?a:(a=null===t||t,e)},e.update=function(){return function(){var t=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;Vu=function(e){return e*t}}(),l=function(t,e,n,r,i){var a=t.map((function(t,e){return{value:t,options_index:e,parsed:n(t),display:i.includes(t)?t:r(t)}}));return e?a.sort((function(t,e){return function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}(t.parsed,e.parsed)})):a}(o,t.sort,n,r,i),function(e){c.style.display=e.length>1?"flex":"none",c.style.width="",c.style.alignItems="center",u.node().innerHTML=t.control_title,u.node().style.display=""===t.control_title?"none":"inline-block",p.update(e,a),f.update(e,a),d.update(e,a)}(l),e},e.trigger=function(t){return"change"===t&&function(){var t=_(),e=o[t];s.forEach((function(n){n(e,t)}))}(),e},e.getNode=function(){return c};return e._isPlaying_=function(e){if(void 0===e)return t._is_playing_;t._is_playing_=!!e,e||_(y)},e}function rf(){var t="";["mobile_big","tablet","desktop","big_screen"].forEach((function(e){var n="@media(min-width: "+Nf["breakpoint_"+e]+"px) {\n",r="html { font-size:"+Nf["font_size_"+e]+"%; }";t+=n+r+"\n}\n\n"}));var e="html { \n font-size:"+Nf.font_size_mobile_small+"%; \n -webkit-font-smoothing: antialiased; \n -moz-osx-font-smoothing: auto; } \n\n\n";Qu.innerHTML=e+t;var n=[Nf.body_font,Nf.title_font,Nf.subtitle_font,Nf.footer_font];n.forEach((function(t){if(t){for(var e=!1,n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){n[r].href==t.url&&(e=!0)}if(!e){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href",t.url),i.className="layout-font",document.head.appendChild(i)}}}));for(var r=document.head.querySelectorAll("link.layout-font"),i=0;i<r.length;i++){var a=r[i],o=!1;n.forEach((function(t){t&&t.url==a.href&&(o=!0)})),o||a.parentElement.removeChild(a)}document.body.style.fontFamily=Nf.body_font.name}var af,of,lf,sf,cf,uf,ff,df,pf,hf,yf,_f,bf,gf,mf,vf=Object.freeze({"stack-default":["header","controls","primary","footer"],"stack-2":["primary","header","controls","footer"],"stack-3":["header","primary","controls","footer"],"stack-4":["controls","primary","header","footer"]});function xf(t){return window.innerWidth!==af&&(af=window.innerWidth,of=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*of}function wf(t){return"justify"==t?"":"left"==t?"start":"right"==t?"end":"center"==t?"center":void 0}function Mf(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function kf(){var t="top"==Nf.header_border||"top_and_bottom"==Nf.header_border,e="bottom"==Nf.header_border||"top_and_bottom"==Nf.header_border;lf.style.textAlign=wf(Nf.header_align),lf.style.margin=0,lf.style.borderTop=t?Nf.header_border_width+"px "+Nf.header_border_style+" "+Nf.header_border_color:null,lf.style.borderBottom=e?Nf.header_border_width+"px "+Nf.header_border_style+" "+Nf.header_border_color:null,lf.style.paddingTop=t?Nf.header_border_space+"rem":"",lf.style.paddingBottom=e?Nf.header_border_space+"rem":"",sf.innerHTML=Nf.title?Nf.title:"",sf.style.fontFamily=Nf.title_font?Nf.title_font.name:"inherit",sf.style.fontSize=("custom"!=Nf.title_size?Nf.title_size:Nf.title_size_custom)+"rem",sf.style.lineHeight=Nf.title_line_height,sf.style.fontWeight=Nf.title_weight,sf.style.color=Nf.title_color||Nf.font_color,sf.style.margin=0,sf.style.paddingTop=Nf.title?("custom"==Nf.title_space_above?Nf.title_space_above_custom:Nf.title_space_above)+"rem":0,cf.innerHTML=Nf.subtitle?Nf.subtitle:"",cf.style.fontFamily=Nf.subtitle_font?Nf.subtitle_font.name:"inherit",cf.style.fontSize=("custom"!=Nf.subtitle_size?Nf.subtitle_size:Nf.subtitle_size_custom)+"rem",cf.style.lineHeight=Nf.subtitle_line_height,cf.style.fontWeight=Nf.subtitle_weight,cf.style.color=Nf.subtitle_color||Nf.font_color,cf.style.margin=0,cf.style.paddingTop=Nf.subtitle?("custom"==Nf.subtitle_space_above?Nf.subtitle_space_above_custom:Nf.subtitle_space_above)+"rem":0,uf.innerHTML=Nf.header_text?Nf.header_text:"",uf.style.fontSize=("custom"!=Nf.header_text_size?Nf.header_text_size:Nf.header_text_size_custom)+"rem",uf.style.lineHeight=Nf.header_text_line_height,uf.style.fontWeight=Nf.header_text_weight,uf.style.margin=0,uf.style.color=Nf.header_text_color||Nf.font_color,uf.style.paddingTop=Nf.header_text?("custom"==Nf.header_text_space_above?Nf.header_text_space_above_custom:Nf.header_text_space_above)+"rem":0,ff.style.clear="both",df.innerHTML="",Nf.header_logo_enabled&&Nf.header_logo_src&&((pf=document.createElement("img")).className="flourish-header-logo",pf.src=Mf(Nf.header_logo_src),pf.alt="",pf.style.position="inside"==Nf.header_logo_align?"":"fixed",pf.style.height=Nf.header_logo_height+"rem",pf.style.top="outside"==Nf.header_logo_align?0:"",pf.style.left="outside"==Nf.header_logo_align&&"left"==Nf.header_logo_position_outside?0:"",pf.style.right="outside"==Nf.header_logo_align&&"right"==Nf.header_logo_position_outside?0:"",pf.style.marginTop=Nf.header_logo_margin_top+"rem",pf.style.marginBottom=Nf.header_logo_margin_bottom+"rem",pf.style.marginLeft=Nf.header_logo_margin_left+"rem",pf.style.marginRight=Nf.header_logo_margin_right+"rem",pf.style.float="top"==Nf.header_logo_position_inside||"outside"==Nf.header_logo_align?"":Nf.header_logo_position_inside,pf.style.width="auto",Nf.header_logo_link_url?((hf=document.createElement("a")).target="_blank",hf.appendChild(pf),df.appendChild(hf),pf.style.cursor="pointer",hf.href=Mf(Nf.header_logo_link_url)):df.appendChild(pf))}var Af=!1;function Ef(){var t;return(t=document.createElement("style")).type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t),(yf=document.createElement("footer")).className="flourish-footer",(_f=document.createElement("div")).className="flourish-footer-text",(bf=document.createElement("div")).className="flourish-footer-logo-container",yf.appendChild(_f),yf.appendChild(bf),yf}function Sf(){return Nf.background_color_enabled&&!function(t){if(t){var e=uc(t);return Math.round(299*e.r+587*e.g+114*e.b)/1e3>195}console.warn("No valid color",t)}(Nf.background_color)}function Tf(){var t=Nf.footer_logo_src?Nf.footer_logo_src:"";return Nf.footer_logo_src_light&&Sf()&&(t=Nf.footer_logo_src_light),t}function zf(){return Nf.footer_logo_enabled&&Tf()}function Of(){var t=[{name:Nf.source_name,url:Nf.source_url},{name:Nf.multiple_sources?Nf.source_name_2:"",url:Nf.multiple_sources?Nf.source_url_2:""},{name:Nf.multiple_sources?Nf.source_name_3:"",url:Nf.multiple_sources?Nf.source_url_3:""}].filter((function(t){return t.name||t.url}));Af=t.length>0||Nf.footer_note||Nf.footer_note_secondary||zf();var e,n="top"==Nf.footer_border||"top_and_bottom"==Nf.footer_border,r="bottom"==Nf.footer_border||"top_and_bottom"==Nf.footer_border;yf.style.display="flex",yf.style.height=Af?null:0,yf.style.width="100%",yf.style.paddingTop=n?Nf.footer_border_space+"rem":"",yf.style.paddingBottom=r?Nf.footer_border_space+"rem":"",yf.style.borderTop=n?Nf.footer_border_width+"px "+Nf.footer_border_style+" "+Nf.footer_border_color:"",yf.style.borderBottom=r?Nf.footer_border_width+"px "+Nf.footer_border_style+" "+Nf.footer_border_color:"",yf.style.fontFamily=Nf.footer_font?Nf.footer_font.name:"inherit",yf.style.fontWeight=Nf.footer_text_weight,yf.style.justifyContent="justify"==(e=Nf.footer_align)?"space-between":"left"==e?"flex-start":"right"==e?"flex-end":"center"==e?"center":void 0,yf.style.fontSize=Nf.footer_text_size+"rem",yf.style.color=Nf.footer_text_color||Nf.font_color,yf.style.alignItems=Nf.footer_align_vertical;var i=document.createElement("span");t.forEach((function(t,e){var n=document.createElement("p");if(e>0&&(n.innerText=", "),t.url){var r=document.createElement("a");r.innerText=t.name||t.url,r.href=Mf(t.url),r.target="_blank",n.appendChild(r)}else n.innerText+=t.name||t.url;i.innerHTML+=n.innerHTML})),_f.style.order="left"==Nf.footer_logo_order?2:"",_f.style.textAlign=wf(Nf.footer_align);var a="<p>";a+=""!==i.innerHTML?Nf.source_label+" "+i.innerHTML:"",a+=Nf.footer_note?(""!==i.innerHTML?" • ":"")+Nf.footer_note:"",a+="</p>",a+=Nf.footer_note_secondary?"<br /><p>"+Nf.footer_note_secondary+"</p>":"",_f.innerHTML=a,bf.innerHTML="",zf()&&((gf=document.createElement("img")).className="flourish-footer-logo",gf.src=Mf(Tf()),gf.alt="",gf.style.height=Nf.footer_logo_height+"rem",gf.style.marginRight="left"==Nf.footer_logo_order?Nf.footer_logo_margin+"rem":"",gf.style.marginLeft="right"==Nf.footer_logo_order?Nf.footer_logo_margin+"rem":"",gf.style.verticalAlign=Nf.footer_align_vertical,gf.style.display=zf()?"":"none",Nf.footer_logo_link_url?((mf=document.createElement("a")).target="_blank",mf.appendChild(gf),bf.appendChild(mf),gf.style.cursor="pointer",mf.href=Mf(Nf.footer_logo_link_url)):bf.appendChild(gf))}function Cf(){rf(),kf(),Of(),document.body.style.backgroundColor=Nf.background_color_enabled?Nf.background_color:"transparent",document.body.style.backgroundImage=Nf.background_image_enabled?"url("+Nf.background_image_src+")":"",document.body.style.backgroundSize=Nf.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=Nf.background_image_position;var t=If.wrapper.style;t.height="100vh",t.color=Nf.font_color,t.maxWidth="wrapper"==Nf.max_width_target?Nf.max_width+"px":"",t.marginLeft="wrapper"==Nf.max_width_target&&"left"!=Nf.max_width_align?"auto":"",t.marginRight="wrapper"==Nf.max_width_target&&"right"!=Nf.max_width_align?"auto":"",t.padding=Nf.margin_top+"rem "+Nf.margin_right+"rem "+Nf.margin_bottom+"rem "+Nf.margin_left+"rem",t.borderTop=Nf.border.enabled?Nf.border.top.width+"px "+Nf.border.top.style+" "+Nf.border.top.color:"",t.borderRight=Nf.border.enabled?Nf.border.right.width+"px "+Nf.border.right.style+" "+Nf.border.right.color:"",t.borderBottom=Nf.border.enabled?Nf.border.bottom.width+"px "+Nf.border.bottom.style+" "+Nf.border.bottom.color:"",t.borderLeft=Nf.border.enabled?Nf.border.left.width+"px "+Nf.border.left.style+" "+Nf.border.left.color:"";var e=If.primary.outer.style,n=If.legend.outer.style,r=parseFloat(e.order)>parseFloat(n.order)?"above":"below";vf[Nf.layout_order].forEach((function(t,e){If[t].outer.style.order=10*e})),e.flex="1 1 auto",e.height=null,ed(r),n.textAlign=wf(Nf.header_align),If.controls.outer.style.textAlign=wf(Nf.header_align),If.primary.outer.style.maxWidth="primary"==Nf.max_width_target?Nf.max_width+"px":"",If.primary.outer.style.marginLeft="primary"==Nf.max_width_target&&"left"!=Nf.max_width_align?"auto":"",If.primary.outer.style.marginRight="primary"==Nf.max_width_target&&"right"!=Nf.max_width_align?"auto":"";var i=Nf.screenreader_hide_primary&&""!=Nf.screenreader_text_primary;document.getElementById("fl-layout-primary-description").innerText=Nf.screenreader_hide_primary?Nf.screenreader_text_primary:"",i?If.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):If.primary.outer.removeAttribute("aria-describedBy"),Nf.screenreader_hide_primary?If.primary.inner.setAttribute("aria-hidden",!0):If.primary.inner.removeAttribute("aria-hidden"),Nf.screenreader_label?Bf().setAttribute("aria-label",Nf.screenreader_label):Bf().removeAttribute("aria-label");var a=("custom"==Nf.space_between_sections?Nf.space_between_sections_custom:Nf.space_between_sections)/2+"rem";Pf.map((function(t){var e=If[t],n=e.outer.style;return{name:t,height:Rf(e.inner),order:parseFloat(n.order),style:n}})).sort((function(t,e){return t.order-e.order})).filter((function(t){if(t.height)return!0;t.style.paddingBottom="",t.style.paddingTop=""})).forEach((function(t,e,n){t.style.paddingTop=e?a:"",t.style.paddingBottom=e<n.length-1?a:""})),document.body.setAttribute("dir",Nf.read_direction),If.wrapper.setAttribute("dir",Nf.read_direction),document.getElementById("fl-layout-wrapper-outer").setAttribute("dir","ltr")}var Lf=Object.freeze({body_font:{name:"Source Sans Pro",url:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},title_font:null,subtitle_font:null,footer_font:null,read_direction:"ltr",border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_link_url:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",screenreader_hide_primary:!0,screenreader_text_primary:"",screenreader_label:""});var Nf;function jf(t,e){rf(),t=t||window.template.update;var n=setTimeout(t,isNaN(e)?500:e);document.fonts&&document.fonts.ready.then((function(e){e.size&&(clearTimeout(n),t()),document.fonts.addEventListener("loadingdone",(function(){clearTimeout(n),t()}))})).catch((function(t){console.log("Error loading fonts",t)}))}var Ff,Pf=["header","controls","legend","primary","footer"],If={};function Df(t){return t.getBoundingClientRect().width}function Rf(t){return t.getBoundingClientRect().height}function Uf(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var i=document.createElement("div");return i.className="fl-layout-inner",i.id=n,i.style.width="100%",i.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),"controls"!=t&&"legend"!=t||i.setAttribute("aria-hidden",!0),r.appendChild(i),If.wrapper.appendChild(r),{outer:r,inner:i}}function Bf(){return If.wrapper}function Hf(){return If.sidebar}function Yf(t){return-1!==Pf.indexOf(t)?If[t].inner:null}function qf(t){return If[t]||void 0===t?Df("wrapper"==t||void 0===t?If.wrapper:If[t].outer):null}function $f(t){return If[t]||void 0===t?"wrapper"==t||void 0===t?Df(If.wrapper)-Qf("horizontal")-Kf("horizontal"):Df(If[t].inner):null}function Wf(t){return If[t]||void 0===t?Rf("wrapper"==t||void 0===t?If.wrapper:If[t].outer):null}function Vf(t){return If[t]||void 0===t?"wrapper"==t||void 0===t?Rf(If.wrapper)-Qf("vertical")-Kf("vertical"):Rf(If[t].inner):null}function Gf(){return Rf(If.primary.outer)-Zf(If.primary.outer)}function Xf(){return Df(If.primary.inner)}function Zf(t){return(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function Jf(){return function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return t>999?650:t>599?575:400}()-Qf("vertical")-Kf("vertical")-["header","controls","legend","footer"].reduce((function(t,e){return t+Wf(e)}),0)-Zf(If.primary.outer)}function Qf(t){var e;return"left"==t?e=Nf.margin_left:"right"==t?e=Nf.margin_right:"top"==t?e=Nf.margin_top:"bottom"==t?e=Nf.margin_bottom:"horizontal"==t?e=Nf.margin_left+Nf.margin_right:"vertical"==t&&(e=Nf.margin_top+Nf.margin_bottom),xf(e)}function Kf(t){return Nf.border.enabled?"vertical"==t?Nf.border.top.width+Nf.border.bottom.width:"horizontal"==t?Nf.border.left.width+Nf.border.right.width:null:0}function td(t){var e=If.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)e.inner.style.height="";else{var n=null===t,r=n?Jf():t;r+Zf(If.primary.outer)!==parseFloat(e.outer.style.height)&&(If.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:Wf()))}}function ed(t){var e=parseFloat(If.primary.outer.style.order);If.legend.outer.style.order=e+1*("below"===t.trim().toLowerCase()?1:-1)}function nd(t){var e=Ff.querySelector(".fl-layout-overlay-message");if(t){Ff.style.display="block";var n="string"==typeof t?t:"Your web browser does not support the features used by this content. Consider updating to a modern browser.";e.innerHTML=n}else e.textContent="",Ff.style.display="none"}function rd(){return Ff}function id(t){for(var e in Nf=t,Lf)void 0===Nf[e]&&(Nf[e]=Lf[e]);return(Qu=document.createElement("style")).id="flourish-page-styles",Qu.type="text/css",document.head.appendChild(Qu),If.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",If.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),Pf.forEach((function(t,e){If[t]=Uf(t,e)})),Yf("header").appendChild(function(){(lf=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return sf=document.createElement("h1"),cf=document.createElement("h2"),uf=document.createElement("p"),(ff=document.createElement("div")).className="clearfix",(df=document.createElement("div")).className="flourish-header-logo-container",lf.appendChild(df),lf.appendChild(t),t.appendChild(sf),t.appendChild(cf),lf.appendChild(uf),lf.appendChild(ff),lf}()),Yf("footer").appendChild(Ef()),If.primary.outer.style.overflow="hidden",function(){var t=If.primary.outer;t.style.position="relative",(Ff=document.createElement("div")).id="fl-layout-overlay";var e=Ff.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",Ff.appendChild(n),t.appendChild(Ff)}(),{update:Cf,getWrapper:Bf,getSidebar:Hf,getSection:Yf,getOuterWidth:qf,getInnerWidth:$f,getOuterHeight:Wf,getInnerHeight:Vf,getPrimaryHeight:Gf,getPrimaryWidth:Xf,getDefaultPrimaryHeight:Jf,setHeight:td,setLegendPosition:ed,showOverlay:nd,remToPx:xf,getOverlay:rd,awaitFonts:jf}}function ad(t){var e,n;return window.innerWidth!==e&&(e=window.innerWidth,n=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*n}var od=function(){var t=document.createElement("canvas").getContext("2d");return function(e,n){t.font=n||"10px sans-serif";var r=t.measureText(e);return{width:r.width,height:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent}}}();function ld(t,e){return od(t,e).width}function sd(){return window.getComputedStyle(document.body).direction||"ltr"}function cd(t,e){var n=function(t,e){if("string"!=typeof t)return!1;var n=uc(t);return n.opacity=void 0!==e?e:1,n}(t,e);return!!n&&n.toString()}var ud,fd,dd={aggregation_type:"Sum",hierarchy_layout:"treemap",color:{},stroke_color:null,label_color:"#ffffff",axis_label_color:null,radial_tree_link_color:"#dddddd",legend_mode:"off",legend_container:{},legend_categorical:{title_mode:"custom",max_width:100},legend_position:"above",cellPadding:"low",num_of_visible_levels:2,auto_set_height:!0,treemap_aspect_ratio_narrow:100,treemap_aspect_ratio_normal:66,responsive_narrow_breakpoint:500,label_size:1,min_label_size:.5,max_label_size:1.5,label_padding:.3,multi_line_labels:!0,label_case:"topUpperCase",label_weight:"topBold",value_labels_bold:!0,sort_by:"value",treemap_type:"treemapBinary",treemap_ratio:2,sunburst_inner_radius:33,sunburst_outer_radius:100,sunburst_show_zoomed_node_in_center:!0,sunburst_depth_fade:.75,sunburst_labelling:"auto",bar_min_bar_thickness:30,bar_max_bar_thickness:50,bar_bar_padding:10,bar_axis_label_size:1,bar_axis_labels_above:!0,bar_max_value:null,bar_axis_label_space:8,bar_show_value_label:!0,bar_value_label_space:6,radial_tree_outer_radius:60,radial_tree_bar_length:20,radial_tree_bar_width:40,radial_tree_rotation:0,radial_tree_show_values:!0,popup:{},popup_show_title:!1,popup_separator:">",popup_title:"",popup_hide_value:!1,popup_active_levels:"all_levels",filter:null,size_by:null,controls_container:{},filter_control:{},filter_control_visibility:"always",size_by_control:{},size_by_control_visibility:"always",controls_padding:0,filter_include_all:!0,filter_all_label:"All",controls_style:{},dropdown_style:{},button_style:{},slider_style:{},ascend_button_visibility:"always",animation_duration:1,zoom_out_button_color:"#f3f3f3",zoom_out_arrow_color:"#000000",zoomed_node_id:null,localization:{},number_formatter:{},layout:{},url_state:{}};function pd(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var hd,yd=(1===(hd=pd).length&&(hd=function(t){return function(e,n){return pd(t(e),n)}}(hd)),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;hd(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;hd(t[i],e)>0?r=i:n=i+1}return n}}),_d=yd.right;function bd(t){return null===t?NaN:+t}function gd(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n>=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}function md(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var vd=Math.sqrt(50),xd=Math.sqrt(10),wd=Math.sqrt(2);function Md(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=vd?10:a>=xd?5:a>=wd?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=vd?10:a>=xd?5:a>=wd?2:1)}function kd(t,e,n){if(null==n&&(n=bd),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function Ad(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n>=n)for(r=n;++a<i;)null!=(n=t[a])&&n>r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n>r&&(r=n);return r}var Ed="0.2em";function Sd(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}var Td=0,zd=Object.freeze({show_legend:!0,title_mode:"auto",title:"",max_width:25,swatch_width:.75,swatch_height:1,swatch_radius:3,legend_items_padding:.5,icon_height:1,icon_color:"#777777",order_override:"",orientation:"horizontal"});function Od(t){for(var e in this._state=t,zd)void 0===this._state[e]&&(this._state[e]=zd[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_items=[],this._filtered_items=[],this._eventListeners=[],this._id="fl-legend-discrete-color-"+Td,this._visible=!0,this._auto_title="",this._container=ji(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id),this._container.append("p").attr("class","fl-legend-title"),Td++,this}function Cd(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Ld(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}Od.prototype.appendTo=function(t){if(t.appendChild(this._container.node()),!document.querySelector("#legend-styles")){var e=document.createElement("style"),n=new Rs;n.select(".fl-legend-container.interactive .fl-legend-item:hover").style("opacity",.75).style("cursor","pointer"),e.id="legend-styles",e.type="text/css",e.innerHTML=n.print(),document.head.appendChild(e)}return this},Od.prototype.format=function(t){return this._formatFunction=t,this},Od.prototype.getContainer=function(){return this._container},Od.prototype.visible=function(t){return void 0===t?this._visible:(this._visible=t,this)},Od.prototype.autoTitle=function(t){return void 0===t?this._auto_title:(this._auto_title=t,this)},Od.prototype._updateTitle=function(){var t=this,e="auto"==t._state.title_mode?t.autoTitle():t._state.title;this._container.select(".fl-legend-title").text(e).style("display",(function(){return e.trim()?void 0===t._state.orientation||"horizontal"==t._state.orientation?"inline-block":"block":"none"})).style("padding-inline-start",0).style("padding-inline-end",Ed)},Od.prototype.data=function(t,e){return this._colorFunction=e,t||e?(e?Array.isArray(t)?this._legend_items=t.slice().map((function(t,n){var r="object"==Ml(t)?t.label||"":t;return r?{label:r,color:e(r),index:n}:null})).filter((function(t){return null!==t})):this._legend_items=[]:this._legend_items=Array.isArray(t)?t.slice():[],this):this._legend_items.slice()},Od.prototype.filtered=function(t){return t?(this._filtered_items=Array.isArray(t)?t.slice():[],this):this._filtered_items.slice()},Od.prototype.on=function(t,e){return this._container?(e&&this._eventListeners.indexOf(t)<0?this._eventListeners.push(t):e||this._eventListeners.splice(this._eventListeners.indexOf[t],1),this._container.classed("interactive",this._eventListeners.length>0),e?this._container.on(t,(function(){var t=wi.target,n=t.parentNode,r=t.classList.contains("fl-legend-item")?t:n.classList.contains("fl-legend-item")?n:null;if(r){var i=ji(r).datum();e.call(r,i,i.index)}})):this._container.on(t,null),this):this},Od.prototype.update=function(){var t=this._state.show_legend&&this._visible&&this._legend_items.length>0;return this._container.style("display",t?"":"none"),t?(this._updateTitle(),this._updateLegend(),this):this},Od.prototype._updateLegend=function(){var t,e=this,n=this._formatFunction;this._container.style("max-width",Sd(this._state.max_width)+"px").style("display","inline-flex").style("flex-wrap","wrap").style("align-items","horizontal"==this._state.orientation?"center":"start").style("align-content","horizontal"==this._state.orientation?"center":null).style("flex-direction","horizontal"==this._state.orientation?null:"column"),t=this._state.order_override.trim()?function(t,e){for(var n={},r=e.split(/\s*\n\s*/),i=0;i<r.length;i++)n[r[i]]=i;for(var a=[],o=0;o<t.length;o++){var l=t[o],s=n[l.label];void 0!==s&&(a[s]=l)}return a.filter((function(t){return void 0!==t}))}(this._legend_items,this._state.order_override):this._legend_items;var r=this._container.selectAll(".fl-legend-item").data(t),i=r.enter().append("div").attr("class","fl-legend-item");i.append("div").attr("class","fl-legend-swatch"),i.append("svg").attr("class","fl-legend-icon fl-ignore-svg-download").append("path"),i.append("p").attr("class","fl-legend-label");var a=r.merge(i);return a.style("display","horizontal"==this._state.orientation?"inline-flex":"flex").style("opacity",(function(t){return e._filtered_items.indexOf(t.label)>-1?.2:""})).style("align-items","center").style("padding-inline-end","horizontal"==this._state.orientation?this._state.legend_items_padding+"rem":0).style("padding-inline-start",0),a.select(".fl-legend-swatch").style("height",this._state.swatch_height+"rem").style("width",this._state.swatch_width+"rem").style("border-radius",this._state.swatch_radius+"px").style("background-color",(function(t){return t.color})).style("display",(function(t){return t.icon?"none":null})),a.select(".fl-legend-icon").attr("height",Math.ceil(Sd(this._state.icon_height))).attr("width",(function(t){if(!t.icon)return 0;var n=t.icon.width,r=t.icon.height,i=t.outline?r*t.stroke_thickness:0,a=(n+=i)/(r+=i),o=Sd(e._state.icon_height*a);return Math.ceil(o)})).style("margin-right",.25*this._state.text_size+"rem").style("display",(function(t){return t.icon?"inline-block":"none"})).select("path").attr("d",(function(t){return t.icon?t.icon.path_string:null})).attr("transform",(function(t){if(!t.icon)return null;var n=t.icon.height,r=t.outline?n*t.stroke_thickness:0;n+=r;var i="scale("+Sd(e._state.icon_height)/n+")";return i+="translate("+.5*r+","+.5*r+")"})).style("fill",(function(t){return t.outline?"none":t.color||e._state.icon_color})).style("stroke",(function(t){return t.outline?t.color||e._state.icon_color:"none"})).style("stroke-width",(function(t){return t.outline?t.icon.height*t.stroke_thickness:0})),a.select(".fl-legend-label").text((function(t){return n?n(t.label):t.label})).style("margin",0).style("user-select","none").style("padding-inline-end",0).style("padding-inline-start",Ed),r.exit().remove(),this._legend_item_els=a,this};var Nd=Array.prototype,jd=Nd.map,Fd=Nd.slice;function Pd(t){return function(){return t}}function Id(t,e){return function(n){return t+n*e}}function Dd(t,e){var n=e-t;return n?Id(t,n>180||n<-180?n-360*Math.round(n/360):n):Pd(isNaN(t)?e:t)}function Rd(t){return 1==(t=+t)?Ud:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Pd(isNaN(e)?n:e)}}function Ud(t,e){var n=e-t;return n?Id(t,n):Pd(isNaN(t)?e:t)}var Bd=function t(e){var n=Rd(e);function r(t,e){var r=n((t=hc(t)).r,(e=hc(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Ud(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);var Hd,Yd=(Hd=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,l=r<e-1?t[r+2]:2*a-i;return function(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}((n-r/e)*e,o,i,a,l)}},function(t){var e,n,r=t.length,i=new Array(r),a=new Array(r),o=new Array(r);for(e=0;e<r;++e)n=hc(t[e]),i[e]=n.r||0,a[e]=n.g||0,o[e]=n.b||0;return i=Hd(i),a=Hd(a),o=Hd(o),n.opacity=1,function(t){return n.r=i(t),n.g=a(t),n.b=o(t),n+""}}),qd="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,$d=function(t,e,n){for(var r in e)Ot(t,r,e[r],n);return t},Wd=function(t,e,n){if(t instanceof e)return t;throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")},Vd=function(t){if(void 0===t)return 0;var e=Nt(t),n=Ft(e);if(e!==n)throw RangeError("Wrong length or index");return n},Gd=Math.abs,Xd=Math.pow,Zd=Math.floor,Jd=Math.log,Qd=Math.LN2,Kd=function(t,e,n){var r,i,a,o=new Array(n),l=8*n-e-1,s=(1<<l)-1,c=s>>1,u=23===e?Xd(2,-24)-Xd(2,-77):0,f=t<0||0===t&&1/t<0?1:0,d=0;for((t=Gd(t))!=t||t===1/0?(i=t!=t?1:0,r=s):(r=Zd(Jd(t)/Qd),t*(a=Xd(2,-r))<1&&(r--,a*=2),(t+=r+c>=1?u/a:u*Xd(2,1-c))*a>=2&&(r++,a/=2),r+c>=s?(i=0,r=s):r+c>=1?(i=(t*a-1)*Xd(2,e),r+=c):(i=t*Xd(2,c-1)*Xd(2,e),r=0));e>=8;o[d++]=255&i,i/=256,e-=8);for(r=r<<e|i,l+=e;l>0;o[d++]=255&r,r/=256,l-=8);return o[--d]|=128*f,o},tp=function(t,e){var n,r=t.length,i=8*r-e-1,a=(1<<i)-1,o=a>>1,l=i-7,s=r-1,c=t[s--],u=127&c;for(c>>=7;l>0;u=256*u+t[s],s--,l-=8);for(n=u&(1<<-l)-1,u>>=-l,l+=e;l>0;n=256*n+t[s],s--,l-=8);if(0===u)u=1-o;else{if(u===a)return n?NaN:c?-1/0:1/0;n+=Xd(2,e),u-=o}return(c?-1:1)*n*Xd(2,u-e)},ep=$t.f,np=ot.f,rp=zt.PROPER,ip=zt.CONFIGURABLE,ap=At.get,op=At.set,lp="ArrayBuffer",sp="DataView",cp="Wrong index",up=o.ArrayBuffer,fp=up,dp=o.DataView,pp=dp&&dp.prototype,hp=Object.prototype,yp=o.RangeError,_p=Kd,bp=tp,gp=function(t){return[255&t]},mp=function(t){return[255&t,t>>8&255]},vp=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},xp=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},wp=function(t){return _p(t,23,4)},Mp=function(t){return _p(t,52,8)},kp=function(t,e){np(t.prototype,e,{get:function(){return ap(this)[e]}})},Ap=function(t,e,n,r){var i=Vd(n),a=ap(t);if(i+e>a.byteLength)throw yp(cp);var o=ap(a.buffer).bytes,l=i+a.byteOffset,s=o.slice(l,l+e);return r?s:s.reverse()},Ep=function(t,e,n,r,i,a){var o=Vd(n),l=ap(t);if(o+e>l.byteLength)throw yp(cp);for(var s=ap(l.buffer).bytes,c=o+l.byteOffset,u=r(+i),f=0;f<e;f++)s[c+f]=u[a?f:e-f-1]};if(qd){var Sp=rp&&up.name!==lp;if(l((function(){up(1)}))&&l((function(){new up(-1)}))&&!l((function(){return new up,new up(1.5),new up(NaN),Sp&&!ip})))Sp&&ip&&lt(up,"name",lp);else{for(var Tp,zp=(fp=function(t){return Wd(this,fp),new up(Vd(t))}).prototype=up.prototype,Op=ep(up),Cp=0;Op.length>Cp;)(Tp=Op[Cp++])in fp||lt(fp,Tp,up[Tp]);zp.constructor=fp}Ii&&ou(pp)!==hp&&Ii(pp,hp);var Lp=new dp(new fp(2)),Np=pp.setInt8;Lp.setInt8(0,2147483648),Lp.setInt8(1,2147483649),!Lp.getInt8(0)&&Lp.getInt8(1)||$d(pp,{setInt8:function(t,e){Np.call(this,t,e<<24>>24)},setUint8:function(t,e){Np.call(this,t,e<<24>>24)}},{unsafe:!0})}else fp=function(t){Wd(this,fp,lp);var e=Vd(t);op(this,{bytes:Vl.call(new Array(e),0),byteLength:e}),s||(this.byteLength=e)},dp=function(t,e,n){Wd(this,dp,sp),Wd(t,fp,sp);var r=ap(t).byteLength,i=Nt(e);if(i<0||i>r)throw yp("Wrong offset");if(i+(n=void 0===n?r-i:Ft(n))>r)throw yp("Wrong length");op(this,{buffer:t,byteLength:n,byteOffset:i}),s||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},s&&(kp(fp,"byteLength"),kp(dp,"buffer"),kp(dp,"byteLength"),kp(dp,"byteOffset")),$d(dp.prototype,{getInt8:function(t){return Ap(this,1,t)[0]<<24>>24},getUint8:function(t){return Ap(this,1,t)[0]},getInt16:function(t){var e=Ap(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Ap(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return xp(Ap(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return xp(Ap(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return bp(Ap(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return bp(Ap(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Ep(this,1,t,gp,e)},setUint8:function(t,e){Ep(this,1,t,gp,e)},setInt16:function(t,e){Ep(this,2,t,mp,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Ep(this,2,t,mp,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Ep(this,4,t,vp,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Ep(this,4,t,vp,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Ep(this,4,t,wp,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Ep(this,8,t,Mp,e,arguments.length>2?arguments[2]:void 0)}});pu(fp,lp),pu(dp,sp);var jp="ArrayBuffer",Fp={ArrayBuffer:fp,DataView:dp}.ArrayBuffer,Pp=o.ArrayBuffer;function Ip(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(n=0;n<r;++n)i[n]=t[n]*(1-a)+e[n]*a;return i}}function Dp(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=$p(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function Rp(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Up(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Bp(t,e){var n,r={},i={};for(n in null!==t&&"object"===Ml(t)||(t={}),null!==e&&"object"===Ml(e)||(e={}),e)n in t?r[n]=$p(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}re({global:!0,forced:Pp!==Fp},{ArrayBuffer:Fp}),Ui(jp);var Hp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yp=new RegExp(Hp.source,"g");function qp(t,e){var n,r,i,a=Hp.lastIndex=Yp.lastIndex=0,o=-1,l=[],s=[];for(t+="",e+="";(n=Hp.exec(t))&&(r=Yp.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(r=r[0])?l[o]?l[o]+=r:l[++o]=r:(l[++o]=null,s.push({i:o,x:Up(n,r)})),a=Yp.lastIndex;return a<e.length&&(i=e.slice(a),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)l[(n=s[r]).i]=n.x(t);return l.join("")})}function $p(t,e){var n,r,i=Ml(e);return null==e||"boolean"===i?Pd(e):("number"===i?Up:"string"===i?(n=uc(e))?(e=n,Bd):qp:e instanceof uc?Bd:e instanceof Date?Rp:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Dp:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Bp:Up:Ip))(t,e)}function Wp(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Vp,Gp,Xp,Zp,Jp=180/Math.PI,Qp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Kp(t,e,n,r,i,a){var o,l,s;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),t*r<e*n&&(t=-t,e=-e,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Jp,skewX:Math.atan(s)*Jp,scaleX:o,scaleY:l}}function th(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(a,o){var l=[],s=[];return a=t(a),o=t(o),function(t,r,i,a,o,l){if(t!==i||r!==a){var s=o.push("translate(",null,e,null,n);l.push({i:s-4,x:Up(t,i)},{i:s-2,x:Up(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,l,s),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Up(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(a.rotate,o.rotate,l,s),function(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Up(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(a.skewX,o.skewX,l,s),function(t,e,n,r,a,o){if(t!==n||e!==r){var l=a.push(i(a)+"scale(",null,",",null,")");o.push({i:l-4,x:Up(t,n)},{i:l-2,x:Up(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,l,s),a=o=null,function(t){for(var e,n=-1,r=s.length;++n<r;)l[(e=s[n]).i]=e.x(t);return l.join("")}}}var eh=th((function(t){return"none"===t?Qp:(Vp||(Vp=document.createElement("DIV"),Gp=document.documentElement,Xp=document.defaultView),Vp.style.transform=t,t=Xp.getComputedStyle(Gp.appendChild(Vp),null).getPropertyValue("transform"),Gp.removeChild(Vp),Kp(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),nh=th((function(t){return null==t?Qp:(Zp||(Zp=document.createElementNS("http://www.w3.org/2000/svg","g")),Zp.setAttribute("transform",t),(t=Zp.transform.baseVal.consolidate())?Kp((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Qp)}),", ",")",")");var rh=function(t){return function(e,n){var r=t((e=xc(e)).h,(n=xc(n)).h),i=Ud(e.s,n.s),a=Ud(e.l,n.l),o=Ud(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=a(t),e.opacity=o(t),e+""}}}(Dd);function ih(t,e){var n=Ud((t=Lc(t)).l,(e=Lc(e)).l),r=Ud(t.a,e.a),i=Ud(t.b,e.b),a=Ud(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=a(e),t+""}}var ah=function(t){return function(e,n){var r=t((e=Rc(e)).h,(n=Rc(n)).h),i=Ud(e.c,n.c),a=Ud(e.l,n.l),o=Ud(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=a(t),e.opacity=o(t),e+""}}}(Dd);function oh(t){return function e(n){function r(e,r){var i=t((e=Jc(e)).h,(r=Jc(r)).h),a=Ud(e.s,r.s),o=Ud(e.l,r.l),l=Ud(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=a(t),e.l=o(Math.pow(t,n)),e.opacity=l(t),e+""}}return n=+n,r.gamma=e,r}(1)}oh(Dd);var lh=oh(Ud);function sh(t){return+t}var ch=[0,1];function uh(t){return t}function fh(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function dh(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function ph(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=fh(i,r),a=n(o,a)):(r=fh(r,i),a=n(a,o)),function(t){return a(r(t))}}function hh(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=fh(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=_d(t,e,1,r)-1;return a[n](i[n](e))}}function yh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _h(t,e){return function(){var t,e,n,r,i,a,o=ch,l=ch,s=$p,c=uh;function u(){return r=Math.min(o.length,l.length)>2?hh:ph,i=a=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(o.map(t),l,s)))(t(c(e)))}return f.invert=function(n){return c(e((a||(a=r(l,o.map(t),Up)))(n)))},f.domain=function(t){return arguments.length?(o=jd.call(t,sh),c===uh||(c=dh(o)),u()):o.slice()},f.range=function(t){return arguments.length?(l=Fd.call(t),u()):l.slice()},f.rangeRound=function(t){return l=Fd.call(t),s=Wp,u()},f.clamp=function(t){return arguments.length?(c=t?dh(o):uh,f):c!==uh},f.interpolate=function(t){return arguments.length?(s=t,u()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}()(t,e)}function bh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gh(t){return(t=bh(Math.abs(t)))?t[1]:NaN}var mh,vh=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xh(t){return new wh(t)}function wh(t){if(!(e=vh.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function Mh(t,e){var n=bh(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}xh.prototype=wh.prototype,wh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var kh={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Mh(100*t,e)},r:Mh,s:function(t,e){var n=bh(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(mh=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+bh(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Ah(t){return t}var Eh,Sh,Th,zh=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Oh(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,a=[],o=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(t.substring(i-=l,i+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(n)}):Ah,i=t.currency,a=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(t.numerals):Ah,l=t.percent||"%";function s(t){var e=(t=xh(t)).fill,n=t.align,s=t.sign,c=t.symbol,u=t.zero,f=t.width,d=t.comma,p=t.precision,h=t.trim,y=t.type;"n"===y?(d=!0,y="g"):kh[y]||(null==p&&(p=12),h=!0,y="g"),(u||"0"===e&&"="===n)&&(u=!0,e="0",n="=");var _="$"===c?i[0]:"#"===c&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===c?i[1]:/[%p]/.test(y)?l:"",g=kh[y],m=/[defgprs%]/.test(y);function v(t){var i,l,c,v=_,x=b;if("c"===y)x=g(t)+x,t="";else{var w=(t=+t)<0;if(t=g(Math.abs(t),p),h&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),w&&0==+t&&(w=!1),v=(w?"("===s?s:"-":"-"===s||"("===s?"":s)+v,x=("s"===y?zh[8+mh/3]:"")+x+(w&&"("===s?")":""),m)for(i=-1,l=t.length;++i<l;)if(48>(c=t.charCodeAt(i))||c>57){x=(46===c?a+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}d&&!u&&(t=r(t,1/0));var M=v.length+t.length+x.length,k=M<f?new Array(f-M+1).join(e):"";switch(d&&u&&(t=r(k+t,k.length?f-x.length:1/0),k=""),n){case"<":t=v+t+x+k;break;case"=":t=v+k+t+x;break;case"^":t=k.slice(0,M=k.length>>1)+v+t+x+k.slice(M);break;default:t=k+v+t+x}return o(t)}return p=null==p?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),v.toString=function(){return t+""},v}return{format:s,formatPrefix:function(t,e){var n=s(((t=xh(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(gh(e)/3))),i=Math.pow(10,-r),a=zh[8+r/3];return function(t){return n(i*t)+a}}}}function Ch(t,e,n,r){var i,a=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=vd?i*=10:a>=xd?i*=5:a>=wd&&(i*=2),e<t?-i:i}(t,e,n);switch((r=xh(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(gh(e)/3)))-gh(Math.abs(t)))}(a,o))||(r.precision=i),Th(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gh(e)-gh(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-gh(Math.abs(t)))}(a))||(r.precision=i-2*("%"===r.type))}return Sh(r)}function Lh(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,a,o,l=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=Md(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++l<i;)a[l]=(t+l)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++l<i;)a[l]=(t-l)/o;return r&&a.reverse(),a}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Ch(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),a=0,o=i.length-1,l=i[a],s=i[o];return s<l&&(r=l,l=s,s=r,r=a,a=o,o=r),(r=Md(l,s,n))>0?r=Md(l=Math.floor(l/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=Md(l=Math.ceil(l*r)/r,s=Math.floor(s*r)/r,n)),r>0?(i[a]=Math.floor(l/r)*r,i[o]=Math.ceil(s/r)*r,e(i)):r<0&&(i[a]=Math.ceil(l*r)/r,i[o]=Math.floor(s*r)/r,e(i)),t},t}function Nh(){var t=_h(uh,uh);return t.copy=function(){return yh(t,Nh())},Cd.apply(t,arguments),Lh(t)}!function(t){Eh=Oh(t),Sh=Eh.format,Th=Eh.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var jh=Math.log,Fh=Math.LOG10E;re({target:"Math",stat:!0},{log10:function(t){return jh(t)*Fh}});var Ph=Math.log,Ih=Math.LN2;re({target:"Math",stat:!0},{log2:function(t){return Ph(t)/Ih}});var Dh=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};re({target:"Math",stat:!0},{sign:Dh});var Rh=Math.log,Uh=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Rh(1+t)};re({target:"Math",stat:!0},{log1p:Uh});var Bh=Math.expm1,Hh=Math.exp,Yh=!Bh||Bh(10)>22025.465794806718||Bh(10)<22025.465794806718||-2e-17!=Bh(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Hh(t)-1}:Bh;function qh(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=kd(e,t/i);return a}function a(e){return isNaN(e=+e)?t:n[_d(r,e)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,a=t.length;r<a;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(pd),i()},a.range=function(t){return arguments.length?(n=Fd.call(t),i()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return qh().domain(e).range(n).unknown(t)},Cd.apply(a,arguments)}function $h(){var t,e=0,n=1,r=1,i=[.5],a=[0,1];function o(e){return e<=e?a[_d(i,e,0,r)]:t}function l(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return o}return o.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],l()):[e,n]},o.range=function(t){return arguments.length?(r=(a=Fd.call(t)).length-1,l()):a.slice()},o.invertExtent=function(t){var o=a.indexOf(t);return o<0?[NaN,NaN]:o<1?[e,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return $h().domain([e,n]).range(a).unknown(t)},Cd.apply(Lh(o),arguments)}function Wh(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[_d(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Fd.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Fd.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Wh().domain(e).range(n).unknown(t)},Cd.apply(i,arguments)}function Vh(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Gh(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Xh(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}re({target:"Math",stat:!0,forced:Yh!=Math.expm1},{expm1:Yh});var Zh,Jh,Qh,Kh={"-":"",_:" ",0:"0"},ty=/^\s*\d+/,ey=/^%/,ny=/[\\^$*+?|[\]().{}]/g;function ry(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function iy(t){return t.replace(ny,"\\$&")}function ay(t){return new RegExp("^(?:"+t.map(iy).join("|")+")","i")}function oy(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ly(t,e,n){var r=ty.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sy(t,e,n){var r=ty.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function cy(t,e,n){var r=ty.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function uy(t,e,n){var r=ty.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fy(t,e,n){var r=ty.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function dy(t,e,n){var r=ty.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function py(t,e,n){var r=ty.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hy(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yy(t,e,n){var r=ty.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _y(t,e,n){var r=ty.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function by(t,e,n){var r=ty.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function gy(t,e,n){var r=ty.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function my(t,e,n){var r=ty.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vy(t,e,n){var r=ty.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xy(t,e,n){var r=ty.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function wy(t,e,n){var r=ty.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function My(t,e,n){var r=ey.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ky(t,e,n){var r=ty.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ay(t,e,n){var r=ty.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Ey(t,e){return ry(t.getDate(),e,2)}function Sy(t,e){return ry(t.getHours(),e,2)}function Ty(t,e){return ry(t.getHours()%12||12,e,2)}function zy(t,e){return ry(1+Ua.count($a(t),t),e,3)}function Oy(t,e){return ry(t.getMilliseconds(),e,3)}function Cy(t,e){return Oy(t,e)+"000"}function Ly(t,e){return ry(t.getMonth()+1,e,2)}function Ny(t,e){return ry(t.getMinutes(),e,2)}function jy(t,e){return ry(t.getSeconds(),e,2)}function Fy(t){var e=t.getDay();return 0===e?7:e}function Py(t,e){return ry(Ha.count($a(t),t),e,2)}function Iy(t,e){var n=t.getDay();return t=n>=4||0===n?qa(t):qa.ceil(t),ry(qa.count($a(t),t)+(4===$a(t).getDay()),e,2)}function Dy(t){return t.getDay()}function Ry(t,e){return ry(Ya.count($a(t),t),e,2)}function Uy(t,e){return ry(t.getFullYear()%100,e,2)}function By(t,e){return ry(t.getFullYear()%1e4,e,4)}function Hy(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ry(e/60|0,"0",2)+ry(e%60,"0",2)}function Yy(t,e){return ry(t.getUTCDate(),e,2)}function qy(t,e){return ry(t.getUTCHours(),e,2)}function $y(t,e){return ry(t.getUTCHours()%12||12,e,2)}function Wy(t,e){return ry(1+Wa.count(Ja(t),t),e,3)}function Vy(t,e){return ry(t.getUTCMilliseconds(),e,3)}function Gy(t,e){return Vy(t,e)+"000"}function Xy(t,e){return ry(t.getUTCMonth()+1,e,2)}function Zy(t,e){return ry(t.getUTCMinutes(),e,2)}function Jy(t,e){return ry(t.getUTCSeconds(),e,2)}function Qy(t){var e=t.getUTCDay();return 0===e?7:e}function Ky(t,e){return ry(Ga.count(Ja(t),t),e,2)}function t_(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Za(t):Za.ceil(t),ry(Za.count(Ja(t),t)+(4===Ja(t).getUTCDay()),e,2)}function e_(t){return t.getUTCDay()}function n_(t,e){return ry(Xa.count(Ja(t),t),e,2)}function r_(t,e){return ry(t.getUTCFullYear()%100,e,2)}function i_(t,e){return ry(t.getUTCFullYear()%1e4,e,4)}function a_(){return"+0000"}function o_(){return"%"}function l_(t){return+t}function s_(t){return Math.floor(+t/1e3)}!function(t){Zh=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,s=t.shortMonths,c=ay(i),u=oy(i),f=ay(a),d=oy(a),p=ay(o),h=oy(o),y=ay(l),_=oy(l),b=ay(s),g=oy(s),m={a:function(t){return o[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:Ey,e:Ey,f:Cy,H:Sy,I:Ty,j:zy,L:Oy,m:Ly,M:Ny,p:function(t){return i[+(t.getHours()>=12)]},Q:l_,s:s_,S:jy,u:Fy,U:Py,V:Iy,w:Dy,W:Ry,x:null,X:null,y:Uy,Y:By,Z:Hy,"%":o_},v={a:function(t){return o[t.getUTCDay()]},A:function(t){return a[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Yy,e:Yy,f:Gy,H:qy,I:$y,j:Wy,L:Vy,m:Xy,M:Zy,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:l_,s:s_,S:Jy,u:Qy,U:Ky,V:t_,w:e_,W:n_,x:null,X:null,y:r_,Y:i_,Z:a_,"%":o_},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:_y,e:_y,f:wy,H:gy,I:gy,j:by,L:xy,m:yy,M:my,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},Q:ky,s:Ay,S:vy,u:sy,U:cy,V:uy,w:ly,W:fy,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:py,Y:dy,Z:hy,"%":My};function w(t,e){return function(n){var r,i,a,o=[],l=-1,s=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++l<c;)37===t.charCodeAt(l)&&(o.push(t.slice(s,l)),null!=(i=Kh[r=t.charAt(++l)])?r=t.charAt(++l):i="e"===r?" ":"0",(a=e[r])&&(r=a(n,i)),o.push(r),s=l+1);return o.push(t.slice(s,l)),o.join("")}}function M(t,e){return function(n){var r,i,a=Xh(1900);if(k(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Gh(Xh(a.y))).getUTCDay(),r=i>4||0===i?Xa.ceil(r):Xa(r),r=Wa.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=e(Xh(a.y))).getDay(),r=i>4||0===i?Ya.ceil(r):Ya(r),r=Ua.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Gh(Xh(a.y)).getUTCDay():e(Xh(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Gh(a)):e(a)}}function k(t,e,n,r){for(var i,a,o=0,l=e.length,s=n.length;o<l;){if(r>=s)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=x[i in Kh?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return m.x=w(n,m),m.X=w(r,m),m.c=w(e,m),v.x=w(n,v),v.X=w(r,v),v.c=w(e,v),{format:function(t){var e=w(t+="",m);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",Vh);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t,Gh);return e.toString=function(){return t},e}}}(t),Jh=Zh.utcFormat,Qh=Zh.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var c_="%Y-%m-%dT%H:%M:%S.%LZ";function u_(){var t,e,n,r,i,a=0,o=1,l=uh,s=!1;function c(e){return isNaN(e=+e)?i:l(0===n?.5:(e=(r(e)-t)*n,s?Math.max(0,Math.min(1,e)):e))}return c.domain=function(i){return arguments.length?(t=r(a=+i[0]),e=r(o=+i[1]),n=t===e?0:1/(e-t),c):[a,o]},c.clamp=function(t){return arguments.length?(s=!!t,c):s},c.interpolator=function(t){return arguments.length?(l=t,c):l},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(a),e=i(o),n=t===e?0:1/(e-t),c}}function f_(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function d_(){var t=Lh(u_()(uh));return t.copy=function(){return f_(t,d_())},Ld.apply(t,arguments)}function p_(){var t,e,n,r,i,a,o,l=0,s=.5,c=1,u=uh,f=!1;function d(t){return isNaN(t=+t)?o:(t=.5+((t=+a(t))-e)*(t<e?r:i),u(f?Math.max(0,Math.min(1,t)):t))}return d.domain=function(o){return arguments.length?(t=a(l=+o[0]),e=a(s=+o[1]),n=a(c=+o[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d):[l,s,c]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(u=t,d):u},d.unknown=function(t){return arguments.length?(o=t,d):o},function(o){return a=o,t=o(l),e=o(s),n=o(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d}}function h_(){var t=Lh(p_()(uh));return t.copy=function(){return f_(t,h_())},Ld.apply(t,arguments)}Date.prototype.toISOString||Jh(c_),+new Date("2000-01-01T00:00:00.000Z")||Qh(c_),Object.freeze({show_legend:!0,title_mode:"auto",title:"",color_band_width:8,color_band_height:1,color_band_radius:3,binned_label_mode:"thresholds",binned_label_custom:"",legend_min:null,legend_max:null,additional_min_label:"",additional_max_label:""}),Object.freeze({show_legend:!0,title_mode:"auto",title:"",clip_height:1,small_symbol_size:.5,shape_fill:"#eeeeee",shape_stroke:"#555555"});var y_,__,b_,g_,m_=Object.freeze({alignment:"start",orientation:"horizontal",text_color:null,title_weight:"bold",text_weight:"normal",text_size:1});function v_(t){for(var e in this._state=t,m_)void 0===this._state[e]&&(this._state[e]=m_[e]);return this}function x_(){return this.declarations=[],this}function w_(t){return this.selector=t,this.styles=[],this}v_.prototype.appendTo=function(t){return this._container=ji(t).append("div").node(),this},v_.prototype.add=function(t){this._legends=Array.isArray(t)?t:[t];var e=this;return this._legends.forEach((function(t){t&&"function"==typeof t.appendTo?t.appendTo(e._container):console.warn("Please pass in valid legend instances into .add()")})),this},v_.prototype.update=function(){var t=window.template||void 0,e=t?t.state.layout:void 0;__=this._state.text_color||t&&e&&e.font_color||"#333333",b_=e?e.body_font.name:window.getComputedStyle(document.body).fontFamily,y_=this._state.text_size,g_=this._state.text_weight;var n={family:b_,weight:g_,size:y_,color:__};this._legends.forEach((function(t){t&&"function"==typeof t.update&&t.update(n)}));var r="horizontal"===this._state.orientation,i=this._state.alignment,a="center"==i?i:"flex-"+i;return ji(this._container).style("justify-content",r?a:null).style("align-items",r?null:a).style("display","flex").style("flex-direction",r?"row":"column"),ji(this._container).selectAll(".fl-legend-container").style("padding-inline-end",(function(){return r?"0.5rem":0})).style("padding-bottom",(function(){return r?0:"0.25rem"})).style("justify-content",a),ji(this._container).selectAll(".fl-legend-title").style("color",this._state.text_color).style("font-weight",this._state.title_weight).style("font-size",y_+"rem").style("margin-right",.25*y_+"rem").style("line-height","1.25em").style("margin-top",0).style("margin-bottom",0).style("text-align",i),ji(this._container).selectAll(".fl-legend-item").style("display","inline-flex").style("text-align",i),ji(this._container).selectAll(".fl-legend-label").style("color",this._state.text_color).style("font-weight",this._state.text_weight).style("font-size",y_+"rem"),ji(this._container).selectAll(".label").style("color",this._state.text_color).style("font-weight",this._state.text_weight).style("font-size",y_+"rem"),this},x_.prototype.select=function(t){if(!t)return this;var e=new w_(t,this);return e.parent=this,this.addDeclaration(e),e},x_.prototype.addDeclaration=function(t){return this.declarations.push(t),this},x_.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},x_.prototype.clear=function(){return this.declarations=[],this},w_.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},w_.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var M_=Object.freeze({font_size:1,font_weight:"bold",height:2});function k_(t,e,n){for(var r in this._state=t,M_)void 0===this._state[r]&&(this._state[r]=M_[r]);return this._layout=n||{},this._styles=new x_,this._selector=e,this._createStylesheet(),this}k_.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},k_.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(".fl-controls-title").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("vertical-align","middle"),this._styles.select(this._selector+".fl-control .button").style("height",this._state.height+"rem").style("padding","0 0.5em"),this._styles.select(this._selector+"-dropdown select").style("height",this._state.height+"rem").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("padding","0 "+.1*this._state.height+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("height",this._state.height+"rem"),this._stylesheet.innerHTML=this._styles.print()};var A_=Object.freeze({background:null,font_color:null,background_selected:"#2886b2",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function E_(t,e,n){for(var r in this._state=t,A_)void 0===this._state[r]&&(this._state[r]=A_[r]);return this._layout=n||{},this._styles=new x_,this._selector=e,this._createStylesheet(),this}E_.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},E_.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=cd(this._state.border_color||e,this._state.border_transparency),r=sd();this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0");var i="rtl"===r,a=i?":last-child":":first-child",o=i?":first-child":":last-child";this._styles.select(this._selector+".grouped.fl-control .button"+a).style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button"+o).style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var S_=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function T_(t,e,n){for(var r in this._state=t,S_)void 0===this._state[r]&&(this._state[r]=S_[r]);return this._layout=n||{},this._styles=new x_,this._selector=e,this._createStylesheet(),this}function z_(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}T_.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)},T_.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=cd(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" select").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("font-family","inherit").style("background-color",t).style("color",e).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+n).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+n:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+":after").style("right","bottom"==this._state.border_style?null:this._state.border_width+5+"px").style("color",e),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",e),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+n).style("background-color",t).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()};var O_=Object.freeze({width:15,play_color:null,handle_color:null,font_color:null,track_color:null,handle_height:1,track_height:.2,margin:4.5,play_button:!0});function C_(t,e,n){for(var r in this._state=t,O_)void 0===this._state[r]&&(this._state[r]=O_[r]);return this._layout=n||{},this._styles=new x_,this._selector=e,this._createStylesheet(),this}C_.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-slider",document.head.appendChild(this._stylesheet)},C_.prototype.update=function(){this._styles.clear();var t=this._state.track_color||"#dddddd",e=this._state.font_color||this._layout.font_color||"currentColor",n=this._state.handle_color||this._layout.font_color||"currentColor",r=this._state.play_color||this._layout.font_color||"currentColor",i=Math.round(z_(this._state.width)),a=Math.round(z_(this._state.handle_height)),o=z_(this._state.track_height);this._styles.select(this._selector+" .fl-controls-slider").style("height",2*a+"px"),this._styles.select(this._selector+" .slider-play").style("fill",r).style("width",a+"px").style("height",a+"px").style("display",this._state.play_button?null:"none"),this._styles.select(this._selector+" .slider-label").style("padding-inline-start","0.3rem").style("color",e),this._styles.select(this._selector+" input[type=range]").style("-webkit-appearance","none").style("width",i+"px").style("color","currentColor").style("background-color","transparent"),this._styles.select(this._selector+" input[type=range]::-webkit-slider-runnable-track").style("-webkit-appearance","none").style("background",t).style("border-radius","100px").style("height",o+"px"),this._styles.select(this._selector+" input[type=range]::-webkit-slider-thumb").style("-webkit-appearance","none").style("width",a+"px").style("height",a+"px").style("border-radius","100px").style("background",n).style("margin-top",-a/2+o/2+"px"),this._styles.select(this._selector+" input[type=range]::-moz-range-track").style("-webkit-appearance","none").style("background",t).style("border-radius","100px").style("height",o+"px"),this._styles.select(this._selector+" input[type=range]::-moz-range-thumb").style("-webkit-appearance","none").style("width",a+"px").style("height",a+"px").style("border-radius","100px").style("border","none").style("background",n),this._stylesheet.innerHTML=this._styles.print()},"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e});var L_,N_,j_={},F_=25,P_=10,I_=10,D_={};function R_(t,e,n,r,i,a,o){var l=n-t/2-I_,s=n+t/2+I_,c=t/2+Math.min(0,l-i.left)+Math.max(0,s-i.right);return{pos:[c,o],shape:c-P_<5?[-c,-15*a,Math.max(P_,5-c),-10*a]:c+P_>t-5?[Math.min(-10,t-c-5),-10*a,Math.min(P_,t-c),-15*a]:[-10,-10*a,P_,-10*a]}}function U_(t,e,n,r,i,a,o){var l=r-e/2-I_,s=r+e/2+I_,c=e/2+Math.min(0,l-i.top)+Math.max(0,s-i.bottom);return{pos:[o,c],shape:c-P_<5?[-15*a,-c,-10*a,Math.max(P_,5-c)]:c+P_>e-5?[-10*a,Math.min(-10,e-c-5),-15*a,Math.min(P_,e-c)]:[-10*a,-10,-10*a,P_]}}function B_(t,e,n,r,i,a){var o=D_[t](e,n,r,i,a),l=r-F_-o.pos[0],s=i-F_-o.pos[1];return{left:l,top:s,right:l+e+50,bottom:s+n+50}}function H_(t,e,n){var r,i=document.createElementNS("http://www.w3.org/2000/svg",t);if(e)for(r in e)i.setAttribute(r,e[r]);var a=i.style;if(n)for(r in n)a[r]=n[r];return i}function Y_(){return L_||((L_=document.createElement("div")).id="flourish-popup-constrainer",(N_=L_.style).overflow="hidden",N_.pointerEvents="none",N_.position="absolute",N_.left="0",N_.top="0",N_.margin="0",N_.padding="0",document.body.appendChild(L_),this._resizeConstrainer(),L_)}D_.bottom=function(t,e){return{shape:[-10,-10,P_,-10],pos:[t/2,e+I_]}},D_.top=function(t,e){return{shape:[-10,I_,P_,I_],pos:[t/2,-10]}},D_.left=function(t,e){return{shape:[I_,P_,I_,-10],pos:[-10,e/2]}},D_.right=function(t,e){return{shape:[-10,P_,-10,-10],pos:[t+I_,e/2]}},D_.topLeft=function(t,e){return{shape:[15,I_,I_,15],pos:[-10,-10]}},D_.bottomLeft=function(t,e){return{shape:[15,-10,I_,-15],pos:[-10,e+I_]}},D_.topRight=function(t,e){return{shape:[-15,I_,-10,15],pos:[t+I_,-10]}},D_.bottomRight=function(t,e){return{shape:[-15,-10,-10,-15],pos:[t+I_,e+I_]}},D_.bottomFlexible=function(t,e,n,r,i){return R_(t,0,n,0,i,1,e+I_)},D_.topFlexible=function(t,e,n,r,i){return R_(t,0,n,0,i,-1,-10)},D_.rightFlexible=function(t,e,n,r,i){return U_(0,e,0,r,i,1,t+I_)},D_.leftFlexible=function(t,e,n,r,i){return U_(0,e,0,r,i,-1,-10)};var q_=1,$_={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function W_(){for(var t in this.unique_id=q_++,this.is_visible=!0,$_)this["_"+t]=$_[t];this.handlers={click:[]}}function V_(t){W_.prototype[t]=function(e){return void 0===e?this["_"+t]:(this["_"+t]=e,this)}}for(var G_ in $_)V_(G_);function X_(){return new W_}W_.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Popup: could not understand argument");return this},W_.prototype.directions=function(t){return void 0===t?this._directions:("string"==typeof t&&(t=[t]),this._directions=t.slice(),this)},W_.prototype.text=function(t){return this._html=t.replace(/[&<>]/g,(function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]})),this},W_.prototype.on=function(t,e){if(!(t in this.handlers))throw new Error("Popup.on: No such event: "+t);return this.handlers[t].push(e),this},W_.prototype.fire=function(t,e){if(!(t in this.handlers))throw new Error("Popup.fire: No such event: "+t);for(var n=this.handlers[t],r=0;r<n.length;r++)n[r].call(this,e);return this},W_.prototype._getElement=function(){var t=this,e="flourish-popup-"+t.unique_id,n=document.getElementById(e);if(!n){(n=document.createElement("div")).className="flourish-popup",n.id=e;var r=n.style;r.display="none",r.margin=r.padding=0,r.position="absolute",r.width="80px",r.height="40px",r.boxSizing="border-box",n.addEventListener("click",(function(e){t.fire("click",e)}),!1);var i=H_("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),a=H_("filter",{id:"dropshadow-"+t.unique_id,height:"130%"});a.appendChild(H_("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),a.appendChild(H_("feOffset",{dx:0,dy:2,result:"offsetblur"}));var o=H_("feComponentTransfer");o.appendChild(H_("feFuncA",{type:"linear",slope:.2})),a.appendChild(o);var l=H_("feMerge");a.appendChild(l),l.appendChild(H_("feMergeNode")),l.appendChild(H_("feMergeNode",{in:"SourceGraphic"})),i.appendChild(a);var s=H_("g",{filter:"url(#dropshadow-"+t.unique_id+")",fill:"white",stroke:"none"});s.appendChild(H_("rect",{x:F_,y:F_,rx:5})),s.appendChild(H_("path")),i.appendChild(s),n.appendChild(i);var c=document.createElement("div");c.className="flourish-popup-content",(r=c.style).position="absolute",r.top=r.left="25px",r.padding="10px",n.appendChild(c),t._getConstrainer().appendChild(n)}return t._resizeConstrainer(),n},W_.prototype._getConstrainer=Y_,W_.prototype._resizeConstrainer=function(){L_||Y_.call(this);var t=N_.display;N_.display="none",N_.width=document.documentElement.scrollWidth+"px",N_.height=document.documentElement.scrollHeight+"px",N_.display=t},W_.prototype.draw=function(){var t=this;if(t.is_visible=!0,t._point){var e=document.documentElement.getBoundingClientRect(),n=t._point[0],r=t._point[1],i=t._container.getBoundingClientRect();n<i.left?n=i.left:n>i.right&&(n=i.right),r<i.top?r=i.top:r>i.bottom&&(r=i.bottom);var a=n-e.left,o=r-e.top,l=t._getElement(),s=l.style,c=l.querySelector(".flourish-popup-svg"),u=c.querySelector("g"),f=u.querySelector("rect"),d=u.querySelector("path"),p=l.querySelector(".flourish-popup-content");s.display="block",p.style.maxWidth=function(e){return t._maxWidth.match(/^\d+(?:\.\d+)?%$/)?e.width*parseFloat(t._maxWidth)/100:t._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(t._maxWidth):(null!=t._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+t._maxWidth),e.width)}(i)+"px",t._inner_html!=t._html&&(p.innerHTML=t._inner_html=t._html);var h,y,_=p.getBoundingClientRect();do{h=Math.ceil(_.width),y=Math.ceil(_.height),s.width=h+50+"px",s.height=y+50+"px",_=p.getBoundingClientRect()}while(h!=Math.ceil(_.width)||y!=Math.ceil(_.height));f.setAttribute("width",h),f.setAttribute("height",y),c.setAttribute("width",h+50),c.setAttribute("height",y+50);for(var b,g,m=null,v=null,x=null,w=1/0,M=1/0,k=0;k<t._directions.length;k++){var A=t._directions[k],E=B_(A,h,y,n,r,i),S=Math.max(0,Math.floor(i.left)-E.left-15)+Math.max(0,E.right-Math.ceil(i.right)-15),T=Math.max(0,Math.floor(i.top)-E.top-15)+Math.max(0,E.bottom-Math.ceil(i.bottom)-15);if(0==S&&0==T){m=A;break}(S<w||S==w&&T<b)&&(w=S,b=T,v=A),(T<M||T==M&&S<g)&&(M=T,g=S,x=A)}return m?A=m:"horizontal"==t._fallbackFit?A=v:"vertical"==t._fallbackFit?A=x:(console.warn("Popup: failed to point box of size ("+h+", "+y+") at ("+n+", "+r+") within ("+i.left+", "+i.top+", "+i.right+", "+i.bottom+")"),A=t._directions[0]),function(t,e,n,r,i,a,o,l,s,c){var u=D_[t](r,i,l,s,c);e.left=a-F_-u.pos[0]+"px",e.top=o-F_-u.pos[1]+"px",n.setAttribute("d","M0,0L"+u.shape.join(",")+"Z"),n.setAttribute("transform","translate("+(u.pos[0]+F_)+","+(u.pos[1]+F_)+")")}(A,s,d,h,y,a,o,n,r,i),t}console.error("Popup: cannot draw popup till point() has been specified")},W_.prototype.hide=function(){return this.is_visible?(this.is_visible=!1,this._getElement().style.display="none",this):this},X_.version="2.1.5";var Z_,J_,Q_=0,K_=0,tb=0,eb=0,nb=0,rb=0,ib="object"===("undefined"==typeof performance?"undefined":Ml(performance))&&performance.now?performance:Date,ab="object"===("undefined"==typeof window?"undefined":Ml(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ob(){return nb||(ab(lb),nb=ib.now()+rb)}function lb(){nb=0}function sb(){this._call=this._time=this._next=null}function cb(t,e,n){var r=new sb;return r.restart(t,e,n),r}function ub(){ob(),++Q_;for(var t,e=Z_;e;)(t=nb-e._time)>=0&&e._call.call(null,t),e=e._next;--Q_}function fb(){nb=(eb=ib.now())+rb,Q_=K_=0;try{ub()}finally{Q_=0,function(){var t,e,n=Z_,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Z_=e);J_=t,pb(r)}(),nb=0}}function db(){var t=ib.now(),e=t-eb;e>1e3&&(rb-=e,eb=t)}function pb(t){Q_||(K_&&(K_=clearTimeout(K_)),t-nb>24?(t<1/0&&(K_=setTimeout(fb,t-ib.now()-rb)),tb&&(tb=clearInterval(tb))):(tb||(eb=ib.now(),tb=setInterval(db,1e3)),Q_=1,ab(fb)))}function hb(t,e,n){var r=new sb;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}sb.prototype=cb.prototype={constructor:sb,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ob():+n)+(null==e?0:+e),this._next||J_===this||(J_?J_._next=this:Z_=this,J_=this),this._call=t,this._time=n,pb()},stop:function(){this._call&&(this._call=null,this._time=1/0,pb())}};var yb={value:function(){}};function _b(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new bb(r)}function bb(t){this._=t}function gb(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function mb(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function vb(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=yb,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}bb.prototype=_b.prototype={constructor:bb,on:function(t,e){var n,r=this._,i=gb(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=i[a]).type)r[n]=vb(r[n],t.name,e);else if(null==e)for(n in r)r[n]=vb(r[n],t.name,null);return this}for(;++a<o;)if((n=(t=i[a]).type)&&(n=mb(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new bb(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var xb=_b("start","end","cancel","interrupt"),wb=[];function Mb(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function a(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var c,u,f,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return hb(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(hb((function(){3===n.state&&(n.state=4,n.timer.restart(l,n.delay,n.time),l(a))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),c=0,u=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function l(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=cb(a,0,n.time)}(t,n,{name:e,index:r,group:i,on:xb,tween:wb,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function kb(t,e){var n=Eb(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ab(t,e){var n=Eb(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Eb(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Sb(t,e){var n,r;return function(){var i=Ab(this,t),a=i.tween;if(a!==n)for(var o=0,l=(r=n=a).length;o<l;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}function Tb(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var a=Ab(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},s=0,c=i.length;s<c;++s)if(i[s].name===e){i[s]=l;break}s===c&&i.push(l)}a.tween=i}}function zb(t,e,n){var r=t._id;return t.each((function(){var t=Ab(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Eb(t,r).value[e]}}function Ob(t,e){var n;return("number"==typeof e?Up:e instanceof uc?Bd:(n=uc(e))?(e=n,Bd):qp)(t,e)}function Cb(t){return function(){this.removeAttribute(t)}}function Lb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Nb(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function jb(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function Fb(t,e,n){var r,i,a;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttribute(t))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s));this.removeAttribute(t)}}function Pb(t,e,n){var r,i,a;return function(){var o,l,s=n(this);if(null!=s)return(o=this.getAttributeNS(t.space,t.local))===(l=s+"")?null:o===r&&l===i?a:(i=l,a=e(r=o,s));this.removeAttributeNS(t.space,t.local)}}function Ib(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Db(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Rb(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Db(t,i)),n}return i._value=e,i}function Ub(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ib(t,i)),n}return i._value=e,i}function Bb(t,e){return function(){kb(this,t).delay=+e.apply(this,arguments)}}function Hb(t,e){return e=+e,function(){kb(this,t).delay=e}}function Yb(t,e){return function(){Ab(this,t).duration=+e.apply(this,arguments)}}function qb(t,e){return e=+e,function(){Ab(this,t).duration=e}}function $b(t,e){if("function"!=typeof e)throw new Error;return function(){Ab(this,t).ease=e}}function Wb(t,e,n){var r,i,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?kb:Ab;return function(){var o=a(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}var Vb=Ni.prototype.constructor;function Gb(t){return function(){this.style.removeProperty(t)}}function Xb(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Zb(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Xb(t,a,n)),r}return a._value=e,a}function Jb(t){return function(e){this.textContent=t.call(this,e)}}function Qb(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Jb(r)),e}return r._value=t,r}var Kb=o.Promise,tg=G("iterator"),eg=Array.prototype,ng=function(t){return void 0!==t&&(nu.Array===t||eg[tg]===t)},rg=G("iterator"),ig=function(t){if(null!=t)return j(t,rg)||j(t,"@@iterator")||nu[be(t)]},ag=function(t,e){var n=arguments.length<2?ig(t):e;if(N(n))return it(n.call(t));throw TypeError(String(t)+" is not iterable")},og=function(t,e,n){var r,i;it(t);try{if(!(r=j(t,"return"))){if("throw"===e)throw n;return n}r=r.call(t)}catch(t){i=!0,r=t}if("throw"===e)throw n;if(i)throw r;return it(r),n},lg=function(t,e){this.stopped=t,this.result=e},sg=function(t,e,n){var r,i,a,o,l,s,c,u=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),h=bn(e,u,1+f+p),y=function(t){return r&&og(r,"normal",t),new lg(!0,t)},_=function(t){return f?(it(t),p?h(t[0],t[1],y):h(t[0],t[1])):p?h(t,y):h(t)};if(d)r=t;else{if(!(i=ig(t)))throw TypeError(String(t)+" is not iterable");if(ng(i)){for(a=0,o=Ft(t.length);o>a;a++)if((l=_(t[a]))&&l instanceof lg)return l;return new lg(!1)}r=ag(t,i)}for(s=r.next;!(c=s.call(r)).done;){try{l=_(c.value)}catch(t){og(r,"throw",t)}if("object"==typeof l&&l&&l instanceof lg)return l}return new lg(!1)},cg=G("iterator"),ug=!1;try{var fg=0,dg={next:function(){return{done:!!fg++}},return:function(){ug=!0}};dg[cg]=function(){return this},Array.from(dg,(function(){throw 2}))}catch(t){}var pg,hg,yg,_g,bg=function(t,e){if(!e&&!ug)return!1;var n=!1;try{var r={};r[cg]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},gg=/(?:ipad|iphone|ipod).*applewebkit/i.test(M),mg="process"==h(o.process),vg=o.setImmediate,xg=o.clearImmediate,wg=o.process,Mg=o.MessageChannel,kg=o.Dispatch,Ag=0,Eg={},Sg="onreadystatechange";try{pg=o.location}catch(t){}var Tg=function(t){if(Eg.hasOwnProperty(t)){var e=Eg[t];delete Eg[t],e()}},zg=function(t){return function(){Tg(t)}},Og=function(t){Tg(t.data)},Cg=function(t){o.postMessage(String(t),pg.protocol+"//"+pg.host)};vg&&xg||(vg=function(t){for(var e=[],n=arguments.length,r=1;n>r;)e.push(arguments[r++]);return Eg[++Ag]=function(){(m(t)?t:Function(t)).apply(void 0,e)},hg(Ag),Ag},xg=function(t){delete Eg[t]},mg?hg=function(t){wg.nextTick(zg(t))}:kg&&kg.now?hg=function(t){kg.now(zg(t))}:Mg&&!gg?(_g=(yg=new Mg).port2,yg.port1.onmessage=Og,hg=bn(_g.postMessage,_g,1)):o.addEventListener&&m(o.postMessage)&&!o.importScripts&&pg&&"file:"!==pg.protocol&&!l(Cg)?(hg=Cg,o.addEventListener("message",Og,!1)):hg=Sg in tt("script")?function(t){Jn.appendChild(tt("script")).onreadystatechange=function(){Jn.removeChild(this),Tg(t)}}:function(t){setTimeout(zg(t),0)});var Lg,Ng,jg,Fg,Pg,Ig,Dg,Rg,Ug={set:vg,clear:xg},Bg=/ipad|iphone|ipod/i.test(M)&&void 0!==o.Pebble,Hg=/web0s(?!.*chrome)/i.test(M),Yg=rt.f,qg=Ug.set,$g=o.MutationObserver||o.WebKitMutationObserver,Wg=o.document,Vg=o.process,Gg=o.Promise,Xg=Yg(o,"queueMicrotask"),Zg=Xg&&Xg.value;Zg||(Lg=function(){var t,e;for(mg&&(t=Vg.domain)&&t.exit();Ng;){e=Ng.fn,Ng=Ng.next;try{e()}catch(t){throw Ng?Fg():jg=void 0,t}}jg=void 0,t&&t.enter()},gg||mg||Hg||!$g||!Wg?!Bg&&Gg&&Gg.resolve?((Dg=Gg.resolve(void 0)).constructor=Gg,Rg=Dg.then,Fg=function(){Rg.call(Dg,Lg)}):Fg=mg?function(){Vg.nextTick(Lg)}:function(){qg.call(o,Lg)}:(Pg=!0,Ig=Wg.createTextNode(""),new $g(Lg).observe(Ig,{characterData:!0}),Fg=function(){Ig.data=Pg=!Pg}));var Jg,Qg,Kg,tm,em=Zg||function(t){var e={fn:t,next:void 0};jg&&(jg.next=e),Ng||(Ng=e,Fg()),jg=e},nm=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=N(e),this.reject=N(n)},rm={f:function(t){return new nm(t)}},im=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},am="object"==typeof window,om=Ug.set,lm=G("species"),sm="Promise",cm=At.get,um=At.set,fm=At.getterFor(sm),dm=Kb&&Kb.prototype,pm=Kb,hm=dm,ym=o.TypeError,_m=o.document,bm=o.process,gm=rm.f,mm=gm,vm=!!(_m&&_m.createEvent&&o.dispatchEvent),xm=m(o.PromiseRejectionEvent),wm="unhandledrejection",Mm=!1,km=ee(sm,(function(){var t=dt(pm),e=t!==String(pm);if(!e&&66===T)return!0;if(T>=51&&/native code/.test(t))return!1;var n=new pm((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};return(n.constructor={})[lm]=r,!(Mm=n.then((function(){}))instanceof r)||!e&&am&&!xm})),Am=km||!bg((function(t){pm.all(t).catch((function(){}))})),Em=function(t){var e;return!(!v(t)||!m(e=t.then))&&e},Sm=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;em((function(){for(var r=t.value,i=1==t.state,a=0;n.length>a;){var o,l,s,c=n[a++],u=i?c.ok:c.fail,f=c.resolve,d=c.reject,p=c.domain;try{u?(i||(2===t.rejection&&Cm(t),t.rejection=1),!0===u?o=r:(p&&p.enter(),o=u(r),p&&(p.exit(),s=!0)),o===c.promise?d(ym("Promise-chain cycle")):(l=Em(o))?l.call(o,f,d):f(o)):d(r)}catch(t){p&&!s&&p.exit(),d(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&zm(t)}))}},Tm=function(t,e,n){var r,i;vm?((r=_m.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),o.dispatchEvent(r)):r={promise:e,reason:n},!xm&&(i=o["on"+t])?i(r):t===wm&&function(t,e){var n=o.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},zm=function(t){om.call(o,(function(){var e,n=t.facade,r=t.value;if(Om(t)&&(e=im((function(){mg?bm.emit("unhandledRejection",r,n):Tm(wm,n,r)})),t.rejection=mg||Om(t)?2:1,e.error))throw e.value}))},Om=function(t){return 1!==t.rejection&&!t.parent},Cm=function(t){om.call(o,(function(){var e=t.facade;mg?bm.emit("rejectionHandled",e):Tm("rejectionhandled",e,t.value)}))},Lm=function(t,e,n){return function(r){t(e,r,n)}},Nm=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Sm(t,!0))},jm=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw ym("Promise can't be resolved itself");var r=Em(e);r?em((function(){var n={done:!1};try{r.call(e,Lm(jm,n,t),Lm(Nm,n,t))}catch(e){Nm(n,e,t)}})):(t.value=e,t.state=1,Sm(t,!1))}catch(e){Nm({done:!1},e,t)}}};if(km&&(pm=function(t){Wd(this,pm,sm),N(t),Jg.call(this);var e=cm(this);try{t(Lm(jm,e),Lm(Nm,e))}catch(t){Nm(e,t)}},hm=pm.prototype,(Jg=function(t){um(this,{type:sm,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=$d(hm,{then:function(t,e){var n=fm(this),r=gm(wr(this,pm));return r.ok=!m(t)||t,r.fail=m(e)&&e,r.domain=mg?bm.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Sm(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Qg=function(){var t=new Jg,e=cm(t);this.promise=t,this.resolve=Lm(jm,e),this.reject=Lm(Nm,e)},rm.f=gm=function(t){return t===pm||t===Kg?new Qg(t):mm(t)},m(Kb)&&dm!==Object.prototype)){tm=dm.then,Mm||(Ot(dm,"then",(function(t,e){var n=this;return new pm((function(t,e){tm.call(n,t,e)})).then(t,e)}),{unsafe:!0}),Ot(dm,"catch",hm.catch,{unsafe:!0}));try{delete dm.constructor}catch(t){}Ii&&Ii(dm,hm)}re({global:!0,wrap:!0,forced:km},{Promise:pm}),pu(pm,sm,!1),Ui(sm),Kg=w(sm),re({target:sm,stat:!0,forced:km},{reject:function(t){var e=gm(this);return e.reject.call(void 0,t),e.promise}}),re({target:sm,stat:!0,forced:km},{resolve:function(t){return function(t,e){if(it(t),v(e)&&e.constructor===t)return e;var n=rm.f(t);return(0,n.resolve)(e),n.promise}(this,t)}}),re({target:sm,stat:!0,forced:Am},{all:function(t){var e=this,n=gm(e),r=n.resolve,i=n.reject,a=im((function(){var n=N(e.resolve),a=[],o=0,l=1;sg(t,(function(t){var s=o++,c=!1;a.push(void 0),l++,n.call(e,t).then((function(t){c||(c=!0,a[s]=t,--l||r(a))}),i)})),--l||r(a)}));return a.error&&i(a.value),n.promise},race:function(t){var e=this,n=gm(e),r=n.reject,i=im((function(){var i=N(e.resolve);sg(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var Fm=0;function Pm(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Im(){return++Fm}var Dm=Ni.prototype;Pm.prototype={constructor:Pm,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=pn(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var l,s,c=r[o],u=c.length,f=a[o]=new Array(u),d=0;d<u;++d)(l=c[d])&&(s=t.call(l,l.__data__,d,c))&&("__data__"in l&&(s.__data__=l.__data__),f[d]=s,Mb(f[d],e,n,d,f,Eb(l,n)));return new Pm(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=yn(t));for(var r=this._groups,i=r.length,a=[],o=[],l=0;l<i;++l)for(var s,c=r[l],u=c.length,f=0;f<u;++f)if(s=c[f]){for(var d,p=t.call(s,s.__data__,f,c),h=Eb(s,n),y=0,_=p.length;y<_;++y)(d=p[y])&&Mb(d,e,n,y,p,h);a.push(p),o.push(s)}return new Pm(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=_n(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],l=o.length,s=r[i]=[],c=0;c<l;++c)(a=o[c])&&t.call(a,a.__data__,c,o)&&s.push(a);return new Pm(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),l=0;l<a;++l)for(var s,c=e[l],u=n[l],f=c.length,d=o[l]=new Array(f),p=0;p<f;++p)(s=c[p]||u[p])&&(d[p]=s);for(;l<r;++l)o[l]=e[l];return new Pm(o,this._parents,this._name,this._id)},selection:function(){return new Vb(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Im(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,c=0;c<s;++c)if(o=l[c]){var u=Eb(o,e);Mb(o,t,n,c,l,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Pm(r,this._parents,t,n)},call:Dm.call,nodes:Dm.nodes,node:Dm.node,size:Dm.size,empty:Dm.empty,each:Dm.each,on:function(t,e){var n=this._id;return arguments.length<2?Eb(this.node(),n).on.on(t):this.each(Wb(n,t,e))},attr:function(t,e){var n=sn(t),r="transform"===n?nh:Ob;return this.attrTween(t,"function"==typeof e?(n.local?Pb:Fb)(n,r,zb(this,"attr."+t,e)):null==e?(n.local?Lb:Cb)(n):(n.local?jb:Nb)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=sn(t);return this.tween(n,(r.local?Rb:Ub)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?eh:Ob;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var a=Un(this,t),o=(this.style.removeProperty(t),Un(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}(t,r)).on("end.style."+t,Gb(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,a;return function(){var o=Un(this,t),l=n(this),s=l+"";return null==l&&(this.style.removeProperty(t),s=l=Un(this,t)),o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,l))}}(t,r,zb(this,"style."+t,e))).each(function(t,e){var n,r,i,a,o="style."+e,l="end."+o;return function(){var s=Ab(this,t),c=s.on,u=null==s.value[o]?a||(a=Gb(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(l,i=u),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,a=n+"";return function(){var o=Un(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Zb(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(zb(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Qb(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Eb(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Sb:Tb)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Bb:Hb)(e,t)):Eb(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Yb:qb)(e,t)):Eb(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each($b(e,t)):Eb(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var l={value:o},s={value:function(){0==--i&&a()}};n.each((function(){var n=Ab(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(l),e._.interrupt.push(l),e._.end.push(s)),n.on=e}))}))}};var Rm={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Um(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Rm.time=ob(),Rm;return n}Ni.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}(this,t)}))},Ni.prototype.transition=function(t){var e,n;t instanceof Pm?(e=t._id,t=t._name):(e=Im(),(n=Rm).time=ob(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,l=r[a],s=l.length,c=0;c<s;++c)(o=l[c])&&Mb(o,t,e,c,l,n||Um(o,e));return new Pm(r,this._parents,t,e)};var Bm=1,Hm={container:document.body,point:[window.innerWidth/2,window.innerHeight/2],html:"",open_duration:250,close_duration:250,popup_custom_template:"",position:"overlay",shadow:!0,underlay_color:"rgba(255, 255, 255, 0.75)",width_side:35,height_side:35,width_overlay:80,height_overlay:80,vertical_position:"click",max_width:null,max_height:null,closeable:!0};function Ym(){var t=this;for(var e in t.unique_id=Bm++,t._is_open=!1,t._onclose=null,Hm)t["_"+e]=Hm[e]}function qm(t){Ym.prototype[t]=function(e){return void 0===e?this["_"+t]:(this["_"+t]=e,this)}}for(var $m in Hm)qm($m);Ym.prototype.point=function(t,e){if(void 0===t)return this._point;if(Array.isArray(t))this._point=[t[0],t[1]];else if(void 0!==e)this._point=[t,e];else if(t instanceof HTMLElement||t instanceof SVGElement){var n=t.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Panel: could not understand argument");return this},Ym.prototype.container=function(t){return t&&(this._container=t),this},Ym.prototype.hide=function(){if(this._is_open)return function(t){t._getElement().style.pointerEvents="none",t._is_open=!1;var e=t._close_duration;ji(t._getElement()).transition().duration(e).style("background","rgba(255, 255, 255, 0)").on("interrupt",(function(){ji(this).style("display",t._is_open?"block":"none")})).on("end",(function(){ji(this).style("display","none")})).select(".flourish-panel-close").style("opacity","0"),ji(t._inner).transition().duration(e).style("opacity",0),ji(t._content).transition().duration(e/2).style("opacity",0)}(this),this},Ym.prototype.close=Ym.prototype.hide,Ym.prototype.draw=function(){var t=this;return t._content.innerHTML=t._html,function(t){var e=t._is_open||t._html==t._default?0:t._open_duration,n=window.innerWidth,r=window.innerHeight,i="overlay"==t._position,a="top"==t._position||"bottom"==t._position,o="left"==t._position||"right"==t._position,l=100*(t._max_width||1/0)/n,s=100*(t._max_height||1/0)/r,c=100*t._point[1]/r,u="click"==t._vertical_position&&!Flourish.fixed_height,f=i?Math.min(t._width_overlay,l):a?100:Math.min(t._width_side,l),d=i?Math.min(t._height_overlay,s):o?100:Math.min(t._height_side,s),p=i?(100-f)/2:"right"==t._position?100-f:0,h=u?Math.max(1,Math.min(c-d/2,99-d)):(100-d)/2,y=i?h:"bottom"==t._position?100-d:0,_=i?0:f,b=i?0:d,g=i?100*t._point[0]/n:"right"==t._position?100:"left"==t._position?-f:0,m=i?c:"bottom"==t._position?100:"top"==t._position?-d:0;ji(t._getElement()).style("display","block").transition().duration(e).delay(.25*e).style("background",i?t._underlay_color:"rgba(255, 255, 255, 0)").style("pointer-events",i?null:"none"),ji(t._inner).style("opacity",1).style("display","block").style("pointer-events","none").style("width",_+"%").style("height",b+"%").style("left",g+"%").style("top",m+"%").transition().duration(e).style("width",f+"%").style("height",d+"%").style("left",p+"%").style("top",y+"%").on("end",(function(){ji(t._inner).style("pointer-events","all").style("width",f+"%").style("height",d+"%").style("left",p+"%").style("top",y+"%")})).on("interrupt",(function(){ji(t._inner).style("pointer-events","all").style("width",f+"%").style("height",d+"%").style("left",p+"%").style("top",y+"%")}));var v=o&&u;ji(t._content).transition().duration(e/4).delay(e).style("opacity",1).on("interrupt",(function(){ji(this).style("opacity",1)})),ji(t._content).select(".flourish-panel-content-inner").style("position",v?"absolute":null).style("top",v?c+"%":null).style("transform",v?"translateY(-50%)":null),ji(t._inner).select(".flourish-panel-close").style("opacity",0).transition().duration(e/4).delay(e).style("opacity",t._closeable?1:0),t._is_open=!0,ub()}(t),this},Ym.prototype.on=function(t,e){return"close"==t?e&&(this._onclose=e):console.error("Panel .on() method only supports 'close' events"),this},Ym.prototype.margins=function(){var t={top:0,right:0,bottom:0,left:0};if(this._is_open&&"overlay"!=this._position){var e=this._getElement().getBoundingClientRect();"top"==this._position&&(t.top=e.top+e.height),"right"==this._position&&(t.right=e.left),"bottom"==this._position&&(t.bottom=e.top),"left"==this._position&&(t.left=e.left+e.width)}return t.css=t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px",t},Ym.prototype._getElement=function(){var t=this,e="flourish-panel-"+t.unique_id,n=document.getElementById(e);if(!n){(n=document.createElement("div")).className="flourish-panel",n.id=e,n.addEventListener("click",(function(e){e.stopPropagation(),t.hide(),t._onclose&&t._onclose()}));var r=n.style;r.position="absolute",r.zIndex="999999",r.pointerEvents="none",r.width="100%",r.height="100%",r.top="0",r.left="0",r.background="rgba(255, 255, 255, 0)";var i=document.createElement("div");i.className="flourish-panel-inner",n.appendChild(i),t._inner=i,(r=i.style).width="0",r.height="0",r.position="absolute",r.boxSizing="border-box";var a=document.createElement("div");a.className="flourish-panel-shadow",i.appendChild(a);var o=document.createElement("div");o.className="flourish-panel-content",i.appendChild(o),t._content=o,(r=o.style).opacity="0",r.overflowY="auto",r.height="100%",function(t){ji(t._inner).append("svg").attr("class","flourish-panel-close").attr("viewBox","0 0 40 40").style("width","1.25rem").style("height","1.25rem").style("position","absolute").style("right","1rem").style("top","1rem").style("cursor","pointer").style("opacity",0).on("mouseover",(function(){t._closeable&&(this.style.opacity=.66)})).on("mouseout",(function(){t._closeable&&(this.style.opacity=1)})).on("click",(function(){wi.stopPropagation(),t.hide(),t._onclose&&t._onclose()})).on("touch",(function(){wi.stopPropagation(),t.hide(),t._onclose&&t._onclose()})).append("path").attr("stroke","#333333").attr("stroke-width","0.5rem").attr("stroke-linecap","round").attr("d","M 10,10 L 30,30 M 30,10 L 10,30")}(t),t._container.appendChild(n)}return n};var Wm={mode:"popup",locked_id:null,popup_is_custom:!1,popup_custom_header:"Popup header",popup_custom_main:"Popup main content. Write your column names in between double curly brackets to display dynamic content.",popup_teaser_default:"Click to see more",popup_text_color:"#333333",popup_align:"start",popup_font_size:1,popup_width:18,popup_background:"#ffffff",popup_background_opacity:1,popup_padding:.5,popup_radius:.2,popup_shadow:!0,popup_pointer:!0,popup_header_background:"#333333",popup_header_text_color:"#ffffff",popup_header_type:"block",popup_list_type:"table",popup_list_label_weight:"normal",popup_list_separator:": ",panel_is_custom:!1,panel_custom_header:"Custom panel header",panel_custom_main:"Custom panel main content",panel_side_default_content:"<h1>Tap or click to explore</h1>",panel_side_fixed:!1,panel_position:"overlay",panel_width_overlay:80,panel_height_overlay:80,panel_vertical_position:"center",panel_width_side:35,panel_height_side:35,panel_max_width:null,panel_max_height:null,panel_text_color:"#333333",panel_align:"start",panel_font_size:1.25,panel_background:"#ffffff",panel_background_opacity:.9,panel_padding:1.2,panel_radius:.2,panel_shadow:!0,panel_open_duration:250,panel_close_duration:250,panel_list_type:"table",panel_list_label_weight:"normal",panel_list_separator:": "};function Vm(t,e,n){var r="<div class='flourish-panel-content-inner'>",i=t["_"+n+"_default_template"],a=t._state[n+"_list_type"],o=t._state[n+"_list_separator"],l="<br />"===o,s=l?"":o,c=l?o:"";if(i)r+=i.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,(function(n,r){var i;if(Array.isArray(t._column_names[r])){var a=t._column_names[r];if(0==a.length)return"";i="<ul>",a.forEach((function(t,n){i+="<li>"+t+o+e[r][n]+"</li>"})),i+="</ul>"}else i=e[r];return void 0!==i?i:""}));else{var u,f={};(e[t._title_key]||e[t._subtitle_key])&&(r+="<header>",e[t._title_key]&&(r+="<h1>"+e[t._title_key]+"</h1>",f[u=t._column_names[t._title_key]]=!0),e[t._subtitle_key]&&(r+="<h2>"+e[t._subtitle_key]+"</h2>",f[u=t._column_names[t._subtitle_key]]=!0),r+="</header>");var d="";for(var p in t._column_names)if(!(t._column_names_hidden.indexOf(p)>-1)&&p!=t._title_key&&p!=t._subtitle_key)if(Array.isArray(e[p]))for(var h=0;h<e[p].length;h++)f[u=t._column_names[p][h]]||(f[u]=!0,"table"==a?d+="<tr><td class='table-col-label'><span class='data-heading'>"+u+"</span></td><td class='table-col-value'>"+e[p][h]+"</td></tr>":"ul"==a&&(d+="<li><span class='data-heading'>"+u+s+" </span> "+c+e[p][h]+"</li>"));else{if(f[u=t._column_names[p]])continue;f[u]=!0,"table"==a?d+="<tr><td class='table-col-label'><span class='data-heading'>"+u+"</span></td><td class='table-col-value'>"+e[p]+"</td></tr>":"ul"==a&&(d+="<li><span class='data-heading'>"+u+s+" </span> "+c+e[p]+"</li>")}""!==d&&(r+="<div class='main-content'><"+a+">",r+=d,r+="</"+a+"></div></div>")}return r}function Gm(t,e,n){var r;return Object.keys(t._column_names).some((function(i){if(Array.isArray(t._column_names[i])){var a=t._column_names[i].indexOf(e);if(a>=0)return r=n[i][a],!0}else if(t._column_names[i]==e)return r=n[i],!0})),void 0!==r?r:""}function Xm(t,e,n,r){var i="",a=Zm(e,t,r),o=Zm(n,t,r);return a&&(i+="<header>"+a+"</header>"),o&&(i+="<div class='main-content'>"+o+"</div>"),i}function Zm(t,e,n){return t.replace(/\{\{#if ((?:[^}]|\}[^}])*)\}\}([\s\S]*?)\{\{\/if\}\}/g,(function(t,r,i){return""==Gm(e,r,n)?"":i})).replace(/\{\{(visualisation|story)\/(.*)\}\}/g,(function(t,e,n){var r=n.split("/");if(r.length<1||!["visualisation","story"].includes(e))return t;var i,a={id:r[0],w:r[1]||"100%",h:r[2]||"400px%"},o="https://flo.uri.sh/"+e+"/"+a.id+"/embed?";return(i="iframe",ji(fn(i).call(document.documentElement))).attr("src",o).attr("title","Interactive or visual content").attr("class","flourish-embed-iframe").attr("frameborder","0").attr("scrolling","no").attr("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation").style("width",a.width).style("height",a.height).node().outerHTML})).replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,(function(t,r){return Gm(e,r,n)})).trim()}function Jm(t,e){var n=t._formatters;if(!n)return e;var r={};for(var i in e)if(n[i])if(Array.isArray(n[i])){for(var a=[],o=0;o<n[i].length;o++)if(void 0!==e[i][o]){var l=n[i][o](e[i][o]);a.push(l)}r[i]=a}else r[i]=n[i](e[i]);else r[i]=e[i];return r}function Qm(t,e,n){var r="",i=Jm(t,e);return n&&!t._state.popup_is_custom?r+="<div class='main-content'>"+t._state.popup_teaser_default+"</div>":n||t._state.popup_is_custom?r+=Xm(t,t._state.popup_custom_header,t._state.popup_custom_main,i):r+=Vm(t,i,"popup"),r}function Km(t,e){var n="",r=Jm(t,e);return t._state.panel_is_custom?n+=Xm(t,t._state.panel_custom_header,t._state.panel_custom_main,r):n+=Vm(t,r,"panel"),n}function tv(t){var e=t.popup._getElement(),n=e.querySelector(".flourish-popup-content");n.style.padding="0",n.style.textAlign=t._state.popup_align,n.style.color=t._state.popup_text_color,n.style.fontSize=t._state.popup_font_size+"rem",n.style.borderRadius=t._state.popup_radius+"rem",n.addEventListener("click",(function(){event.stopPropagation()}));var r=t.panel._getElement(),i=r.querySelector(".flourish-panel-inner"),a=r.querySelector(".flourish-panel-content"),o=uc(t._state.panel_background);i.style.background="rgba("+o.r+","+o.g+","+o.b+","+t._state.panel_background_opacity+")",i.style.borderRadius=t._state.popup_radius+"rem",i.style.boxShadow="overlay"==t._state.panel_position&&t._state.panel_shadow?"0 0 1.5rem rgba(0,0,0,0.2)":"",i.addEventListener("click",(function(){event.stopPropagation()})),a.style.padding=t._state.panel_padding+"rem",a.style.textAlign=t._state.panel_align,a.style.color=t._state.panel_text_color,a.style.fontSize=t._state.panel_font_size+"rem",a.style.boxSizing="border-box";var l=e.querySelector(".flourish-popup-svg g");l.style.fill=t._state.popup_background,l.style.opacity=t._state.popup_background_opacity;var s=r.querySelector(".flourish-panel-close path");s&&(s.style.stroke=t._state.panel_text_color),0==t._state.popup_shadow?l.removeAttribute("filter"):l.setAttribute("filter","url(#dropshadow-"+t.popup.unique_id+")"),l.querySelector("rect").setAttribute("rx",t._state.popup_radius+"rem"),l.querySelector("path").style.display=t._state.popup_pointer?"block":"none",function(t){if(!document.querySelector("#popup-styles")){var e=document.createElement("style");e.id="popup-styles",document.head.appendChild(e)}var n=new Rs,r="block"==t._state.popup_header_type,i=uc(t._state.popup_header_background||"transparent");i.opacity=t._state.popup_header_background?t._state.popup_background_opacity:0;var a=t._state.panel_position;n.select(".flourish-panel .flourish-panel-shadow").style("pointer-events","none").style("position","absolute").style("display","overlay"!=a&&t._state.panel_shadow?"block":"none").style("top","bottom"==a?"-3rem":"top"==a?"auto":0).style("right","left"==a?"-3rem":"right"==a?"auto":0).style("bottom","top"==a?"-3rem":"bottom"==a?"auto":0).style("left","right"==a?"-3rem":"left"==a?"auto":0).style("width","left"==a||"right"==a?"3rem":"100%").style("height","top"==a||"bottom"==a?"3rem":"100%").style("z-index","-1").style("overflow","hidden"),n.select(".flourish-panel .flourish-panel-shadow:before").style("content","''").style("display","block").style("position","absolute").style("width","left"==a||"right"==a?"1.5rem":"100%").style("height","top"==a||"bottom"==a?"1.5rem":"100%").style("border-radius","50%").style("background","rgba(0,0,0,0.3)").style("bottom","bottom"==a?"-50%":"top"==a?"auto":0).style("left","left"==a?"-50%":"right"==a?"auto":0).style("top","top"==a?"-50%":"bottom"==a?"auto":0).style("right","right"==a?"-50%":"left"==a?"auto":0).style("filter","blur(15px)"),n.select(".flourish-popup").style("pointer-events","none").select(".flourish-popup-content").style("pointer-events","auto").style("max-width",null==t._state.popup_width?null:t._state.popup_width+"rem !important"),n.select(".flourish-popup header, .flourish-panel header").style("margin","0"),n.select(".flourish-popup header").style("font-weight","bold").style("color",r?t._state.popup_header_text_color:null).style("background",r?i.rgb():null).style("padding",t._state.popup_padding+"rem").style("border-radius",t._state.popup_radius+"rem "+t._state.popup_radius+"rem 0 0"),n.select(".flourish-popup header:not(:last-child)").style("padding-bottom",r?null:"0"),n.select(".flourish-popup header:not(:last-child)").style("padding-bottom",r?null:"0"),n.select(".flourish-panel .flourish-panel-content-inner").style("overflow","auto"),n.select(".flourish-panel header").style("font-weight","bold").style("margin-bottom","0.5em").style("padding-right","1rem"),n.select(".flourish-popup .main-content").style("padding",t._state.popup_padding+"rem"),n.select(".flourish-popup header + .main-content").style("padding",t._state.popup_padding+"rem").style("padding-top",r?null:"0"),n.select(".flourish-popup h1, .flourish-panel h1").style("font-size","1em").style("margin","0"),n.select(".flourish-popup h1, .flourish-popup h2, .flourish-popup ul li").style("text-align",t._state.popup_align),n.select(".flourish-panel h1, .flourish-panel h2, .flourish-panel ul li").style("text-align",t._state.panel_align),n.select(".flourish-popup h2, .flourish-panel h2").style("font-size","1em").style("margin",r?"0":"0 0 0.25em").style("opacity","0.6").style("font-weight","normal"),n.select(".flourish-popup h2:empty, .flourish-panel h2:empty, .flourish-popup h1:empty, .flourish-panel h1:empty, .flourish-popup p:empty, .flourish-panel p:empty").style("display","none"),n.select(".flourish-popup p, .flourish-panel p").style("margin","0").style("font-size","inherit").style("font-weight","normal"),n.select(".flourish-popup table, .flourish-panel table").style("margin","0").style("width","100%").style("border-collapse","collapse").style("table-layout","auto"),n.select(".flourish-popup table tr, .flourish-panel table tr").style("border-top","1px solid #eee"),n.select(".flourish-popup table tr:first-child, .flourish-panel table tr:first-child").style("border-top","none"),n.select(".flourish-popup table tr td, .flourish-panel table tr td").style("padding","0.25em 0 0.25em 0").style("padding-inline-end","0.25em").style("vertical-align","top").style("font-size","inherit").style("text-align","start").style("font-weight","normal").style("overflow","hidden").style("text-overflow","ellipsis"),n.select(".flourish-popup table tr:last-child td, .flourish-panel table tr:last-child td").style("padding-bottom","0"),n.select(".flourish-popup .data-heading").style("font-weight",t._state.popup_list_label_weight).style("display","inline-block"),n.select(".flourish-panel .data-heading").style("font-weight",t._state.panel_list_label_weight).style("display","inline-block"),n.select(".flourish-popup table tr td.table-col-value, .flourish-panel table tr td.table-col-value").style("text-align","end").style("padding","0.25em 0 0.25em 0").style("padding-inline-end","0.25em"),n.select(".flourish-popup table tr:last-child td.table-col-value, .flourish-panel table tr:last-child td.table-col-value").style("padding-bottom","0"),n.select(".flourish-popup ul, .flourish-panel ul").style("padding","0").style("margin","0"),n.select(".flourish-popup ul li, .flourish-panel ul li").style("font-size","inherit").style("list-style","none"),document.head.querySelector("#popup-styles").innerHTML=n.print()}(t)}function ev(t,e,n){var r=this;for(var i in this._state=t,this._popup_default_template=null,this._panel_default_template=null,this._title_key="name",this._subtitle_key=null,this._first_load=!0,this._on_panel_close=null,this._show_default_content_timer=null,this._panel_container=e||document.body,this._popup_container=n||document.body,this._popup_directions=["top","bottom","left","right"],this._column_names=[],this._column_names_hidden=[],this._formatters=null,this._getLockedPosition=function(){return null},Wm)null==t[i]&&(t[i]=Wm[i]);this.panel=(new Ym).container(this._panel_container).on("close",(function(){r._state.locked_id=null,r.popup.hide(),"function"==typeof r._on_panel_close&&r._on_panel_close()})),this.popup=X_().container(this._popup_container).point(0,0).draw().hide()}function nv(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="none"}function rv(t){t.popup._getElement().querySelector(".flourish-popup-content").style.pointerEvents="auto"}ev.prototype.getLockedPosition=function(t){return"function"!=typeof t?console.error("Invalid function passed to @flourish/info-popup getLockedPosition"):this._getLockedPosition=t,this},ev.prototype.update=function(t){if(null!==this._state.locked_id&&"none"!=this._state.mode){var e=this._getLockedPosition(this._state.locked_id);e?this.click(e[0],e[1],this._state.locked_id,t):console.warn("@flourish/info-popup: failed to return value from getLockedPosition function")}else this.clickout()},ev.prototype.click=function(t,e,n,r){if("none"!=this._state.mode){var i="popup"==this._state.mode?"popup":"panel";this._checkIfPopupIsEmpty(e,i)?"panel"===i?this.hidePanel():this.hidePopup():(this._point(t),null!=n?(this._state.locked_id=n,rv(this)):this._state.locked_id=null,"panel"==i?(clearTimeout(this._show_default_content_timer),this.popup.hide(),this._drawPanel(e,r)):"popup"==i&&(this.panel.hide(),this._drawPopup(e,r)))}},ev.prototype.clickout=function(){this._state.locked_id=null,"both"!=this._state.mode&&"panel"!=this._state.mode||(this.popup.draw(),this.popup.hide(),"overlay"!=this._state.panel_position&&this._state.panel_side_fixed?this._showDefaultPanelContent():this.panel.hide()),"popup"==this._state.mode&&(this.panel.hide(),this.popup.draw(),this.popup.hide()),"none"==this._state.mode&&(this.panel.hide(),this.popup.draw(),this.popup.hide())},ev.prototype.touch=function(t,e,n,r){this.mouseover(t,e,r,!0,n)},ev.prototype.mouseover=function(t,e,n,r,i){var a="panel"==this._state.mode?"panel":"popup";if(this._checkIfPopupIsEmpty(e,a,"both"==this._state.mode))"panel"===a?this.hidePanel():this.hidePopup();else{var o=this;if("both"==this._state.mode)if(this._point(t),this._drawPopup(e,n,!0),r?rv(this):nv(this),r)o.popup._getElement().querySelector(".flourish-popup-content").onclick=function(){o.click(t,e,i,n)};if("popup"==this._state.mode){if(null!==this._state.locked_id)return;nv(this),this._point(t),this._drawPopup(e,n)}if("panel"==this._state.mode){if(null!==this._state.locked_id||"overlay"==this._state.panel_position)return;if(!this._state.panel_side_fixed)return;clearTimeout(this._show_default_content_timer),this._point(t),this._drawPanel(e,n)}}},ev.prototype.mouseout=function(){if("both"==this._state.mode&&this.popup.hide(),"popup"==this._state.mode){if(null!==this._state.locked_id)return;this.popup.hide()}if("panel"==this._state.mode){if(null!==this._state.locked_id)return;if("overlay"==this._state.panel_position||!this._state.panel_side_fixed)return;this._showDefaultPanelContent()}},ev.prototype.locked=function(){return this._state.locked_id},ev.prototype.mode=function(){return this._state.mode},ev.prototype.setColumnNames=function(t){return this._column_names=t,this},ev.prototype.hideColumnNames=function(t){return this._column_names_hidden=t,this},ev.prototype.setFormatters=function(t){var e={};for(var n in t)if("function"==typeof t[n])e[n]=t[n];else if(Array.isArray(t[n])){for(var r=[],i=0;i<t[n].length;i++){var a;a="function"==typeof t[n][i]?t[n][i]:Fs(t[n][i].output_format_id),r.push(a)}e[n]=r}else e[n]=Fs(t[n].output_format_id);return this._formatters=e,this},ev.prototype._showDefaultPanelContent=function(){var t=this;clearTimeout(this._show_default_content_timer),this._show_default_content_timer=setTimeout((function(){t.panel.html(t._state.panel_side_default_content),t._drawPanel()}),100),t._drawPanel()},ev.prototype._checkIfPopupIsEmpty=function(t,e,n){return""==("panel"==e?Km(this,t):Qm(this,t,n)).trim()},ev.prototype.onPanelClose=function(t){return this._on_panel_close=t,this},ev.prototype._drawPopup=function(t,e,n){return t&&this.popup.html(Qm(this,t,n)),tv(this),this.popup.draw(),e&&e(this.popup._getElement(),t),this},ev.prototype._drawPanel=function(t,e){return tv(this),this.panel.open_duration(this._state.panel_open_duration).close_duration(this._state.panel_close_duration).width_overlay(this._state.panel_width_overlay).height_overlay(this._state.panel_height_overlay).vertical_position(this._state.panel_vertical_position).width_side(this._state.panel_width_side).height_side(this._state.panel_height_side).position(this._state.panel_position).max_width(this._state.panel_max_width).max_height(this._state.panel_max_height).closeable("overlay"==this._state.panel_position||!this._state.panel_side_fixed),void 0===t?this.panel.draw():this.panel.html(Km(this,t)).draw(),e&&e(this.panel._getElement(),t),this},ev.prototype.hidePanel=function(){return this.panel.hide(),this},ev.prototype.hidePopup=function(){return this.popup.hide(),this},ev.prototype.popupDirections=function(t){return t?(this._popup_directions=t,this):this._popup_directions.slice()},ev.prototype.margins=function(){return this.panel.margins()},ev.prototype._getBiggestGap=function(t){var e,n,r=this._popup_container.getBoundingClientRect(),i=0,a={right:(r.width+r.left-(t.width+t.left))/r.width,bottom:(r.height+r.top-(t.height+t.top))/r.height,left:(t.left-r.left)/r.width,top:(t.top-r.top)/r.height},o={right:["left","leftFlexible","topLeft","bottomLeft","bottomFlexible","bottom","topFlexible","top","bottomRight","topRight","rightFlexible","right"],left:["right","rightFlexible","topRight","bottomRight","top","topFlexible","bottom","bottomFlexible","bottomLeft","topLeft","leftFlexible","left"],top:["bottom","bottomFlexible","bottomRight","bottomLeft","rightFlexible","leftFlexible","right","left","topRight","topLeft","topFlexible","top"],bottom:["top","topFlexible","topLeft","topRight","left","right","leftFlexible","rightFlexible","bottomLeft","bottomRight","bottomFlexible","bottom"]};for(var l in a)this._popup_directions.indexOf(l)<0||a[l]>i&&(i=a[l],e=l,n=o[l]);var s=t.left,c=t.top;return"left"==e||"right"==e?c+=.5*t.height:"bottom"==e&&(c+=t.height),"top"==e||"bottom"==e?s+=.5*t.width:"right"==e&&(s+=t.width),{side:e,arrow_directions:n,x:s,y:c}},ev.prototype._point=function(t){var e,n,r=this._popup_directions;if(Array.isArray(t))e=t[0],n=t[1];else{if(!t||!t.getBoundingClientRect)return console.warn("@flourish/info-popup: Invalid positional value passed in point function, should be a coordinates array, or a node. Current value is",t),this;var i=t.getBoundingClientRect(),a=this._getBiggestGap(i);e=a.x,n=a.y,r=a.arrow_directions}return this.panel.point(t),this.popup.directions(r).point(e,n),this},ev.prototype.popupDefaultTemplate=function(t){return null!=t?(this._popup_default_template=t,this):this._popup_default_template},ev.prototype.panelDefaultTemplate=function(t){return null!=t?(this._panel_default_template=t,this):this._panel_default_template},ev.prototype.titleKey=function(t){return null!=t?(this._title_key=t,this):this._title_key},ev.prototype.subtitleKey=function(t){return null!=t?(this._subtitle_key=t,this):this._subtitle_key};var iv={root:null},av="object"==("undefined"==typeof global?"undefined":Ml(global))&&global&&global.Object===Object&&global,ov="object"==("undefined"==typeof self?"undefined":Ml(self))&&self&&self.Object===Object&&self,lv=av||ov||Function("return this")(),sv=lv.Symbol,cv=Object.prototype,uv=cv.hasOwnProperty,fv=cv.toString,dv=sv?sv.toStringTag:void 0;var pv=Object.prototype.toString;var hv=sv?sv.toStringTag:void 0;function yv(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":hv&&hv in Object(t)?function(t){var e=uv.call(t,dv),n=t[dv];try{t[dv]=void 0;var r=!0}catch(t){}var i=fv.call(t);return r&&(e?t[dv]=n:delete t[dv]),i}(t):function(t){return pv.call(t)}(t)}function _v(t){var e=Ml(t);return null!=t&&("object"==e||"function"==e)}var bv=lv["__core-js_shared__"],gv=function(){var t=/[^.]+$/.exec(bv&&bv.keys&&bv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var mv=Function.prototype.toString;var vv=/^\[object .+?Constructor\]$/,xv=Function.prototype,wv=Object.prototype,Mv=xv.toString,kv=wv.hasOwnProperty,Av=RegExp("^"+Mv.call(kv).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ev(t){if(!_v(t)||(e=t,gv&&gv in e))return!1;var e,n=function(t){if(!_v(t))return!1;var e=yv(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}(t)?Av:vv;return n.test(function(t){if(null!=t){try{return mv.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function Sv(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Ev(n)?n:void 0}var Tv=Sv(Object,"create");var zv=Object.prototype.hasOwnProperty;var Ov=Object.prototype.hasOwnProperty;function Cv(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Lv(t,e){for(var n,r,i=t.length;i--;)if((n=t[i][0])===(r=e)||n!=n&&r!=r)return i;return-1}Cv.prototype.clear=function(){this.__data__=Tv?Tv(null):{},this.size=0},Cv.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Cv.prototype.get=function(t){var e=this.__data__;if(Tv){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return zv.call(e,t)?e[t]:void 0},Cv.prototype.has=function(t){var e=this.__data__;return Tv?void 0!==e[t]:Ov.call(e,t)},Cv.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Tv&&void 0===e?"__lodash_hash_undefined__":e,this};var Nv=Array.prototype.splice;function jv(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jv.prototype.clear=function(){this.__data__=[],this.size=0},jv.prototype.delete=function(t){var e=this.__data__,n=Lv(e,t);return!(n<0)&&(n==e.length-1?e.pop():Nv.call(e,n,1),--this.size,!0)},jv.prototype.get=function(t){var e=this.__data__,n=Lv(e,t);return n<0?void 0:e[n][1]},jv.prototype.has=function(t){return Lv(this.__data__,t)>-1},jv.prototype.set=function(t,e){var n=this.__data__,r=Lv(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Fv=Sv(lv,"Map");function Pv(t,e){var n,r,i=t.__data__;return("string"==(r=Ml(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Iv(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Iv.prototype.clear=function(){this.size=0,this.__data__={hash:new Cv,map:new(Fv||jv),string:new Cv}},Iv.prototype.delete=function(t){var e=Pv(this,t).delete(t);return this.size-=e?1:0,e},Iv.prototype.get=function(t){return Pv(this,t).get(t)},Iv.prototype.has=function(t){return Pv(this,t).has(t)},Iv.prototype.set=function(t,e){var n=Pv(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function Dv(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Iv;++e<n;)this.add(t[e])}function Rv(t){return t!=t}function Uv(t,e){return!!(null==t?0:t.length)&&function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):function(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}(t,Rv,n)}(t,e,0)>-1}function Bv(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Hv(t,e){return t.has(e)}Dv.prototype.add=Dv.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Dv.prototype.has=function(t){return this.__data__.has(t)};var Yv=Sv(lv,"Set");function qv(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var $v=Yv&&1/qv(new Yv([,-0]))[1]==1/0?function(t){return new Yv(t)}:function(){};function Wv(t){return t&&t.length?function(t,e,n){var r=-1,i=Uv,a=t.length,o=!0,l=[],s=l;if(n)o=!1,i=Bv;else if(a>=200){var c=e?null:$v(t);if(c)return qv(c);o=!1,i=Hv,s=new Dv}else s=e?[]:l;t:for(;++r<a;){var u=t[r],f=e?e(u):u;if(u=n||0!==u?u:0,o&&f==f){for(var d=s.length;d--;)if(s[d]===f)continue t;e&&s.push(f),l.push(u)}else i(s,f,n)||(s!==l&&s.push(f),l.push(u))}return l}(t):[]}var Vv=ot.f,Gv=ce.fastKey,Xv=At.set,Zv=At.getterFor,Jv={getConstructor:function(t,e,n,r){var i=t((function(t,a){Wd(t,i,e),Xv(t,{type:e,index:rr(null),first:void 0,last:void 0,size:0}),s||(t.size=0),null!=a&&sg(a,t[r],{that:t,AS_ENTRIES:n})})),a=Zv(e),o=function(t,e,n){var r,i,o=a(t),c=l(t,e);return c?c.value=n:(o.last=c={index:i=Gv(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=c),r&&(r.next=c),s?o.size++:t.size++,"F"!==i&&(o.index[i]=c)),t},l=function(t,e){var n,r=a(t),i=Gv(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return $d(i.prototype,{clear:function(){for(var t=a(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,s?t.size=0:this.size=0},delete:function(t){var e=this,n=a(e),r=l(e,t);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),s?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=a(this),r=bn(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),$d(i.prototype,n?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return o(this,0===t?0:t,e)}}:{add:function(t){return o(this,t=0===t?0:t,t)}}),s&&Vv(i.prototype,"size",{get:function(){return a(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",i=Zv(e),a=Zv(r);Au(t,e,(function(t,e){Xv(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=a(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),Ui(e)}};!function(t,e,n){var r=-1!==t.indexOf("Map"),i=-1!==t.indexOf("Weak"),a=r?"set":"add",s=o[t],c=s&&s.prototype,u=s,f={},d=function(t){var e=c[t];Ot(c,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(i&&!v(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return i&&!v(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(i&&!v(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(ee(t,!m(s)||!(i||c.forEach&&!l((function(){(new s).entries().next()})))))u=n.getConstructor(e,t,r,a),ce.enable();else if(ee(t,!0)){var p=new u,h=p[a](i?{}:-0,1)!=p,y=l((function(){p.has(1)})),_=bg((function(t){new s(t)})),b=!i&&l((function(){for(var t=new s,e=5;e--;)t[a](e,e);return!t.has(-0)}));_||((u=e((function(e,n){Wd(e,u,t);var i=Di(new s,e,u);return null!=n&&sg(n,i[a],{that:i,AS_ENTRIES:r}),i}))).prototype=c,c.constructor=u),(y||b)&&(d("delete"),d("has"),r&&d("get")),(b||h)&&d(a),i&&c.clear&&delete c.clear}f[t]=u,re({global:!0,forced:u!=s},f),pu(u,t),i||n.setStrong(u,t,r)}("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),Jv);var Qv=kr.charAt,Kv="String Iterator",tx=At.set,ex=At.getterFor(Kv);Au(String,"String",(function(t){tx(this,{type:Kv,string:me(t),index:0})}),(function(){var t,e=ex(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Qv(n,r),e.index+=t.length,{value:t,done:!1})}));var nx=function(t,e,n,r){try{return r?e(it(n)[0],n[1]):e(n)}catch(e){og(t,"throw",e)}},rx=!bg((function(t){Array.from(t)}));re({target:"Array",stat:!0,forced:rx},{from:function(t){var e=R(t),n=je(this),r=arguments.length,i=r>1?arguments[1]:void 0,a=void 0!==i;a&&(i=bn(i,r>2?arguments[2]:void 0,2));var o,l,s,c,u,f,d=ig(e),p=0;if(!d||this==Array&&ng(d))for(o=Ft(e.length),l=n?new this(o):Array(o);o>p;p++)f=a?i(e[p],p):e[p],Fe(l,p,f);else for(u=(c=ag(e,d)).next,l=n?new this:[];!(s=u.call(c)).done;p++)f=a?nx(c,i,[s.value,p],!0):s.value,Fe(l,p,f);return l.length=p,l}});var ix=o,ax={f:G},ox=ot.f,lx=function(t){var e=ix.Symbol||(ix.Symbol={});B(e,t)||ox(e,t,{value:ax.f(t)})};lx("iterator");var sx=wn.forEach,cx=_t("hidden"),ux="Symbol",fx=G("toPrimitive"),dx=At.set,px=At.getterFor(ux),hx=Object.prototype,yx=o.Symbol,_x=w("JSON","stringify"),bx=rt.f,gx=ot.f,mx=se.f,vx=f.f,xx=D("symbols"),wx=D("op-symbols"),Mx=D("string-to-symbol-registry"),kx=D("symbol-to-string-registry"),Ax=D("wks"),Ex=o.QObject,Sx=!Ex||!Ex.prototype||!Ex.prototype.findChild,Tx=s&&l((function(){return 7!=rr(gx({},"a",{get:function(){return gx(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=bx(hx,e);r&&delete hx[e],gx(t,e,n),r&&t!==hx&&gx(hx,e,r)}:gx,zx=function(t,e){var n=xx[t]=rr(yx.prototype);return dx(n,{type:ux,tag:t,description:e}),s||(n.description=e),n},Ox=function(t,e,n){t===hx&&Ox(wx,e,n),it(t);var r=J(e);return it(n),B(xx,r)?(n.enumerable?(B(t,cx)&&t[cx][r]&&(t[cx][r]=!1),n=rr(n,{enumerable:d(0,!1)})):(B(t,cx)||gx(t,cx,d(1,{})),t[cx][r]=!0),Tx(t,r,n)):gx(t,r,n)},Cx=function(t,e){it(t);var n=g(e),r=Xn(n).concat(Fx(n));return sx(r,(function(e){s&&!Lx.call(n,e)||Ox(t,e,n[e])})),t},Lx=function(t){var e=J(t),n=vx.call(this,e);return!(this===hx&&B(xx,e)&&!B(wx,e))&&(!(n||!B(this,e)||!B(xx,e)||B(this,cx)&&this[cx][e])||n)},Nx=function(t,e){var n=g(t),r=J(e);if(n!==hx||!B(xx,r)||B(wx,r)){var i=bx(n,r);return!i||!B(xx,r)||B(n,cx)&&n[cx][r]||(i.enumerable=!0),i}},jx=function(t){var e=mx(g(t)),n=[];return sx(e,(function(t){B(xx,t)||B(bt,t)||n.push(t)})),n},Fx=function(t){var e=t===hx,n=mx(e?wx:g(t)),r=[];return sx(n,(function(t){!B(xx,t)||e&&!B(hx,t)||r.push(xx[t])})),r};if(z||(yx=function(){if(this instanceof yx)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?me(arguments[0]):void 0,e=q(t),n=function(t){this===hx&&n.call(wx,t),B(this,cx)&&B(this[cx],e)&&(this[cx][e]=!1),Tx(this,e,d(1,t))};return s&&Sx&&Tx(hx,e,{configurable:!0,set:n}),zx(e,t)},Ot(yx.prototype,"toString",(function(){return px(this).tag})),Ot(yx,"withoutSetter",(function(t){return zx(q(t),t)})),f.f=Lx,ot.f=Ox,rt.f=Nx,$t.f=se.f=jx,Wt.f=Fx,ax.f=function(t){return zx(G(t),t)},s&&(gx(yx.prototype,"description",{configurable:!0,get:function(){return px(this).description}}),Ot(hx,"propertyIsEnumerable",Lx,{unsafe:!0}))),re({global:!0,wrap:!0,forced:!z,sham:!z},{Symbol:yx}),sx(Xn(Ax),(function(t){lx(t)})),re({target:ux,stat:!0,forced:!z},{for:function(t){var e=me(t);if(B(Mx,e))return Mx[e];var n=yx(e);return Mx[e]=n,kx[n]=e,n},keyFor:function(t){if(!C(t))throw TypeError(t+" is not a symbol");if(B(kx,t))return kx[t]},useSetter:function(){Sx=!0},useSimple:function(){Sx=!1}}),re({target:"Object",stat:!0,forced:!z,sham:!s},{create:function(t,e){return void 0===e?rr(t):Cx(rr(t),e)},defineProperty:Ox,defineProperties:Cx,getOwnPropertyDescriptor:Nx}),re({target:"Object",stat:!0,forced:!z},{getOwnPropertyNames:jx,getOwnPropertySymbols:Fx}),re({target:"Object",stat:!0,forced:l((function(){Wt.f(1)}))},{getOwnPropertySymbols:function(t){return Wt.f(R(t))}}),_x){var Px=!z||l((function(){var t=yx();return"[null]"!=_x([t])||"{}"!=_x({a:t})||"{}"!=_x(Object(t))}));re({target:"JSON",stat:!0,forced:Px},{stringify:function(t,e,n){for(var r,i=[t],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=e,(v(e)||void 0!==t)&&!C(t))return Se(e)||(e=function(t,e){if(m(r)&&(e=r.call(this,t,e)),!C(e))return e}),i[1]=e,_x.apply(null,i)}})}if(!yx.prototype[fx]){var Ix=yx.prototype.valueOf;Ot(yx.prototype,fx,(function(){return Ix.apply(this,arguments)}))}pu(yx,ux),bt[cx]=!0;var Dx=ot.f,Rx=o.Symbol;if(s&&m(Rx)&&(!("description"in Rx.prototype)||void 0!==Rx().description)){var Ux={},Bx=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Bx?new Rx(t):void 0===t?Rx():Rx(t);return""===t&&(Ux[e]=!0),e};Gt(Bx,Rx);var Hx=Bx.prototype=Rx.prototype;Hx.constructor=Bx;var Yx=Hx.toString,qx="Symbol(test)"==String(Rx("test")),$x=/^Symbol\((.*)\)[^)]+$/;Dx(Hx,"description",{configurable:!0,get:function(){var t=v(this)?this.valueOf():this,e=Yx.call(t);if(B(Ux,t))return"";var n=qx?e.slice(7,-1):e.replace($x,"$1");return""===n?void 0:n}}),re({global:!0,forced:!0},{Symbol:Bx})}function Wx(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}lx("asyncIterator"),lx("toStringTag"),pu(o.JSON,"JSON",!0),pu(Math,"Math",!0);var Vx=l((function(){ou(1)}));re({target:"Object",stat:!0,forced:Vx,sham:!ru},{getPrototypeOf:function(t){return ou(R(t))}}),n((function(t){var e=function(t){var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function s(t,e,n,r){var i=e&&e.prototype instanceof y?e:y,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(t,e,n){var r=u;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return z()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var l=k(o,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=c(t,e,n);if("normal"===s.type){if(r=n.done?p:f,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(t,n,o),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var u="suspendedStart",f="suspendedYield",d="executing",p="completed",h={};function y(){}function _(){}function b(){}var g={};g[a]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(T([])));v&&v!==n&&r.call(v,a)&&(g=v);var x=b.prototype=y.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function M(t,e){function n(i,a,o,l){var s=c(t[i],t,a);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"===Ml(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,o,l)}),(function(t){n("throw",t,o,l)})):e.resolve(f).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,l)}))}l(s.arg)}var i;this._invoke=function(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}}function k(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=c(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,h;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function T(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:z}}function z(){return{value:e,done:!0}}return _.prototype=x.constructor=b,b.constructor=_,b[l]=_.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l in t||(t[l]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},w(M.prototype),M.prototype[o]=function(){return this},t.AsyncIterator=M,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new M(s(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(x),x[l]="Generator",x[a]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(E),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));var Gx=regeneratorRuntime.mark(Xx);function Xx(){var t,e,n,r,i,a;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=[t=this];case 1:e=n.reverse(),n=[];case 2:if(!(t=e.pop())){o.next=8;break}return o.next=5,t;case 5:if(r=t.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);o.next=2;break;case 8:if(n.length){o.next=1;break}case 9:case"end":return o.stop()}}),Gx,this)}function Zx(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=Qx)):void 0===e&&(e=Jx);for(var n,r,i,a,o,l=new ew(t),s=[l];n=s.pop();)if((i=e(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)s.push(r=i[a]=new ew(i[a])),r.parent=n,r.depth=n.depth+1;return l.eachBefore(tw)}function Jx(t){return t.children}function Qx(t){return Array.isArray(t)?t[1]:null}function Kx(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function tw(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function ew(t){this.data=t,this.depth=this.height=0,this.parent=null}function nw(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Array.from(t))).length,a=[];r<i;)e=t[r],n&&aw(n,e)?++r:(n=lw(a=rw(a,e)),r=0);return n}function rw(t,e){var n,r;if(ow(e,t))return[e];for(n=0;n<t.length;++n)if(iw(e,t[n])&&ow(sw(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(iw(sw(t[n],t[r]),e)&&iw(sw(t[n],e),t[r])&&iw(sw(t[r],e),t[n])&&ow(cw(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function iw(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function aw(t,e){var n=t.r-e.r+1e-9*Math.max(t.r,e.r,1),r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function ow(t,e){for(var n=0;n<e.length;++n)if(!aw(t,e[n]))return!1;return!0}function lw(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return sw(t[0],t[1]);case 3:return cw(t[0],t[1],t[2])}var e}function sw(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,l=e.r,s=a-n,c=o-r,u=l-i,f=Math.sqrt(s*s+c*c);return{x:(n+a+s/f*u)/2,y:(r+o+c/f*u)/2,r:(f+i+l)/2}}function cw(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,l=e.y,s=e.r,c=n.x,u=n.y,f=n.r,d=r-o,p=r-c,h=i-l,y=i-u,_=s-a,b=f-a,g=r*r+i*i-a*a,m=g-o*o-l*l+s*s,v=g-c*c-u*u+f*f,x=p*h-d*y,w=(h*v-y*m)/(2*x)-r,M=(y*_-h*b)/x,k=(p*m-d*v)/(2*x)-i,A=(d*b-p*_)/x,E=M*M+A*A-1,S=2*(a+w*M+k*A),T=w*w+k*k-a*a,z=-(E?(S+Math.sqrt(S*S-4*E*T))/(2*E):T/S);return{x:r+w+M*z,y:i+k+A*z,r:z}}function uw(t,e,n){var r,i,a,o,l=t.x-e.x,s=t.y-e.y,c=l*l+s*s;c?(i=e.r+n.r,i*=i,o=t.r+n.r,i>(o*=o)?(r=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-r*r)),n.x=t.x-r*l-a*s,n.y=t.y-r*s+a*l):(r=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*l-a*s,n.y=e.y+r*s+a*l)):(n.x=e.x+n.r,n.y=e.y)}function fw(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function dw(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function pw(t){this._=t,this.next=null,this.previous=null}function hw(t){if(!(a=(e=t,t="object"===Ml(e)&&"length"in e?e:Array.from(e)).length))return 0;var e,n,r,i,a,o,l,s,c,u,f,d;if((n=t[0]).x=0,n.y=0,!(a>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;uw(r,n,i=t[2]),n=new pw(n),r=new pw(r),i=new pw(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(s=3;s<a;++s){uw(n._,r._,i=t[s]),i=new pw(i),c=r.next,u=n.previous,f=r._.r,d=n._.r;do{if(f<=d){if(fw(c._,i._)){r=c,n.next=r,r.previous=n,--s;continue t}f+=c._.r,c=c.next}else{if(fw(u._,i._)){(n=u).next=r,r.previous=n,--s;continue t}d+=u._.r,u=u.previous}}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,o=dw(n);(i=i.next)!==r;)(l=dw(i))<o&&(n=i,o=l);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=nw(n),s=0;s<a;++s)(n=t[s]).x-=i.x,n.y-=i.y;return i.r}function yw(t){return null==t?null:_w(t)}function _w(t){if("function"!=typeof t)throw new Error;return t}function bw(){return 0}function gw(t){return function(){return t}}function mw(t){return Math.sqrt(t.value)}function vw(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function xw(t,e){return function(n){if(r=n.children){var r,i,a,o=r.length,l=t(n)*e||0;if(l)for(i=0;i<o;++i)r[i].r+=l;if(a=hw(r),l)for(i=0;i<o;++i)r[i].r-=l;n.r=a+l}}}function ww(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Mw(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function kw(t,e,n,r,i){for(var a,o=t.children,l=-1,s=o.length,c=t.value&&(r-e)/t.value;++l<s;)(a=o[l]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*c}function Aw(t,e){return t.parent===e.parent?1:2}function Ew(t){var e=t.children;return e?e[0]:t.t}function Sw(t){var e=t.children;return e?e[e.length-1]:t.t}function Tw(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function zw(t,e,n){return t.a.parent===e.parent?t.a:n}function Ow(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function Cw(t,e,n,r,i){for(var a,o=t.children,l=-1,s=o.length,c=t.value&&(i-n)/t.value;++l<s;)(a=o[l]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*c}ew.prototype=Zx.prototype=kl({constructor:ew,count:function(){return this.eachAfter(Wx)},each:function(t,e){var n,r=-1,i=El(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.call(e,a,++r,this)}}catch(t){i.e(t)}finally{i.f()}return this},eachAfter:function(t,e){for(var n,r,i,a=this,o=[a],l=[],s=-1;a=o.pop();)if(l.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;a=l.pop();)t.call(e,a,++s,this);return this},eachBefore:function(t,e){for(var n,r,i=this,a=[i],o=-1;i=a.pop();)if(t.call(e,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(t,e){var n,r=-1,i=El(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(t.call(e,a,++r,this))return a}}catch(t){i.e(t)}finally{i.f()}},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Zx(this).eachBefore(Kx)}},Symbol.iterator,Xx),Ow.prototype=Object.create(ew.prototype);var Lw=(1+Math.sqrt(5))/2;function Nw(t,e,n,r,i,a){for(var o,l,s,c,u,f,d,p,h,y,_,b=[],g=e.children,m=0,v=0,x=g.length,w=e.value;m<x;){s=i-n,c=a-r;do{u=g[v++].value}while(!u&&v<x);for(f=d=u,_=u*u*(y=Math.max(c/s,s/c)/(w*t)),h=Math.max(d/_,_/f);v<x;++v){if(u+=l=g[v].value,l<f&&(f=l),l>d&&(d=l),_=u*u*y,(p=Math.max(d/_,_/f))>h){u-=l;break}h=p}b.push(o={value:u,dice:s<c,children:g.slice(m,v)}),o.dice?kw(o,n,r,i,w?r+=c*u/w:a):Cw(o,n,r,w?n+=s*u/w:i,a),w-=u,m=v}return b}var jw=function t(e){function n(t,n,r,i,a){Nw(e,t,n,r,i,a)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Lw);var Fw=function t(e){function n(t,n,r,i,a){if((o=t._squarify)&&o.ratio===e)for(var o,l,s,c,u,f=-1,d=o.length,p=t.value;++f<d;){for(s=(l=o[f]).children,c=l.value=0,u=s.length;c<u;++c)l.value+=s[c].value;l.dice?kw(l,n,r,i,p?r+=(a-r)*l.value/p:a):Cw(l,n,r,p?n+=(i-n)*l.value/p:i,a),p-=l.value}else t._squarify=o=Nw(e,t,n,r,i,a),o.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Lw),Pw=Object.freeze({input_decimal_separator:".",output_separators:",."});var Iw,Dw=function(t){for(var e in Pw)void 0===t[e]&&(t[e]=Pw[e]);return{getParser:function(){return e=t.input_decimal_separator,n=new RegExp("[^-0-9eE"+e+"]","g"),function(t){return"number"==typeof t?t:""===t||void 0===t?NaN:parseFloat(t.replace(n,"").replace(e,"."))};var e,n},getFormatterFunction:function(){return e=t.output_separators,n=e.length>1,r=n?e.charAt(1):e.charAt(0),i=n?e.charAt(0):"",a=Oh(function(t,e){return{decimal:t,thousands:e,grouping:[3],currency:["",""]}}(r,i)).format,a.decimal=r,a.thousands=i,a;var e,n,r,i,a}}}(dd.localization),Rw={Count:function(t){return t.reduce((function(t,e){return t+1}),0)},Sum:function(t){return t.reduce((function(t,e){return t+(isNaN(e.value)?0:e.value)}),0)}};function Uw(t,e){if(0===t.length||0===j_.data.column_names.nest_columns.length)return[];Iw=Dw.getParser();var n=function(t){var e=j_.data.column_names.nest_columns,n=j_.data.column_names.size_columns.indexOf(dd.size_by);return t.map((function(t){for(var r={},i=0;i<e.length;i++)r[e[i]]=t.nest_columns[i];return r.value=n>-1?Iw(t.size_columns[n]):0,r.original_data=t,r}))}(t);e&&(n=function(t){var e=t.filter((function(t){return t.value>=0}));return e.length,t.length,e}(n));var r=Du(),i=sk();return j_.data.column_names.nest_columns.forEach((function(t){r=r.key((function(e){return e[t]}))})),r=(r=r.rollup((function(t){return{values:t,rollup_value:Rw[i](t)}}))).entries(n)}function Bw(t){var e=t.ancestors().slice(0,-1).map((function(t){return t.data.key})).reverse();t.id=0===t.depth?"root":t.depth+"-"+e.join("-"),t.children&&t.children.forEach((function(t){Bw(t)}))}function Hw(t){t.children&&(t.children.sort((function(t,e){return t.value>e.value?-1:t.value<e.value?1:0})),t.children.forEach(Hw))}function Yw(t){t.children&&(t.children.sort((function(t,e){return t.data.key>e.data.key?1:t.data.key<e.data.key?-1:0})),t.children.forEach(Yw))}function qw(t){void 0!==t&&t.forEach((function(t){t.level1_key=t.ancestors()[t.depth-1].data.key,qw(t.children)}))}function $w(t){var e;return 0===t.length?((e=Zx({})).id="root",e.value=0,e.data.key="",e.data.value=0,e):((e=Zx({values:t},(function(t){return t.values}))).descendants().forEach((function(t){t.data.column_name=j_.data.column_names.nest_columns[t.depth-1]})),e.leaves().forEach((function(t){var e=t.data.value.values;1===e.length&&(t.data.unique_row=e[0].original_data),t.data.value=t.data.value.rollup_value})),e.sum((function(t){return t.value})),Bw(e),"value"===dd.sort_by?Hw(e):"name"===dd.sort_by&&Yw(e),qw(e.children),e)}function Ww(t,e){if(!e)return null;for(var n=t.descendants(),r=0;r<n.length;r++){var i=n[r];if(i.id===e)return i}return null}function Vw(t){if(!t)return null;var e=t.ancestors().slice(0,-1);return e=e.map((function(t){return t.data.key})),e.reverse(),e}function Gw(t,e){for(var n=t.ancestors(),r=!1,i=0;i<n.length;i++)n[i].id===e.id&&(r=!0);return r}var Xw=Object.freeze({categorical_type:"palette",categorical_palette:["#4328E7","#9654E5","#FF6283","#FF8800","#FFC502","#007D8E","#1AA7EE","#29DAE4","#88E99A","#019C00","#C11F1F","#730000"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#F7F7F7",sequential_custom_max:"#FF6283",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#1AA7EE",diverging_custom_mid:"#F7F7F7",diverging_custom_max:"#FF6283",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),Zw=360/((1+Math.sqrt(5))/2),Jw="#FF0000";function Qw(t,e,n){return function(r,i){Array.isArray(r)||(r=r?[r]:[Jw]),i=void 0!==i?i:Zw;var a=r.map((function(e){return t(e)})).filter((function(t){return!isNaN(t[e])&&!isNaN(t[n])}));a.length||(a=[t(Jw)]);var o,l=a.length,s=a.reduce((function(t,n){return t+n[e]}),0)/l,c=a.reduce((function(t,e){return t+e[n]}),0)/l,u=l;do{o=a[--u].h}while(isNaN(o)&&u>0);var f=0;return function(){var e=++f*i;return uc(t((o+e)%360,s,c)).hex()}}}var Kw={hcl:Qw(Rc,"c","l"),hsl:Qw(xc,"s","l")};function tM(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function eM(t){return Yd(t[t.length-1])}var nM=eM(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(tM)),rM=eM(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(tM)),iM=eM(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(tM)),aM=eM(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(tM)),oM=eM(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(tM)),lM=eM(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(tM)),sM=eM(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(tM)),cM=eM(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(tM)),uM=eM(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(tM)),fM=eM(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(tM)),dM=eM(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(tM)),pM=eM(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(tM)),hM=eM(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(tM)),yM=eM(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(tM)),_M=eM(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(tM)),bM=eM(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(tM)),gM=eM(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(tM)),mM=eM(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(tM)),vM=eM(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(tM)),xM=eM(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(tM)),wM=eM(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(tM)),MM=eM(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(tM)),kM=eM(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(tM)),AM=eM(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(tM)),EM=eM(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(tM)),SM=eM(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(tM)),TM=eM(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(tM)),zM=lh(Jc(300,.5,0),Jc(-240,.5,1)),OM=lh(Jc(-100,.75,.35),Jc(80,1.5,.8)),CM=lh(Jc(260,.75,.35),Jc(80,1.5,.8));function LM(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}Jc();var NM=LM(tM("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),jM=LM(tM("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),FM=LM(tM("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),PM=LM(tM("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function IM(t,e){return t-e}function DM(t,e){var n=e[0],r=e[e.length-1],i=$h().domain([n,r]),a=Math.floor(t.bin_count);return i.range(md(a)),i.thresholds()}function RM(t,e,n){var r;return r="fixed"==t.bin_mode?DM(t,e):"quantile"==t.bin_mode?function(t,e,n){var r=qh().domain(n),i=Math.floor(t.bin_count);return r.range(md(i)),r.quantiles()}(t,0,n):function(t){return t.bin_thresholds.split(";").map(parseFloat).filter((function(t){return!isNaN(t)&&null!==t})).sort(IM)}(t),r}function UM(t,e,n,r,i){for(var a=1+e;a<=t+e;a++)i.push(r(n(a)))}function BM(t,e,n){var r=e.length,i=Nh(),a=[];if(1===r)a.push(n(.5));else if(2===t.length)i.domain([1,r]).range([0,1]),UM(r,0,i,n,a);else if(2===r)a.push(n(0)),a.push(n(1));else{var o,l,s=t[1],c=function(t,e){var n;return t.forEach((function(t,r){Math.abs(t-e)<.001&&(n=r)})),n}(e,s);c?(o=c,l=r-c-1,i.domain([1,o+1]).range([0,.5]),UM(o,0,i,n,a),a.push(n(.5)),i.domain([1,l+1]).range([.5,1]),UM(l,1,i,n,a)):(o=function(t,e){var n=0;return t.forEach((function(t){t<e&&n++})),n}(e,s),l=r-o,i.domain([1,o+1]).range([0,.5]),UM(o,0,i,n,a),i.domain([1,l+1]).range([.5,1]),UM(l,1,i,n,a))}return a}function HM(t,e,n,r){var i,a=RM(t,e,n),o=function(t,e,n){var r=[];if(0===e.length)return[.5*(t+n)];r.push(.5*(t+e[0]));for(var i=0;i<e.length-1;i++)r.push(.5*(e[i]+e[i+1]));return r.push(.5*(n+e[e.length-1])),r}(e[0],a,e[e.length-1]),l=BM(e,o,r);(i="quantile"==t.bin_mode?qh().domain(n):Wh().domain(a)).range(l);var s=function(t){return isNaN(t)||null===t?null:i(t)};return s.domain=Object.freeze(e),s.thresholds=Object.freeze(a),s.centers=Object.freeze(o),s}function YM(t){return Array.isArray(t)?gd(t):[0,1]}var qM=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),$M=Object.freeze({Blues:MM,BuGn:fM,BuPu:dM,Carrots:Yd(qM),Cool:CM,CubehelixDefault:zM,GnBu:pM,Greens:kM,Greys:AM,Inferno:FM,Magma:jM,Oranges:TM,OrRd:hM,Plasma:PM,PuBu:_M,PuBuGn:yM,PuRd:bM,Purples:EM,RdPu:gM,Reds:SM,Viridis:NM,Warm:OM,YlGn:vM,YlGnBu:mM,YlOrBr:xM,YlOrRd:wM}),WM={hcl:ah,hsl:rh,lab:ih,rgb:Bd};function VM(t,e){var n=t.sequential_custom_domain?[t.sequential_domain_min,t.sequential_domain_max]:YM(e),r=function(e){var n=$M[t.sequential_palette]||function(t){var e=t.sequential_color_space,n=t.sequential_custom_min,r=t.sequential_custom_max;return WM[e](n,r)}(t);return t.sequential_reverse?n(1-e):n(e)};if(t.binning)return HM(t,n,e,r);var i=d_(r).domain(n),a=function(t){return isNaN(t)||null===t?null:i(t)};return a.domain=Object.freeze(n),a}var GM=Object.freeze({BrBG:nM,PiYG:iM,PRGn:rM,PuOr:aM,RdBu:oM,RdGy:lM,RdYlBu:sM,RdYlGn:cM,Spectral:uM}),XM={hcl:ah,hsl:rh,lab:ih,rgb:Bd};function ZM(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,i=t.diverging_custom_max;return function(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}}(XM[e],[n,r,i])}function JM(t,e){var n=YM(e),r=n[0]<0&&n[1]>0?0:(n[0]+n[1])/2,i=[n[0],r,n[1]];t.diverging_custom_domain&&(i=[t.diverging_domain_min,t.diverging_domain_mid,t.diverging_domain_max]);var a=function(e){var n=GM[t.diverging_palette]||ZM(t);return t.diverging_reverse?n(1-e):n(e)};if(t.binning)return HM(t,i,e,a);var o=h_(a).domain(i),l=function(t){return isNaN(t)||null===t?null:o(t)};return l.domain=Object.freeze(i),l.midpoint=t.diverging_custom_domain?t.diverging_domain_mid:r,l}var QM,KM,tk,ek,nk=function(t){var e=null;for(var n in Xw)void 0===t[n]&&(t[n]=Xw[n]);var r=null,i=function(t){return e&&e(t)||r};return{getColor:i,updateColorScale:function(n){return"number"!=typeof n[0]?e=function(t,e){var n={},r=$u(e).values(),i=t.categorical_palette,a=i.length;if(t.categorical_extend){var o=Xw.rotation_angle,l=Kw.hcl(i,o);r.forEach((function(t,e){n[t]=e<a?i[e]:l()}))}else r.forEach((function(t,e){n[t]=i[e%a]}));t.categorical_custom_palette.split("\n").filter((function(t){return t})).forEach((function(t){var e=t.lastIndexOf(":");if(-1!==e){var r=t.slice(0,e).trim(),i=t.slice(e+1).trim();r&&i&&(n[r]=i)}}));var s=function(t){return n[t]};return s.domain=r.slice(),s.colors=r.map((function(t){return n[t]})),s.items=r.map((function(t){return{label:t,color:n[t]}})),s}(t,n):"sequential"===t.numeric_type?e=VM(t,n):"diverging"===t.numeric_type&&(e=JM(t,n)),i.thresholds=e.thresholds,i.centers=e.centers,i.midpoint=e.midpoint,i.domain=e.domain,i.colors=e.colors,i.items=e.items,this},fallback:function(t){return void 0===t?r:(r="default"===t?null:t,this)}}}(dd.color),rk=[];function ik(t){return 180*t/Math.PI}function ak(t){return t*Math.PI/180}function ok(){var t=dd.color.categorical_custom_palette,e=[];return t.split("\n").filter((function(t){return t})).forEach((function(t){var n=t.lastIndexOf(":");if(-1!==n){var r=t.slice(0,n).trim();r&&e.push(r)}})),e}function lk(t){return ok().indexOf(t)>-1}function sk(){return j_.data.column_names.size_columns.length>0?dd.aggregation_type:"Count"}function ck(t){return t.depth>1&&lk(t.data.key)}function uk(t,e){return 0===t.depth?"none":1===t.depth||lk(t.data.key)?nk.getColor(t.data.key):e?"white":nk.getColor(t.level1_key)}function fk(t){return uk(t,!0)}function dk(t){return uk(t,!1)}function pk(){return{low:16,medium:24,high:32}[dd.cellPadding]}function hk(t){return"allUpperCase"===dd.label_case||(!(!t||"bottomUpperCase"!==dd.label_case)||!t&&"topUpperCase"===dd.label_case)}function yk(t){return"allBold"===dd.label_weight||t&&"bottomBold"===dd.label_weight?"bold":t||"topBold"!==dd.label_weight?"normal":"bold"}function _k(t,e,n){var r=ld(t+"...",n||"");if(e-r-8>0)return t;var i=Math.floor(t.length*e/r);return i=Math.max(0,i-3),(t=t.slice(0,i)).length>0&&(t+="…"),t}function bk(){return iv.root.leaves()[0].depth+1}function gk(){return Ww(iv.root,dd.zoomed_node_id)||iv.root}function mk(t,e,n,r,i,a){var o=10*(e-2*r)/ld(t,"10px "+i+(a?" bold":"")),l=Math.max(0,n-2*r);return Math.min(o,l)}function vk(t,e,n,r,i){for(var a=function(t){var e=t.split(/\s+/g);return e[e.length-1]||e.pop(),e[0]||e.shift(),e}(t),o=[],l={text:""},s=n+"px "+i,c=0;c<a.length;c++){if(o.length*n>r)return[];var u=a[c];if(ld(u,s)>e)return[];if(""===l.text)l.text=u,o.push(l);else{var f=l.text+" "+u;ld(f,s)<=e?l.text=f:(l={text:u},o.push(l))}}return o=o.map((function(t){return t.text}))}function xk(t,e,n,r,i){var a=vk(t,e,n,r,i).length;return a>0?a*n:1/0}function wk(t,e,n,r,i,a,o,l){var s=.5*(e+n),c=xk(t,r,Math.pow(2,s),i,l);return c<=i&&s>a&&(a=s),0===o?a:c<i?wk(t,s,n,r,i,a,o-1,l):wk(t,e,s,r,i,a,o-1,l)}function Mk(t,e,n,r,i,a,o,l){var s=Math.max(0,e-2*r),c=Math.max(0,n-2*r);if(xk(t,s,a,c,l)<=c)return{lines:vk(t,s,a,c,l),size:a};if(i>c)return{lines:[],size:i};if(xk(t,s,i,c,l)>c){if(o){var u=function(t,e,n,r,i){var a=vk(t,e,n,1/0,i);if(0===a.length)return[];var o=Math.floor(r/n);if(0===o)return[];var l=a.slice(0,o),s=l.slice(-1)[0].slice(0,-3)+"…";return l[l.length-1]=s,l}(t,s,i,c,l);if(0===u.length)u=[_k(t,s,i+"px "+l)];return{lines:u,size:i}}return{lines:[],size:0}}var f=Math.log(i)/Math.log(2),d=wk(t,f,Math.log(a)/Math.log(2),s,c,f,2,l),p=Math.pow(2,d);return{lines:vk(t,s,p,c,l),size:p}}function kk(){return dd.bar_axis_labels_above?ad(dd.bar_axis_label_size):0}function Ak(t,e){var n=t/e-dd.bar_bar_padding-kk();return n=Math.min(n,dd.bar_max_bar_thickness),n=Math.max(n,dd.bar_min_bar_thickness)}function Ek(t){return"never"!==t&&("editor"!==t||"editor"===Flourish.environment||"story_editor"===Flourish.environment)}function Sk(){var t=(tk="filter"in j_.data.column_names)&&Ek(dd.filter_control_visibility);if(_S.visible(t),QM&&!tk&&(_S.remove(),QM=!1,dd.filter=null),tk){var e,n=function(t){for(var e=[],n={},r=0;r<t.length;r++)t[r]in n||(n[t[r]]=!0,e.push(t[r]));return e}(j_.data.map((function(t){return t.filter})));e=dd.filter_include_all?[dd.filter_all_label].concat(n):n,QM||(kS.add([_S]),_S.on("change",(function(t){dd.filter=t,tS()})),QM=!0),-1===e.indexOf(dd.filter)&&(dd.filter=e[0]),_S.options(e).value(dd.filter).update()}}function Tk(){var t=(ek=j_.data.column_names.size_columns.length>1)&&Ek(dd.size_by_control_visibility);if(bS.visible(t),function(){var t=j_.data.column_names.size_columns.map((function(t){return t}));if(0===t.length)return void(dd.size_by=null);-1===t.indexOf(dd.size_by)&&(dd.size_by=t[0])}(),KM&&!ek&&(bS.remove(),KM=!1),ek){var e=j_.data.column_names.size_columns.map((function(t){return t}));KM||(kS.add([bS]),bS.on("change",(function(t){dd.size_by=t,tS()})),KM=!0),bS.options(e).value(dd.size_by).update()}}var zk,Ok,Ck,Lk,Nk,jk,Fk,Pk,Ik,Dk,Rk=10,Uk=10,Bk=10,Hk=10,Yk=40;function qk(t){var e=t.id||t.data.id;t.display&&!1===t.display.visible||UE||"root"===e||(!function(t,e){var n=Ww(iv.root,e.id);if(!yS(n))return;var r=dS(n),i=cS(n);iS.locked()||iS.setColumnNames(r.column_names);iS.mouseover(i,r.datum)}(0,t),"popup"!==dd.popup.mode&&"both"!==dd.popup.mode||sS(t.id),iS.locked()||rS("updateHighlightedNode",e))}function $k(t){var e;t.display&&!1===t.display.visible||UE||(e=wi.relatedTarget,oS.contains(e)||(iS.mouseout(),iS.locked()||(sS(null),rS("updateHighlightedNode",null))))}function Wk(t){t.display&&!1===t.display.visible||UE||(wi.stopPropagation(),0!==t.height&&rS("zoomToNode",t))}function Vk(){ji(this).on("mouseover",qk).on("mouseout",$k).on("click",Wk)}var Gk={treemapBinary:function(t,e,n,r,i){var a,o,l=t.children,s=l.length,c=new Array(s+1);for(c[0]=o=a=0;a<s;++a)c[a+1]=o+=l[a].value;!function t(e,n,r,i,a,o,s){if(e>=n-1){var u=l[e];return u.x0=i,u.y0=a,u.x1=o,void(u.y1=s)}var f=c[e],d=r/2+f,p=e+1,h=n-1;for(;p<h;){var y=p+h>>>1;c[y]<d?p=y+1:h=y}d-c[p-1]<c[p]-d&&e+1<p&&--p;var _=c[p]-f,b=r-_;if(o-i>s-a){var g=r?(i*b+o*_)/r:o;t(e,p,_,i,a,g,s),t(p,n,b,g,a,o,s)}else{var m=r?(a*b+s*_)/r:s;t(e,p,_,i,a,o,m),t(p,n,b,i,m,o,s)}}(0,s,t.value,e,n,r,i)},treemapResquarify:Fw,treemapSlice:Cw,treemapDice:kw,treemapSliceDice:function(t,e,n,r,i){(1&t.depth?Cw:kw)(t,e,n,r,i)}},Xk=function(){var t=jw,e=!1,n=1,r=1,i=[0],a=bw,o=bw,l=bw,s=bw,c=bw;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(Mw),t}function f(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,f=e.x1-n,d=e.y1-n;f<r&&(r=f=(r+f)/2),d<u&&(u=d=(u+d)/2),e.x0=r,e.y0=u,e.x1=f,e.y1=d,e.children&&(n=i[e.depth+1]=a(e)/2,r+=c(e)-n,u+=o(e)-n,(f-=l(e)-n)<r&&(r=f=(r+f)/2),(d-=s(e)-n)<u&&(u=d=(u+d)/2),t(e,r,u,f,d))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=_w(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:gw(+t),u):a},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(o="function"==typeof t?t:gw(+t),u):o},u.paddingRight=function(t){return arguments.length?(l="function"==typeof t?t:gw(+t),u):l},u.paddingBottom=function(t){return arguments.length?(s="function"==typeof t?t:gw(+t),u):s},u.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:gw(+t),u):c},u}();function Zk(t,e,n){t.display.x0=e(t.x0),t.display.x1=e(t.x1),t.display.y0=n(t.y0),t.display.y1=n(t.y1),void 0!==t.children&&t.children.forEach((function(t){Zk(t,e,n)}))}function Jk(t,e,n){t.children.forEach((function(t){t.display.x0=e(t.display.x0),t.display.x1=e(t.display.x1),t.display.y0=n(t.display.y0),t.display.y1=n(t.display.y1),t.display.x1<t.display.x0&&(t.display.x1=t.display.x0),t.display.y1<t.display.y0&&(t.display.y1=t.display.y0),t.children&&Jk(t,e,n)}))}function Qk(t,e){t.children&&(Jk(t,Nh().domain([t.display.x0,t.display.x1]).range([t.display.x0+e,t.display.x1-e]),Nh().domain([t.display.y0,t.display.y1]).range([t.display.y0+e,t.display.y1-e])),t.children.forEach((function(t){Qk(t,e)})))}function Kk(t){if(t.display.top_label="",!1===t.display.visible_leaf&&0!==t.depth){var e=pk(),n=t.display.x1-t.display.x0-2*e,r=t.data.key,i="'"+dd.layout.body_font.name+"'";if(dd.zoomed_node_id&&dd.zoomed_node_id===t.id){var a=Vw(t);r=a?a.join(" | "):""}hk(!1)&&(r=r.toUpperCase()),t.display.top_label=_k(r,n,"10px "+i),t.display.top_label_font_size=11;var o=.5*(e-16),l=t.display.x1-t.display.x0,s=4+o;t.display.top_label_x=fd?l-s:s,t.display.top_label_y=12+o}t.display.top_label_weight=yk(!1),t.children&&t.children.forEach((function(t){Kk(t)}))}function tA(t){var e=t.display.x1-t.display.x0,n=t.display.y1-t.display.y0,r=ad(dd.min_label_size),i=ad(dd.max_label_size),a=t.data.key,o="'"+dd.layout.body_font.name+"'";if(t.display.multi_line_label=!1,t.display.multi_line_center_label_lines=[],t.display.visible&&t.display.visible_leaf)if(hk(!0)&&(a=a.toUpperCase()),dd.multi_line_labels){t.display.multi_line_label=!0;var l=Mk(a,e,n,ad(dd.label_padding),r,i,!0,o);t.display.multi_line_center_label_font_size=l.size,t.display.multi_line_center_label_lines=l.lines,t.display.multi_line_center_label_v_offset=l.lines.length*l.size*-.5}else{var s=mk(a,e,n,ad(dd.label_padding),o);(s=Math.min(ad(dd.max_label_size),s))<r&&(a=_k(a,e,r+"px "+o)),t.display.center_label_text=a,t.display.center_label_font_size=s}t.display.center_label_x=.5*e,t.display.center_label_y=.5*n,t.display.center_label_weight=yk(!0),t.children&&t.children.forEach((function(t){tA(t)}))}function eA(t,e,n){var r=[Math.max(e-2,0),Math.max(n-2,0)],i=pk(),a=Math.min(r[0],r[1]);i=Math.min(i,.5*a);var o=Gk[dd.treemap_type];"treemapResquarify"==dd.treemap_type&&(o=o.ratio(dd.treemap_ratio)),Xk.size(r).tile(o),Xk(t);var l=Nh(),s=Nh();l.domain([0,r[0]]).range([0,r[0]]),s.domain([0,r[1]]).range([0,r[1]]);var c=gk();if("root"!==c.id){if(!c)return rS("zoomOut");l.domain([c.x0,c.x1]),s.domain([c.y0,c.y1])}else l.domain([i,r[0]-i]),s.domain([i,r[1]-i]);Zk(t,l,s),Qk(c||t,i),Kk(t),tA(t)}var nA=null;function rA(t){nA=t}function iA(t,e){ji(this).style("fill",fk).style("stroke",dd.stroke_color||dd.layout.background_color).style("display",t.display.visible?"inline":"none").style("cursor",t.children&&dd.zoomed_node_id!==t.id?"pointer":"default").transition().duration(e).attr("width",t.display.x1-t.display.x0).attr("height",t.display.y1-t.display.y0)}function aA(t,e){t.display.visible&&!0===t.display.visible_leaf&&ji(this).attr("dy","0.33em").text(t.display.center_label_text).style("font-weight",t.display.center_label_weight).transition("font-size").duration(e).style("font-size",t.display.center_label_font_size+"px"),ji(this).transition().duration(e).style("opacity",!0!==t.display.visible||!0!==t.display.visible_leaf||t.display.multi_line_label?0:1).attr("x",t.display.center_label_x).attr("y",t.display.center_label_y)}function oA(t,e){var n=t.display.multi_line_center_label_lines,r=t.display.multi_line_center_label_font_size;ji(this).transition("label-center").duration(e).attr("transform","translate("+t.display.center_label_x+","+t.display.center_label_y+")"),JSON.stringify(this.__current_multi_lines)!==JSON.stringify(n)?ji(this).transition("center-label").duration(.5*e).style("opacity",0).on("end",(function(){ji(this).transition("center-label").duration(.5*e).style("opacity",!0===t.display.visible&&!0===t.display.visible_leaf&&t.display.multi_line_label?1:0);var i=ji(this).selectAll("tspan").data(n);i.enter().append("tspan").merge(i).text((function(t){return t})).transition("center-label").duration(0).style("font-size",r+"px").style("font-weight",t.display.center_label_weight).attr("x",0).attr("y",(function(e,n){return t.display.multi_line_center_label_v_offset+(n+.8)*r})),i.exit().remove(),this.__current_multi_lines=n})):ji(this).transition("center-label").duration(e).style("opacity",!0===t.display.visible&&!0===t.display.visible_leaf&&t.display.multi_line_label?1:0).selectAll("tspan").style("font-weight",t.display.center_label_weight).style("font-size",r+"px").attr("y",(function(e,n){return t.display.multi_line_center_label_v_offset+(n+.8)*r}))}function lA(t){0!==t.depth&&(ji(this).style("display",!0===t.display.visible&&!1===t.display.visible_leaf?"inline":"none").style("fill",dd.label_color).style("font-weight",t.display.top_label_weight),!1===t.display.visible_leaf&&ji(this).attr("x",t.display.top_label_x).attr("y",t.display.top_label_y).style("font-size",t.display.top_label_font_size+"px").text(t.display.top_label))}function sA(){Nk.selectAll("g").select("rect").style("opacity",(function(t){if(!1===t.display.visible)return 0;var e=ck(t),n=e||1==t.depth?1:.2,r=1==t.depth||e?.8:2;return n*(t.id===nA?r:1)}))}function cA(t,e,n){var r=!1===t?0:1e3*dd.animation_duration;if(Nk.transition().duration(r).style("opacity","treemap"===dd.hierarchy_layout?1:0).on("end",(function(){"treemap"!==dd.hierarchy_layout&&Nk.selectAll("g").remove()})),"treemap"===dd.hierarchy_layout){eA(iv.root,e,n);var i=Nk.selectAll("g").data(iv.root.descendants(),(function(t){return t.id})),a=i.enter().append("g").classed("node",!0).attr("transform",(function(t){return"translate("+[t.display.x0,t.display.y0]+")"}));a.append("rect").attr("width",(function(t){return t.display.x1-t.display.x0})).attr("height",(function(t){return t.display.y1-t.display.y0})).style("stroke-width",1),a.append("text").classed("text-center",!0).attr("x",(function(t){return t.display.center_label_x})).attr("y",(function(t){return t.display.center_label_y})).style("pointer-events","none").style("font-size","0px").style("font-weight","normal").style("text-anchor","middle"),a.append("text").classed("text-center-multiline",!0).attr("transform",(function(t){return"translate("+t.display.center_label_x+","+t.display.center_label_y+")"})).style("pointer-events","none").style("font-weight","normal").style("text-anchor","middle"),a.append("text").classed("text-top",!0).style("pointer-events","none").style("font-size","11px"),a.merge(i).transition().duration(r).attr("transform",(function(t){return"translate("+[t.display.x0,t.display.y0]+")"})),a.each(Vk),a.merge(i).style("pointer-events",(function(t){return t.display.visible?"all":"none"})).select("rect").each((function(t){iA.call(this,t,r)})),a.merge(i).select("text.text-center").style("fill",dd.label_color).each((function(t){aA.call(this,t,r)})),a.merge(i).select("text.text-center-multiline").style("fill",dd.label_color).each((function(t){oA.call(this,t,r)})),a.merge(i).select("text.text-top").each((function(t){lA.call(this,t,r)})),i.exit().remove(),sA()}}function uA(){ji(this).on("mouseover",qk).on("mouseout",$k).on("click",(function(t){if(t.display.visible&&!UE){if(wi.stopPropagation(),0===t.height){var e=gk(),n=t.path(e);if(!(n.length>2))return;rS("zoomToNode",n[n.length-2])}rS("zoomToNode",t)}}))}var fA=function(){var t=null,e=1,n=1,r=bw;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(vw(t)).eachAfter(xw(r,.5)).eachBefore(ww(1)):i.eachBefore(vw(mw)).eachAfter(xw(bw,1)).eachAfter(xw(r,i.r/Math.min(e,n))).eachBefore(ww(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=yw(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:gw(+t),i):r},i}();function dA(t,e,n,r){t.display.x=e(t.x),t.display.y=n(t.y),t.display.r=r(t.r),void 0!==t.children&&t.children.forEach((function(t){dA(t,e,n,r)}))}function pA(t){var e,n=Math.max(t.display.r-10,0);if(t.children)if(t.display.visible_leaf||!t.display.visible)e=!1;else if(t.display.r<30)e=!1;else if(1===t.children.length){(e=t.display.r-t.children[0].display.r>10)&&(n=.5*(t.display.r+t.children[0].display.r)-3),t.children[0].display.visible_leaf&&(e=!0)}else{var r=Ad(t.children.map((function(t){return t.display.r})));t.display.max_child_r=r,e=t.display.r-r>10}else e=!1;t.display.enough_space_for_top_label=e,t.display.top_label_path_r=n,t.children&&t.children.forEach((function(t){pA(t)}))}function hA(t){var e;if(t.display.top_label_visible=t.display.visible,0===t.depth)e="";else if(0===t.height)e="";else if(t.display.visible_leaf)e="";else if(t.display.visible)if(dd.zoomed_node_id&&t.depth<gk().depth)e="";else if(t.display.enough_space_for_top_label)if(dd.zoomed_node_id===t.id){e=Vw(t).join(" > ")}else{var n=function(t){for(var e=t.ancestors().slice(1,-1),n=[],r=0;r<e.length;r++){var i=e[r];if(i.display.enough_space_for_top_label)break;n.push(i)}return n}(t);if(n.reverse(),n.length>0)e=n.map((function(t){return t.data.key})).join(" > ")+" > "+t.data.key;else e=t.data.key}else e="";else e="";var r=_k(e,Math.PI*t.display.r);hk(!1)&&(r=r.toUpperCase()),t.display.top_label_text=r,""===r&&(t.display.top_label_visible=!1),t.display.top_label_weight=yk(!1),t.children&&t.children.forEach((function(t){hA(t)}))}function yA(t){var e=t.display.r,n=2.2*Math.sqrt(e*e/2),r="'"+dd.layout.body_font.name+"'",i=ad(dd.min_label_size),a=ad(dd.max_label_size),o=t.data.key;if(t.display.multi_line_label=!1,t.display.multi_line_center_label_lines=[],t.display.visible&&t.display.visible_leaf)if(hk(!0)&&(o=o.toUpperCase()),dd.multi_line_labels){t.display.multi_line_label=!0;var l=Mk(o,n,n,ad(dd.label_padding),i,a,!0,r);t.display.multi_line_center_label_font_size=l.size,t.display.multi_line_center_label_lines=l.lines,t.display.multi_line_center_label_v_offset=-.5*l.lines.length*l.size}else{var s=mk(o,2*e,2*e,ad(dd.label_padding),r);(s=Math.min(ad(dd.max_label_size),s))<i&&(o=_k(o,2*e,i+"px "+r)),t.display.center_label_text=o,t.display.center_label_font_size=s}t.display.center_label_weight=yk(!0),t.children&&t.children.forEach((function(t){yA(t)}))}function _A(t,e,n){var r=e-2*Rk,i=n-2*Uk;r=Math.max(0,r),i=Math.max(0,i);var a=Math.min(4,Math.min(r,i));fA.size([r,i]).padding(a),fA(t),"root"===t.id&&0===t.height&&(t.r=0);var o=Nh(),l=Nh(),s=Nh();o.domain([0,r]).range([0,r]),l.domain([0,i]).range([0,i]);var c=gk();if("root"!==c.id){if(!c)return rS("zoomOut");var u,f;r>i?(u=(f=2*c.r)*(r/i),s.range([0,i/f])):(f=(u=2*c.r)*(i/r),s.range([0,r/u]));var d=c.x-.5*u,p=c.x+.5*u,h=c.y-.5*f,y=c.y+.5*f;o.domain([d,p]),l.domain([h,y])}dA(t,o,l,s),pA(t),hA(t),yA(t)}function bA(t,e){ji(this).style("fill",fk).style("display",t.display.visible?"inline":"none").style("cursor",t.children&&dd.zoomed_node_id!==t.id?"pointer":"default").transition().duration(e).attr("r",t.display.r)}function gA(t,e){t.display.visible&&!0===t.display.visible_leaf&&ji(this).attr("dy","0.33em").text(t.display.center_label_text).style("fill",dd.label_color).style("font-weight",t.display.center_label_weight).transition("font-size").duration(e).style("font-size",t.display.center_label_font_size+"px"),ji(this).transition().duration(e).style("opacity",!0===t.display.visible&&!0===t.display.visible_leaf?1:0)}function mA(t,e){var n=t.display.multi_line_center_label_lines,r=t.display.multi_line_center_label_font_size;JSON.stringify(this.__current_multi_lines)!==JSON.stringify(n)?ji(this).transition("center-label").duration(.5*e).style("opacity",0).on("end",(function(){ji(this).transition("center-label").duration(.5*e).style("opacity",!0===t.display.visible&&!0===t.display.visible_leaf&&t.display.multi_line_label?1:0);var i=ji(this).selectAll("tspan").data(n);i.enter().append("tspan").merge(i).text((function(t){return t})).transition("center-label").duration(0).style("font-size",r+"px").style("font-weight",t.display.center_label_weight).attr("x",0).attr("y",(function(e,n){return t.display.multi_line_center_label_v_offset+(n+.8)*r})),i.exit().remove(),this.__current_multi_lines=n})):ji(this).transition("center-label").duration(e).style("opacity",!0===t.display.visible&&!0===t.display.visible_leaf&&t.display.multi_line_label?1:0).selectAll("tspan").style("font-weight",t.display.center_label_weight).style("font-size",r+"px").attr("y",(function(e,n){return t.display.multi_line_center_label_v_offset+(n+.8)*r}))}function vA(t,e){if(0!==t.depth){var n=t.display.top_label_path_r;ji(this).transition().duration(e).attr("d","M-0.5,".concat(n," A").concat(n,",").concat(n," 0 1,1 0.5,").concat(n))}}var xA=Nh().domain([30,60]).range([-.1,0]).clamp(!0);function wA(t){0!==t.depth&&(ji(this).style("display",t.display.top_label_visible?"inline":"none"),!1===t.display.visible_leaf&&ji(this).select("textPath").style("fill",dd.label_color).style("font-weight",(function(t){return t.display.top_label_weight})).style("letter-spacing",(function(t){return xA(t.display.r)+"em"})).text(t.display.top_label_text))}function MA(){jk.selectAll("g").select("circle").style("opacity",(function(t){if(!1===t.display.visible)return 0;var e=ck(t),n=e||1==t.depth?1:.2,r=1==t.depth||e?.8:2;return n*(t.id===nA?r:1)}))}function kA(t,e,n){var r=!1===t?0:1e3*dd.animation_duration;if(jk.transition().duration(r).style("opacity","circlePacking"===dd.hierarchy_layout?1:0).on("end",(function(){"circlePacking"!==dd.hierarchy_layout&&jk.selectAll("g").remove()})),"circlePacking"===dd.hierarchy_layout){_A(iv.root,e,n);var i=jk.selectAll("g").data(iv.root.descendants(),(function(t){return t.id})),a=i.enter().append("g").attr("transform",(function(t){return"translate("+[t.display.x,t.display.y]+")"})).classed("node",!0);a.append("circle"),a.append("text").classed("text-center",!0).style("font-weight","normal").style("text-anchor","middle").style("font-size","0px").style("pointer-events","none"),a.append("text").classed("text-center-multiline",!0).style("pointer-events","none").style("font-weight","normal").style("text-anchor","middle"),a.append("path").classed("label-path",!0).attr("id",(function(t){return"pack-label-path-"+t.id})).attr("d",(function(t){var e=t.display.r-10;return"M-0.5,".concat(e," A").concat(e,",").concat(e," 0 1,1 0.5,").concat(e)})).style("fill","none"),a.append("text").classed("text-top",!0).append("textPath").attr("href",(function(t){return"#pack-label-path-"+t.id})).attr("startOffset","50%").style("text-anchor","middle").style("pointer-events","none").style("font-weight","bold").style("font-size","11px"),a.merge(i).transition().duration(r).attr("transform",(function(t){return"translate("+[t.display.x,t.display.y]+")"})),a.each(uA),a.merge(i).select("circle").each((function(t){bA.call(this,t,r)})),a.merge(i).select("text.text-center").each((function(t){gA.call(this,t,r)})),a.merge(i).select("text.text-center-multiline").style("fill",dd.label_color).each((function(t){mA.call(this,t,r)})),a.merge(i).select("path.label-path").each((function(t){vA.call(this,t,r)})),a.merge(i).select("text.text-top").each((function(t){wA.call(this,t,r)})),i.exit().remove(),MA()}}function AA(){ji(this).on("mouseover",qk).on("mouseout",$k).on("click",Wk)}var EA=function(){var t=1,e=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/a,i.eachBefore(function(t,e){return function(r){r.children&&kw(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,a=r.y0,o=r.x1-n,l=r.y1-n;o<i&&(i=o=(i+o)/2),l<a&&(a=l=(a+l)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=l}}(e,a)),r&&i.eachBefore(Mw),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}();function SA(t,e){t.display=t.display||{},t.display.visible=!0,t.display.isTopVisibleLevel=t.depth===e,t.display.opacity=Math.pow(dd.sunburst_depth_fade,t.depth-1),void 0!==t.children&&t.children.forEach((function(t){SA(t,e)}))}function TA(t,e){e&&e.id===t.id||0===t.height?t.display.cursorType="default":t.display.cursorType="pointer",void 0!==t.children&&t.children.forEach((function(t){TA(t,e)}))}function zA(t,e,n){t.display=t.display||{},t.display.a0=n(t.x0),t.display.a1=n(t.x1),t.display.r0=e(t.y0),t.display.r1=e(t.y1),t.display.rMid=.5*(t.display.r0+t.display.r1),void 0!==t.children&&t.children.forEach((function(t){zA(t,e,n)}))}function OA(t){var e=t.display.r1-t.display.r0;e*=.9,e=Math.max(e,0);var n=.5*(t.display.r0+t.display.r1)*(t.display.a1-t.display.a0);n*=.9,n=Math.max(n,0);var r=0===t.display.r0&&0===t.display.a0&&t.display.a1===2*Math.PI,i="radial"===dd.sunburst_labelling||"circular"!==dd.sunburst_labelling&&e>n,a=r?"center":i?"radial":"circular",o="'"+dd.layout.body_font.name+"'",l=ad(dd.min_label_size),s=ad(dd.max_label_size);t.display.radialLabel="",t.display.circularLabel="",t.display.centerLabel="";var c=t.data.key;t.display.radialLabelOpacity=0,t.display.circularLabelOpacity=0,t.display.centerLabelOpacity=0,t.display.fontSize=0;var u=0,f=t.display.isTopVisibleLevel;if(t.depth>0)switch(hk(!f)&&(c=c.toUpperCase()),a){case"radial":t.display.radialLabel=c,t.display.radialLabelOpacity=1,u=mk(c,e,n,4,o,dd.sunburst_bold_labels);break;case"circular":t.display.circularLabel=c,t.display.circularLabelOpacity=1,u=mk(c,n,e,4,o,dd.sunburst_bold_labels);break;case"center":t.display.centerLabel=c,t.display.centerLabelOpacity=1,u=mk(c,2*e,.5*e,ad(dd.label_padding),o,dd.sunburst_bold_labels)}(u=Math.min(s,u))<l&&(t.display.circularLabel="",t.display.radialLabel="",t.display.centerLabel=""),t.display.fontSize=u,t.display.fontWeight=yk(!f),void 0!==t.children&&t.children.forEach((function(t){OA(t)}))}function CA(t,e,n){var r=.5*Math.min(e-2*Bk,n-2*Hk),i=bk();EA.size([2*Math.PI,i]),EA(t);var a=dd.sunburst_show_zoomed_node_in_center?0:r*dd.sunburst_inner_radius/100,o=Nh().range([a,r*dd.sunburst_outer_radius/100]).clamp(!0),l=Nh().range([0,2*Math.PI]).clamp(!0),s=dd.zoomed_node_id?Ww(t,dd.zoomed_node_id):t,c=s.depth,u=dd.sunburst_show_zoomed_node_in_center?c:Math.max(c,1),f=Math.min(c+dd.num_of_visible_levels+1,i);if(c>0&&!s)return rS("zoomOut");o.domain([u,f]),l.domain([s.x0,s.x1]),zA(t,o,l),SA(t,c),TA(t,s),OA(t)}var LA=Math.PI,NA=2*LA,jA=1e-6,FA=NA-jA;function PA(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function IA(){return new PA}function DA(t){return function(){return t}}PA.prototype=IA.prototype={constructor:PA,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,l=n-t,s=r-e,c=a-t,u=o-e,f=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>jA)if(Math.abs(u*l-s*c)>jA&&i){var d=n-a,p=r-o,h=l*l+s*s,y=d*d+p*p,_=Math.sqrt(h),b=Math.sqrt(f),g=i*Math.tan((LA-Math.acos((h+f-y)/(2*_*b)))/2),m=g/b,v=g/_;Math.abs(m-1)>jA&&(this._+="L"+(t+m*c)+","+(e+m*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*p)+","+(this._x1=t+v*l)+","+(this._y1=e+v*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e,a=!!a;var o=(n=+n)*Math.cos(r),l=n*Math.sin(r),s=t+o,c=e+l,u=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>jA||Math.abs(this._y1-c)>jA)&&(this._+="L"+s+","+c),n&&(f<0&&(f=f%NA+NA),f>FA?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-l)+"A"+n+","+n+",0,1,"+u+","+(this._x1=s)+","+(this._y1=c):f>jA&&(this._+="A"+n+","+n+",0,"+ +(f>=LA)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var RA=Math.abs,UA=Math.atan2,BA=Math.cos,HA=Math.max,YA=Math.min,qA=Math.sin,$A=Math.sqrt,WA=1e-12,VA=Math.PI,GA=VA/2,XA=2*VA;function ZA(t){return t>1?0:t<-1?VA:Math.acos(t)}function JA(t){return t>=1?GA:t<=-1?-GA:Math.asin(t)}function QA(t){return t.innerRadius}function KA(t){return t.outerRadius}function tE(t){return t.startAngle}function eE(t){return t.endAngle}function nE(t){return t&&t.padAngle}function rE(t,e,n,r,i,a,o,l){var s=n-t,c=r-e,u=o-i,f=l-a,d=f*s-u*c;if(!(d*d<WA))return[t+(d=(u*(e-a)-f*(t-i))/d)*s,e+d*c]}function iE(t,e,n,r,i,a,o){var l=t-n,s=e-r,c=(o?a:-a)/$A(l*l+s*s),u=c*s,f=-c*l,d=t+u,p=e+f,h=n+u,y=r+f,_=(d+h)/2,b=(p+y)/2,g=h-d,m=y-p,v=g*g+m*m,x=i-a,w=d*y-h*p,M=(m<0?-1:1)*$A(HA(0,x*x*v-w*w)),k=(w*m-g*M)/v,A=(-w*g-m*M)/v,E=(w*m+g*M)/v,S=(-w*g+m*M)/v,T=k-_,z=A-b,O=E-_,C=S-b;return T*T+z*z>O*O+C*C&&(k=E,A=S),{cx:k,cy:A,x01:-u,y01:-f,x11:k*(i/x-1),y11:A*(i/x-1)}}var aE=function(){var t=QA,e=KA,n=DA(0),r=null,i=tE,a=eE,o=nE,l=null;function s(){var s,c,u=+t.apply(this,arguments),f=+e.apply(this,arguments),d=i.apply(this,arguments)-GA,p=a.apply(this,arguments)-GA,h=RA(p-d),y=p>d;if(l||(l=s=IA()),f<u&&(c=f,f=u,u=c),f>WA)if(h>XA-WA)l.moveTo(f*BA(d),f*qA(d)),l.arc(0,0,f,d,p,!y),u>WA&&(l.moveTo(u*BA(p),u*qA(p)),l.arc(0,0,u,p,d,y));else{var _,b,g=d,m=p,v=d,x=p,w=h,M=h,k=o.apply(this,arguments)/2,A=k>WA&&(r?+r.apply(this,arguments):$A(u*u+f*f)),E=YA(RA(f-u)/2,+n.apply(this,arguments)),S=E,T=E;if(A>WA){var z=JA(A/u*qA(k)),O=JA(A/f*qA(k));(w-=2*z)>WA?(v+=z*=y?1:-1,x-=z):(w=0,v=x=(d+p)/2),(M-=2*O)>WA?(g+=O*=y?1:-1,m-=O):(M=0,g=m=(d+p)/2)}var C=f*BA(g),L=f*qA(g),N=u*BA(x),j=u*qA(x);if(E>WA){var F,P=f*BA(m),I=f*qA(m),D=u*BA(v),R=u*qA(v);if(h<VA&&(F=rE(C,L,D,R,P,I,N,j))){var U=C-F[0],B=L-F[1],H=P-F[0],Y=I-F[1],q=1/qA(ZA((U*H+B*Y)/($A(U*U+B*B)*$A(H*H+Y*Y)))/2),$=$A(F[0]*F[0]+F[1]*F[1]);S=YA(E,(u-$)/(q-1)),T=YA(E,(f-$)/(q+1))}}M>WA?T>WA?(_=iE(D,R,C,L,f,T,y),b=iE(P,I,N,j,f,T,y),l.moveTo(_.cx+_.x01,_.cy+_.y01),T<E?l.arc(_.cx,_.cy,T,UA(_.y01,_.x01),UA(b.y01,b.x01),!y):(l.arc(_.cx,_.cy,T,UA(_.y01,_.x01),UA(_.y11,_.x11),!y),l.arc(0,0,f,UA(_.cy+_.y11,_.cx+_.x11),UA(b.cy+b.y11,b.cx+b.x11),!y),l.arc(b.cx,b.cy,T,UA(b.y11,b.x11),UA(b.y01,b.x01),!y))):(l.moveTo(C,L),l.arc(0,0,f,g,m,!y)):l.moveTo(C,L),u>WA&&w>WA?S>WA?(_=iE(N,j,P,I,u,-S,y),b=iE(C,L,D,R,u,-S,y),l.lineTo(_.cx+_.x01,_.cy+_.y01),S<E?l.arc(_.cx,_.cy,S,UA(_.y01,_.x01),UA(b.y01,b.x01),!y):(l.arc(_.cx,_.cy,S,UA(_.y01,_.x01),UA(_.y11,_.x11),!y),l.arc(0,0,u,UA(_.cy+_.y11,_.cx+_.x11),UA(b.cy+b.y11,b.cx+b.x11),y),l.arc(b.cx,b.cy,S,UA(b.y11,b.x11),UA(b.y01,b.x01),!y))):l.arc(0,0,u,x,v,y):l.lineTo(N,j)}else l.moveTo(0,0);if(l.closePath(),s)return l=null,s+""||null}return s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-VA/2;return[BA(r)*n,qA(r)*n]},s.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:DA(+e),s):t},s.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:DA(+t),s):e},s.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:DA(+t),s):n},s.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:DA(+t),s):r},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:DA(+t),s):i},s.endAngle=function(t){return arguments.length?(a="function"==typeof t?t:DA(+t),s):a},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:DA(+t),s):o},s.context=function(t){return arguments.length?(l=null==t?null:t,s):l},s}();function oE(t,e){0!==t.depth&&(ji(this).style("cursor",t.display.cursorType).select("path").style("fill",dk).style("stroke",dd.stroke_color||dd.layout.background_color).style("stroke-width","0.5").style("display",t.display.visible?"inline":"none"),ji(this).select("text.radial-label").style("font-weight",t.display.fontWeight).text(t.display.radialLabel),ji(this).attr("dy","0.33em").select("text.circular-label textPath").style("font-weight",t.display.fontWeight).text(t.display.circularLabel),ji(this).select("text.center-label").style("font-weight",t.display.fontWeight).text(t.display.centerLabel),ji(this).transition().duration(e).tween("sunburst",(function(t){var e=this,n=ji(e).select("path.segment"),r=ji(e).select("text.radial-label"),i=ji(e).select("text.circular-label"),a=ji(e).select("path.label-path"),o=ji(e).select("text.center-label");e.__curTweenState=e.__curTweenState||{a0:t.display.a0,a1:t.display.a1,r0:t.display.r0,r1:t.display.r1,radialLabelOpacity:t.display.radialLabelOpacity,circularLabelOpacity:t.display.circularLabelOpacity,centerLabelOpacity:t.display.centerLabelOpacity,fontSize:t.display.fontSize};var l=e.__curTweenState,s=$p(l.a0,t.display.a0),c=$p(l.a1,t.display.a1),u=$p(l.r0,t.display.r0),f=$p(l.r1,t.display.r1),d=$p(l.radialLabelOpacity,t.display.radialLabelOpacity),p=$p(l.circularLabelOpacity,t.display.circularLabelOpacity),h=$p(l.centerLabelOpacity,t.display.centerLabelOpacity),y=$p(l.fontSize,t.display.fontSize);return function(t){e.__curTweenState.a0=s(t),e.__curTweenState.a1=c(t),e.__curTweenState.r0=u(t),e.__curTweenState.r1=f(t),e.__curTweenState.radialLabelOpacity=d(t),e.__curTweenState.circularLabelOpacity=p(t),e.__curTweenState.centerLabelOpacity=h(t),e.__curTweenState.fontSize=y(t);var l=s(t),_=c(t),b=u(t),g=f(t);n.attr("d",aE({startAngle:l,endAngle:_,innerRadius:b,outerRadius:g})).style("stroke-width",_-l==0?0:.5);var m=ik(.5*(s(t)+c(t)))-90,v=.5*(b+g);r.style("opacity",d(t)).style("font-size",Math.floor(y(t))+"px").attr("transform",m>90?"rotate(".concat(m-180,")translate(").concat(-v,", 0)"):"rotate(".concat(m,")translate(").concat(v,", 0)")),i.style("font-size",Math.floor(y(t))+"px").style("opacity",p(t)),o.style("opacity",h(t)).style("font-size",Math.floor(y(t))+"px");var x=v*Math.sin(s(t))+1e-4,w=-v*Math.cos(s(t)),M=v*Math.sin(c(t))-1e-4,k=-v*Math.cos(c(t)),A=c(t)-s(t)>=Math.PI?1:0,E=.5*(s(t)+c(t)),S=E>.5*Math.PI&&E<1.5*Math.PI?"M".concat(M,",").concat(k," A").concat(v,",").concat(v," 0 ").concat(A,",0 ").concat(x,",").concat(w):"M".concat(x,",").concat(w," A").concat(v,",").concat(v," 0 ").concat(A,",1 ").concat(M,",").concat(k);a.attr("d",S)}})).on("end",(function(){ji(this).select("text.radial-label").text((function(t){return t.display.radialLabel})),ji(this).select("text.circular-label textPath").text((function(t){return t.display.circularLabel})),ji(this).select("text.center-label").text((function(t){return t.display.centerLabel}))})))}function lE(){Fk.selectAll("g").select("path").style("opacity",(function(t){if(!1===t.display.visible)return 0;return(ck(t)||1==t.depth?1:t.display.opacity)*(t.id===nA?.8:1)}))}function sE(t,e,n){var r=!1===t?0:1e3*dd.animation_duration;if(Fk.transition().duration(r).style("opacity","sunburst"===dd.hierarchy_layout?1:0).on("end",(function(){"sunburst"!==dd.hierarchy_layout&&Fk.selectAll("g").remove()})),"sunburst"===dd.hierarchy_layout){CA(iv.root,e,n),Fk.attr("transform","translate(".concat(.5*e,", ").concat(.5*n,")"));var i=Fk.selectAll("g").data(iv.root.descendants(),(function(t){return t.id})),a=i.enter().append("g").classed("node",!0);a.append("path").classed("segment",!0),a.append("text").classed("radial-label",!0).style("text-anchor","middle").attr("dy","0.33em").style("pointer-events","none"),a.append("path").classed("label-path",!0).style("fill","none").attr("id",(function(t){return"sunburst-label-path-"+t.id})),a.append("text").classed("circular-label",!0).attr("dy","0.33em").append("textPath").attr("xlink:xlink:href",(function(t){return"#sunburst-label-path-"+t.id})).attr("startOffset","50%").style("text-anchor","middle").style("pointer-events","none"),a.append("text").classed("center-label",!0).style("text-anchor","middle").attr("dy","0.33em").style("pointer-events","none"),a.each(AA),a.merge(i).each((function(t){oE.call(this,t,r)})),a.merge(i).select(".radial-label").style("fill",dd.label_color),a.merge(i).select(".circular-label").style("fill",dd.label_color),a.merge(i).select(".center-label").style("fill",dd.label_color),i.exit().remove(),lE()}}function cE(){ji(this).select("rect").on("mouseover",qk).on("mouseout",$k).on("click",Wk),ji(this).select(".axis-label").on("click",(function(t){UE||(wi.stopPropagation(),rS("zoomToNode",t))}))}var uE=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function fE(t,e){var n=t.n_dec>=0?Math.floor(t.n_dec):Math.ceil(t.n_dec),r=e(",."+(n>0?n:"0")+"f"),i=e.decimal,a=e.thousands,o=t.strip_zeros&&n>0?new RegExp("\\"+i+"?0+$"):null,l=t.strip_separator&&a,s=t.negative_sign,c=function(t){var e=1;return t.transform_labels&&(e="multiply"===t.transform?t.multiply_divide_constant:"divide"===t.transform?1/t.multiply_divide_constant:Math.pow(10,t.exponentiate_constant)),function(t){return t*e}}(t);return function(e){var i=n>=0?c(e):function(t,e){if(!(e=e>0?Math.floor(e):Math.ceil(e)))return Math.round(t);var n=Math.pow(10,Math.abs(e));return e>0?Math.round(t*n)/n:Math.round(t/n)*n}(c(e),n),u=i<0,f=Math.abs(i),d=l&&a&&f>=1e3&&f<1e4,p=r(f);return o&&(p=p.replace(o,"")),d&&(p=p.replace(a,"")),u&&"none"!==s?"-$nk"===s?"-"+t.prefix+p+t.suffix:"$-nk"===s?t.prefix+"-"+p+t.suffix:"($nk)"===s?"("+t.prefix+p+t.suffix+")":t.prefix+"("+p+")"+t.suffix:t.prefix+p+t.suffix}}var dE,pE=function(t){for(var e in uE)void 0===t[e]&&(t[e]=uE[e]);return function(e){return fE(t,e)}}(dd.number_formatter);function hE(){return.7*dd.bar_axis_label_space*ad(dd.bar_axis_label_size)}function yE(t){var e="'"+dd.layout.body_font.name+"'",n=t.data.key;n&&hk(!0)&&(n=n.toUpperCase());var r=.2*t.display.thickness;t.display.fontSize=Math.min(ad(dd.label_size),t.display.thickness-2*r),t.display.fontWeight=yk(!0),t.display.barLabelText=_k(n,.9*t.display.l,t.display.fontSize+"px "+e),t.display.barLabelX=t.display.x+.5*t.display.l,t.display.barLabelY=t.display.y+.5*t.display.thickness,t.display.axisLabelY=dd.bar_axis_labels_above?t.display.y:t.display.barLabelY,t.display.axisLabelDy=dd.bar_axis_labels_above?"-0.2em":"0.33em",t.display.axisLabelDx=dd.bar_axis_labels_above?"0em":"-0.3em",t.display.axisLabelSize=ad(dd.bar_axis_label_size),t.display.valueLabelX=t.display.x+t.display.l+ad(.5),t.display.valueLabelY=t.display.barLabelY,dE=pE(Dw.getFormatterFunction()),t.display.valueLabelText=dE(t.value)}function _E(t,e,n,r){t.display=t.display||{};var i="",a=bk(),o=Math.min(a-1-e.depth,dd.num_of_visible_levels);if(t.display.visible=Gw(t,e)&&t.depth-e.depth===o,t.depth>0){i=t.data.key,hk(!1)&&(i=i.toUpperCase());var l=dd.bar_axis_labels_above?n:hE(),s="'"+dd.layout.body_font.name+"'";i=_k(i,l,t.display.axisLabelSize+"px "+s)}t.display.axisLabelText=i,t.display.axisLabelVisible=Gw(t,e)&&e.depth===t.depth-1,t.display.axisFontWeight=yk(!1),t.display.valueLabelVisible=dd.bar_show_value_label&&Gw(t,e)&&e.depth===t.depth-1,t.display.fill=dk(t),t.children&&(!function(t,e){for(var n=e.ancestors(),r=!1,i=0;i<n.length;i++)n[i].id===t.id&&(r=!0);return r}(t,e)?function(t){var e=Nh().domain([0,t.value]).range([0,t.display.l]),n=t.display.x;dE=pE(Dw.getFormatterFunction()),t.children.forEach((function(r){r.display=r.display||{},r.display.x=n,r.display.l=e(r.value),r.display.y=t.display.y,r.display.thickness=t.display.thickness,yE(r),r.display.barLabelVisible=!0,n+=e(r.value)}))}(t):function(t,e,n){var r,i,a=[0,Math.max(e-5,0)],o=Ad(t.children,(function(t){return t.value})),l=Nh().domain([0,o]).range(a);dd.bar_max_value&&l.domain([0,dd.bar_max_value]);var s=kk();if(dd.auto_set_height&&!1===Flourish.fixed_height)r=dd.bar_min_bar_thickness;else{var c=n-Yk,u=t.children.length;r=Ak(c,u)}i=r+dd.bar_bar_padding+s,t.children.forEach((function(t,e){t.display=t.display||{},t.display.x=0,t.display.l=l(t.value),t.display.y=e*i+s,t.display.thickness=r,yE(t),t.display.barLabelVisible=!1}))}(t,n,r),t.children.forEach((function(t){_E(t,e,n,r)})))}function bE(t,e){ji(this).select("rect").transition().duration(e).attr("x",t.display.x).attr("y",t.display.y).attr("width",t.display.l).attr("height",t.display.thickness).style("fill",t.display.fill).style("opacity",t.display.visible?1:0).style("pointer-events",t.display.visible?"all":"none").style("stroke",dd.stroke_color||dd.layout.background_color),ji(this).select("text.bar-label").transition().duration(e).attr("x",t.display.barLabelX).attr("y",t.display.barLabelY).style("font-size",t.display.fontSize+"px").style("font-weight",t.display.fontWeight).style("opacity",t.display.visible&&t.display.barLabelVisible?1:0).text(t.display.barLabelText),ji(this).select("text.axis-label").transition().duration(e).attr("y",t.display.axisLabelY).attr("dx",t.display.axisLabelDx).attr("dy",t.display.axisLabelDy).style("opacity",t.display.axisLabelVisible?1:0).style("font-size",t.display.axisLabelSize+"px").style("font-weight",t.display.axisFontWeight).style("pointer-events",t.display.axisLabelVisible?"all":"none").style("fill",dd.axis_label_color||dd.layout.font_color).style("text-anchor",dd.bar_axis_labels_above!==fd?"start":"end").text(t.display.axisLabelText),ji(this).select("text.value-label").transition().duration(e).attr("x",t.display.valueLabelX).attr("y",t.display.valueLabelY).text((function(t){return t.display.valueLabelText})).style("font-size",t.display.fontSize+"px").style("font-weight",dd.value_labels_bold?"bold":"normal").style("opacity",t.display.valueLabelVisible?1:0).style("fill",dd.axis_label_color||dd.layout.font_color).style("text-anchor",fd?"end":"start")}function gE(t,e,n){var r=!1===t?0:1e3*dd.animation_duration;if(Pk.transition().duration(r).style("opacity","bar"===dd.hierarchy_layout?1:0).on("end",(function(){"bar"!==dd.hierarchy_layout&&Pk.select(".bars").selectAll("*").remove()})),"bar"===dd.hierarchy_layout){var i=dd.bar_axis_labels_above?0:hE(),a=e-i-(dd.bar_show_value_label?ad(dd.bar_value_label_space):0),o=gk();!function(t,e,n,r){_E(t,e,n,r)}(iv.root,o,a,n);var l=iv.root.descendants().slice(1);l.reverse();var s=Pk.select(".bars").selectAll("g.node").data(l,(function(t){return t.id}));Pk.select(".bars").transition().duration(r).attr("transform","translate(".concat(i,", ").concat(Yk,")"));var c=s.enter().append("g").classed("node",!0);c.append("rect").attr("x",(function(t){return t.display.x})).attr("y",(function(t){return t.display.y})).attr("width",(function(t){return t.display.l})).attr("height",(function(t){return t.display.thickness})).style("fill",(function(t){return t.display.fill})),c.append("text").classed("bar-label",!0).attr("x",(function(t){return t.display.barLabelX})).attr("y",(function(t){return t.display.barLabelY})).attr("dy","0.33em").style("text-anchor","middle").style("opacity",0).style("pointer-events","none"),c.append("text").classed("axis-label",!0).attr("y",(function(t){return t.display.axisLabelY})).style("opacity",0).style("text-anchor","end"),c.append("text").classed("value-label",!0).attr("x",(function(t){return t.display.valueLabelX})).attr("y",(function(t){return t.display.valueLabelY})).attr("dy","0.33em").style("opacity",0).style("pointer-events","none"),c.each(cE),c.merge(s).style("cursor",(function(t){return t.children?"pointer":"default"})).each((function(t){bE.call(this,t,r)})),c.merge(s).select(".bar-label").style("fill",dd.label_color),s.exit().remove(),function(t,e,n){var r=t.ancestors().slice(0,-1).reverse(),i=dd.bar_axis_labels_above?0:hE();e.select(".breadcrumb").transition().duration(n).attr("transform","translate(".concat(i,", 30)"));var a=e.select(".breadcrumb").style("font-weight","allBold"===dd.label_weight||"topBold"===dd.label_weight?"bold":"normal").select("text").selectAll("tspan.item").data(r),o=a.enter().append("tspan").style("opacity",0).style("fill",dd.axis_label_color||dd.layout.font_color).classed("item",!0);o.append("tspan").classed("separator",!0).text(" > "),o.append("tspan").classed("label",!0).on("click",(function(t){UE||(wi.stopPropagation(),rS("zoomToNode",t))})),o.merge(a).transition().duration(n).style("fill",dd.axis_label_color||dd.layout.font_color).style("opacity",1),a.select("tspan.label").text((function(t){return"allUpperCase"===dd.label_case||"topUpperCase"===dd.label_case?t.data.key.toUpperCase():t.data.key})),a.exit().transition().duration(n).style("opacity",0).remove()}(o,Pk,r)}}function mE(){Pk.select(".bars").selectAll("g").select("rect").style("opacity",(function(t){var e=t.id===nA;return t.display.visible?e?.7:1:0}))}function vE(t,e){return{x:e*Math.cos(t),y:e*Math.sin(t)}}function xE(t,e,n,r,i,a,o,l,s,c){t.each((function(t){var u,f=ik(l(t.data.x)),d=s(t.data.y),p=t.data.value,h=t.data.value<0,y=0===t.height||t.depth===e.depth+dd.num_of_visible_levels,_=0===t.depth;t.data.display.rotate=f,t.data.display.translate=d,t.data.display.parent_rotate=ik(l(t.data.parent_x)),t.data.display.parent_translate=s(t.data.parent_y),t.data.display.cp2_translate=t.depth===e.depth+1?0:(t.data.display.translate+t.data.display.parent_translate)/2,t.data.display.bar_width=i,t.data.display.bar_length=y?Math.abs(c(p)):0,t.data.display.bar_translate=y?p>0?0:-t.data.display.bar_length:0,t.data.display.circle_opacity=y||_?0:1,t.data.display.bar_opacity=y?1:0,function(t,e,n,r,i,a,o,l,s,c){var u={},f=t.data.key;f&&hk(!0)&&(f=f.toUpperCase()),u.normal=n?"translate(4, 0)":"translate(8, 0)",i||(u.normal+="translate("+t.data.display.bar_length+", 0)"),u.reversed=n?"rotate(180)translate(-4, 0)":"rotate(180)translate(-8, 0)",i||(u.reversed+="translate("+-t.data.display.bar_length+", 0)");var d=a>-90&&a<90?"normal":"reversed";t.data.display.name_label_orientation=d,t.data.id===r.data.id&&(t.data.display.name_label_orientation="normal",u.normal="rotate("+-a+")translate(8, 0)",f&&hk(!1)&&(f=f.toUpperCase())),t.data.display.name_label_transform=u;var p="'"+dd.layout.body_font.name+"'",h=l>20?.2*l:.05*l,y=Math.min(ad(dd.label_size),Math.floor(l-2*h)),_=y+"px "+p,b="bold "+_,g="",m="";if(n){var v=c-4-t.data.display.bar_length,x=!1;if(dd.radial_tree_show_values){var w=ld((m=pE(Dw.getFormatterFunction())(o))+" ",b);w>=v?(m=_k(m,v,b),x=!0):v-=w}x||(g=_k(f||"",v,_))}else e||(g=_k(f||"",.8*s,_));t.data.display.label_size=y,t.data.display.font_weight=yk(t.data.id!==r.data.id),t.data.display.name_label=g,t.data.display.value_label=m}(t,_,y,e,h,f,p,i,a,o),t.data.display.color=dk(t),dd.radial_tree_colored_links?(u=hc(t.data.display.color)).opacity=.25:u=dd.radial_tree_link_color,t.data.display.link_color=u;var b=vE(ak(f),d+(y?t.data.display.bar_length:0));t.data.display.popup={x:.5*n+b.x,y:.5*r+b.y}}))}function wE(){ji(this).on("mouseover",qk).on("mouseout",$k).on("click",(function(t){Wk(Ww(iv.root,t.data.id))}))}function ME(t){t.append("tspan").classed("name-label",!0),t.append("tspan").classed("value-label",!0).style("font-weight","bold")}function kE(t,e,n){var r=t.append("g").classed("name-label-"+n,!0).style("opacity",0).style("fill",(function(t){return t.data.display.color})).style("font-size",(function(t){return t.data.display.label_size+"px"})).style("font-weight",e.data.display.font_weight),i=r.append("text").classed("name-label-background",!0).attr("dy","0.33em").style("stroke-width","0.25em"),a=r.append("text").classed("name-label-foreground",!0).attr("dy","0.33em");ME(i),ME(a)}function AE(t,e){var n=ji(this);this._tween={rotate:t.data.display.prev_rotate,translate:t.data.display.prev_translate},n.classed("node",!0).style("opacity",0).transition().duration(.5*e).delay(.5*e).style("opacity",1),n.classed("node",!0).attr("transform",(function(t){return"rotate("+t.data.display.prev_rotate+")"})),(n=n.append("g")).classed("translate-layer",!0).attr("transform",(function(t){return"translate("+t.data.display.prev_translate+")"})),n.append("circle").attr("r",4).style("opacity",0).style("fill",(function(t){return t.data.display.color})),kE(n,t,"normal"),kE(n,t,"reversed"),n.append("rect").style("opacity",0).style("fill",(function(t){return t.data.display.color}))}function EE(t){var e=this,n=this._tween.rotate,r=this._tween.translate,i=$p(n,t.data.display.rotate),a=$p(r,t.data.display.translate);return function(t){ji(e).attr("transform","rotate("+i(t)+")").select(".translate-layer").attr("transform","translate("+a(t)+")"),e._tween.rotate=i(t),e._tween.translate=a(t)}}function SE(t){ji(this).transition().duration(.5*t).style("opacity",0),ji(this).transition("nodes").duration(t).tween("node",EE).on("end",(function(){ji(this).remove()}))}function TE(t,e){Ik.select(".nodes").selectAll("g.node").data(iv.root.descendants(),(function(t){return t.data.id}));var n=Ik.select(".nodes").selectAll("g.node").data(t.descendants(),(function(t){return t.data.id}));n.enter().append("g").each((function(t){AE.call(this,t,e)})).each(wE).merge(n).transition("nodes").duration(e).tween("node",EE),n.exit().each((function(){SE.call(this,e)})),Ik.select(".nodes").selectAll("g.node").transition().delay(e).duration(.1*e).style("opacity",1),Ik.select(".nodes").selectAll("g.node").select("circle").transition("nodes").duration(e).style("fill",(function(t){return t.data.display.color})).style("opacity",(function(t){return t.data.display.circle_opacity})),Ik.select(".nodes").selectAll("g.node").select("rect").transition("nodes").duration(e).style("fill",(function(t){return t.data.display.color})).style("opacity",(function(t){return t.data.display.bar_opacity})).attr("y",(function(t){return-.5*t.data.display.bar_width})).attr("x",(function(t){return t.data.display.bar_translate})).attr("width",(function(t){return t.data.display.bar_length})).attr("height",(function(t){return t.data.display.bar_width})),Ik.select(".nodes").selectAll("g.node").select("g.name-label-normal").each((function(t){ji(this).selectAll("tspan.value-label").text((fd?" ":"")+t.data.display.value_label).style("font-weight",dd.value_labels_bold?"bold":"normal");var e=ji(this).selectAll("tspan.name-label");e.text((fd?"":" ")+t.data.display.name_label).style("font-weight",t.data.display.font_weight),ji(this).select(".name-label-background").style("stroke",dd.layout.background_color),fd?e.lower():e.raise()})).style("text-anchor",fd?"end":"start").transition().duration(e).style("fill",(function(t){return t.data.display.color})).style("font-size",(function(t){return t.data.display.label_size+"px"})).style("font-weight",(function(t){return t.data.display.font_weight})).attr("transform",(function(t){return t.data.display.name_label_transform.normal})).style("opacity",(function(t){return"normal"===t.data.display.name_label_orientation?1:0})),Ik.select(".nodes").selectAll("g.node").select("g.name-label-reversed").each((function(t){ji(this).selectAll("tspan.name-label").text(t.data.display.name_label+(fd?"":" ")).style("font-weight",t.data.display.font_weight);var e=ji(this).selectAll("tspan.value-label");e.text(t.data.display.value_label+(fd?" ":"")).style("font-weight",dd.value_labels_bold?"bold":"normal"),ji(this).select(".name-label-background").style("stroke",dd.layout.background_color),fd?e.lower():e.raise()})).style("text-anchor",fd?"start":"end").transition().duration(e).style("fill",(function(t){return t.data.display.color})).style("font-size",(function(t){return t.data.display.label_size+"px"})).attr("transform",(function(t){return t.data.display.name_label_transform.reversed})).style("opacity",(function(t){return"normal"===t.data.display.name_label_orientation?0:1}))}function zE(t,e){var n=ji(this);this._tween={rotate:t.data.display.prev_rotate,translate:t.data.display.prev_translate,parent_rotate:t.data.display.prev_parent_rotate,parent_translate:t.data.display.prev_parent_translate,cp2_translate:t.data.display.cp2_translate},n.classed("link",!0).style("opacity",0).transition().duration(.5*e).delay(.5*e).style("opacity",1)}function OE(t){var e=this;this._tween=this._tween||{};var n=this._tween.rotate||0,r=this._tween.translate||0,i=this._tween.parent_rotate||0,a=this._tween.parent_translate||0,o=this._tween.cp2_translate||0,l=$p(n,t.data.display.rotate),s=$p(r,t.data.display.translate),c=$p(i,t.data.display.parent_rotate),u=$p(a,t.data.display.parent_translate),f=$p(o,t.data.display.cp2_translate);return function(t){var n=l(t),r=s(t),i=c(t),a=u(t),o=f(t),d=function(t,e,n,r,i){var a=vE(ak(t),e),o=vE(ak(t),(e+r)/2),l=vE(ak(n),i),s=vE(ak(n),r);return"M"+a.x+","+a.y+"C"+o.x+","+o.y+" "+l.x+","+l.y+" "+s.x+","+s.y}(n,r,i,a,o);ji(e).attr("d",d),e._tween.rotate=n,e._tween.translate=r,e._tween.parent_rotate=i,e._tween.parent_translate=a,e._tween.cp2_translate=o}}function CE(t){ji(this).transition().duration(.5*t).style("opacity",0),ji(this).transition("links").duration(t).tween("link",OE).on("end",(function(){ji(this).remove()}))}function LE(t,e){Ik.select(".links").selectAll("path").data(iv.root.descendants().slice(1),(function(t){return t.data.id}));var n=Ik.select(".links").selectAll("path").data(t.descendants().slice(1),(function(t){return t.data.id}));n.enter().append("path").each((function(t){zE.call(this,t,e)})).merge(n).transition("links").duration(e).style("stroke",(function(t){return t.data.display.link_color})).style("fill","none").tween("link",OE),n.exit().each((function(){CE.call(this,e)})),Ik.select(".links").selectAll("path").transition().delay(e).duration(.1*e).style("opacity",1)}var NE,jE,FE,PE,IE,DE,RE,UE,BE=2*Math.PI,HE={},YE=function(){var t=Aw,e=1,n=1,r=null;function i(i){var s=function(t){for(var e,n,r,i,a,o=new Ow(t,0),l=[o];e=l.pop();)if(r=e._.children)for(e.children=new Array(a=r.length),i=a-1;i>=0;--i)l.push(n=e.children[i]=new Ow(r[i],i)),n.parent=e;return(o.parent=new Ow(null,0)).children=[o],o}(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)i.eachBefore(l);else{var c=i,u=i,f=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>f.depth&&(f=t)}));var d=c===u?1:t(c,u)/2,p=d-c.x,h=e/(u.x+d+p),y=n/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+p)*h,t.y=t.depth*y}))}return i}function a(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,a=e,o=e,l=n,s=a.parent.children[0],c=a.m,u=o.m,f=l.m,d=s.m;l=Sw(l),a=Ew(a),l&&a;)s=Ew(s),(o=Sw(o)).a=e,(i=l.z+f-a.z-c+t(l._,a._))>0&&(Tw(zw(l,e,r),e,i),c+=i,u+=i),f+=l.m,c+=a.m,d+=s.m,u+=o.m;l&&!Sw(o)&&(o.t=l,o.m+=f-u),a&&!Ew(s)&&(s.t=a,s.m+=c-d,r=e)}return r}(e,i,e.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}().separation((function(){return 1})),qE=Nh(),$E=Nh(),WE=Nh();function VE(t){var e=$E(t),n=2*Math.PI;return e<-n&&(e=-n),e>n&&(e=n),e+=ak(dd.radial_tree_rotation)}function GE(t,e){var n=t.copy();return n.eachBefore((function(t){t.depth===e&&delete t.children})),n.each((function(t){t.isTruncated=!0,t.id=t.data.id})),n}function XE(t,e,n){var r=!1===t?0:1e3*dd.animation_duration;if(function(t){Ik.transition().duration(t).style("opacity","radialTree"===dd.hierarchy_layout?1:0).on("end",(function(){"radialTree"!==dd.hierarchy_layout&&(Ik.select(".nodes").selectAll("*").remove(),Ik.select(".links").selectAll("*").remove())}))}(r),"radialTree"===dd.hierarchy_layout){var i=gk();!function(t){t.each((function(t){t.data.id=t.id,t.data.value=t.value}))}(iv.root),function(t){t.each((function(t){if(void 0!==HE[t.id]){var e=HE[t.id];t.data.display={prev_rotate:e.rotate,prev_translate:e.translate,prev_parent_rotate:e.parent_rotate,prev_parent_translate:e.parent_translate,cp2_translate:e.cp2_translate}}else t.data.display={prev_rotate:0,prev_translate:0,prev_parent_rotate:0,prev_parent_translate:0,cp2_translate:0}}))}(iv.root),function(t,e){var n=GE(t,e);YE(t),YE(n);var r=function(t){var e={};return t.each((function(t){e[t.data.id]=t})),e}(n);t.eachBefore((function(t){var e=r[t.data.id];if(t.data.y=t.y,void 0!==e)t.data.x=e.x,t.data.x_delta=e.x-t.x;else{var n=t.parent.data.x_delta;t.data.x=t.x+n,t.data.x_delta=n}0===t.depth?(t.data.parent_x=t.data.x,t.data.parent_y=t.data.y):(t.data.parent_x=t.parent.data.x,t.data.parent_y=t.parent.data.y)}))}(iv.root,i.depth+dd.num_of_visible_levels);var a=GE(i,dd.num_of_visible_levels);!function(t,e){var n=Math.min(t,e);NE=.5*dd.radial_tree_outer_radius*n/100,jE=.5*dd.radial_tree_bar_length*n/100,FE=NE/dd.num_of_visible_levels,PE=.5*n-NE,IE=dd.radial_tree_bar_width}(e,n),function(t){var e=t.leaves().length,n=e*IE/NE;n>=BE?(DE=NE*BE/e-1,RE=BE):(RE=n,DE=IE-2),DE=Math.max(DE,0),RE-=(DE+1)/NE,RE=Math.max(RE,0)}(a),function(t,e){var n=t.leaves(),r=gd(n,(function(t){return t.data.x}));$E.domain(r).range([-.5*RE,.5*RE]),1===n.length&&$E.range([0,0]);var i=[e.data.y,n[0].data.y];WE.domain(i).range([0,NE]),qE.domain([0,Ad(n,(function(t){return Math.abs(t.data.value)}))]).range([0,jE])}(a,i),xE(iv.root,i,e,n,DE,FE,PE,VE,WE,qE),Ik.attr("transform","translate(".concat(.5*e,", ").concat(.5*n,")")),TE(a,r),LE(a,r),function(t){t.each((function(t){HE[t.id]=t.data.display}))}(iv.root)}}function ZE(){UE||Ik.select(".nodes").selectAll(".node").style("opacity",(function(t){return t.data&&t.data.id===nA?.7:1}))}function JE(t,e){var n=dd.num_of_visible_levels;t.display={},t.display.visible=t.depth<e+n+1,t.display.leaf=!t.children,t.display.visible_leaf=t.depth===e+n||t.display.leaf&&t.depth<e+n,t.children&&t.children.forEach((function(t){JE(t,e)}))}function QE(){var t=gk(),e=t?t.depth:0;JE(iv.root,e)}function KE(){var t=ok(),e=gk(),n=function(){var t=ok(),e=gk(),n=[];return e.each((function(r){t.includes(r.data.key)&&r.depth-e.depth<=dd.num_of_visible_levels&&n.push(r.data.key)})),Wv(n)}(),r="off"===dd.legend_mode,i=[];i=dd.filter&&dd.filter!==dd.filter_all_label?Wv([dd.filter].concat(n)):dd.legend_only_show_custom_overrides?t:Wv(rk.concat(t));var a=e.depth>0?i.filter((function(t){return n.includes(t)||e.level1_key===t&&!n.includes(e.data.key)})):i.filter((function(e){return!t.includes(e)||n.includes(e)})),o=i.filter((function(t){return!a.includes(t)}));wS.data(r?[]:i,nk.getColor).filtered(o),MS.update(),ud.setLegendPosition(dd.legend_position)}function tS(t){var e;Sk(),Tk(),(ek||tk)&&kS.update(),e=tk?j_.data.filter((function(t){return dd.filter===dd.filter_all_label||t.filter==dd.filter})):j_.data;var n=!0;"radialTree"===dd.hierarchy_layout&&(n=!1);var r=Uw(e,n);iv.root=$w(r),rk=Wv(j_.data.map((function(t){return t.nest_columns[0]}))),nk.updateColorScale(rk),KE(),ud.update(),fd="rtl"===sd(),function(){var t=dd.hierarchy_layout,e=Math.max(0,ud.getPrimaryWidth()),n=Math.max(0,ud.getPrimaryHeight()),r=n,i=gk(),a=i.children?i.children.length:0,o=!1;if(dd.auto_set_height&&!1===Flourish.fixed_height)if("treemap"===t){var l=e<dd.responsive_narrow_breakpoint?.01*e*dd.treemap_aspect_ratio_narrow:.01*e*dd.treemap_aspect_ratio_normal;ud.setHeight(l),r=l}else if("circlePacking"===t||"sunburst"===t||"radialTree"===t)ud.setHeight(e),r=e;else if("bar"===t){var s=kk(),c=dd.bar_min_bar_thickness+dd.bar_bar_padding+s,u=Yk+a*c;ud.setHeight(u),r=u}else ud.setHeight(null);else if(ud.setHeight(null),"bar"===t){var f=Ak(n-Yk,a),d=kk(),p=a*(f+dd.bar_bar_padding+d)+Yk;p>n&&(r=p,o=!0)}Ck.attr("width",e).attr("height",r),Lk.attr("width",e).attr("height",r),zk.select("#fl-layout-primary-container").style("overflow-y",o?"auto":"hidden")}();var i,a=Math.max(0,ud.getPrimaryWidth()),o=Math.max(0,ud.getPrimaryHeight());iv.w=a,iv.h=o,QE(),cA(t,a,o),kA(t,a,o),sE(t,a,o),gE(t,a,o),XE(t,a,o),i=dd.zoomed_node_id&&Ek(dd.ascend_button_visibility),Dk.style("display",i?"block":"none").style("background",dd.zoom_out_button_color).classed("top-left","right"===dd.popup.panel_position).classed("bottom-right","top"===dd.popup.panel_position).on("touchstart",(function(){wi.stopPropagation(),rS("zoomOut")})).on("click",(function(){wi.stopPropagation(),rS("zoomOut")})).select("svg path").style("fill",dd.zoom_out_arrow_color),gS.update(),mS.update(),vS.update(),xS.update(),ud.showOverlay(void 0===iv.root.children?"No data to display":null),function(){var t=iS.locked();if(t){var e=Ww(iv.root,t);if(!e||!yS(e))return void iS.clickout();var n=dS(e);iS.setColumnNames(n.column_names)}iS.update(),ji(".flourish-popup").classed("all-events","popup"===dd.popup.mode||"both"===dd.popup.mode)}()}function eS(){tS()}function nS(){sA(),MA(),lE(),mE(),ZE()}function rS(t,e){switch(t){case"updateHighlightedNode":rA(e),nS();break;case"zoomToNode":UE=!0,e.children&&(dd.zoomed_node_id=e.id),rA(null),eS(),iS.clickout(),setTimeout((function(){UE=!1}),1e3*dd.animation_duration+100);break;case"zoomOut":if(null===dd.zoomed_node_id)return;UE=!0;var n=Ww(iv.root,dd.zoomed_node_id),r=n?n.ancestors():null;dd.zoomed_node_id=r&&2!==r.length?r[1].id:null,rA(null),eS(),iS.clickout(),setTimeout((function(){UE=!1}),1e3*dd.animation_duration+100)}}var iS,aS,oS,lS=null;function sS(t){lS=t}function cS(t){if(t){var e,n,r=Ck.node().getBoundingClientRect().left,i=Ck.node().getBoundingClientRect().top;switch(dd.hierarchy_layout){case"treemap":e=.5*(t.display.x1+t.display.x0),n=t.display.visible_leaf?.5*(t.display.y1+t.display.y0)+15:t.display.y0+10;break;case"circlePacking":e=t.display.x+Rk,n=t.display.visible_leaf?t.display.y+Uk+15:t.display.y-t.display.r+Uk+15;break;case"sunburst":var a=.5*(t.display.a0+t.display.a1),o=a>.5*Math.PI&&a<1.5*Math.PI?.4:.6,l=o*t.display.r0+(1-o)*t.display.r1;e=.5*iv.w+l*Math.sin(a),n=.5*iv.h-l*Math.cos(a);break;case"bar":e=t.display.x+.5*t.display.l+(dd.bar_axis_labels_above?0:hE()),n=t.display.y+.5*t.display.thickness+Yk+10;break;case"radialTree":e=t.data.display.popup.x,n=t.data.display.popup.y+15;break;default:console.log("Missing handler for "+dd.hierarchy_layout+" in popup")}return[e+=r,n+=i]}}function uS(t){var e=Ww(iv.root,t),n=dS(e);return[cS(e),n.datum]}function fS(t,e,n){aS=pE(Dw.getFormatterFunction()),e.__value="VALUE",n.__value=aS(t.value),e.__size_by="SIZEBY",n.__size_by="Sum"===dd.aggregation_type?dd.size_by:"Count",e.__name="NAME",n.__name=t.data.key}function dS(t){aS=pE(Dw.getFormatterFunction());var e={},n={};if(0===t.height&&t.data.unique_row)n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wl(Object(n),!0).forEach((function(e){kl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},j_.data.column_names),(e=t.data.unique_row).__title=t.data.key,n.nest_columns=n.nest_columns.slice(0,-1),e.size_columns=e.size_columns.map((function(t){return aS(Iw(t))})),(dd.popup.popup_is_custom||dd.popup.panel_is_custom)&&fS(t,n,e);else if(dd.popup.popup_is_custom||dd.popup.panel_is_custom){var r=t.ancestors().slice(0,-1);n.ancestors=r.map((function(t){return t.data.column_name})),e.ancestors=r.map((function(t){return t.data.key})),n.value=dd.size_by,e.value=aS(t.value),fS(t,n,e)}else{e.__title=t.data.key;var i=t.ancestors().slice(1,-1);n.ancestors=i.map((function(t){return t.data.column_name})),e.ancestors=i.map((function(t){return t.data.key}));var a=sk();n.value="Count"===a?"Count":dd.size_by,e.value=aS(t.value)}return{datum:e,column_names:n}}function pS(){rS("updateHighlightedNode",null)}function hS(){if(!iS.locked()||"popup"!==dd.popup.mode&&"both"!==dd.popup.mode){var t=lS,e=Ww(iv.root,t),n=dS(e),r=cS(e);iS.setColumnNames(n.column_names).click(r,n.datum,t),rS("updateHighlightedNode",t)}else iS.clickout()}function yS(t){var e=gk(),n=t.depth>=e.depth&&t.depth<=e.depth+dd.num_of_visible_levels,r=!dd.popup_active_levels||"all_levels"===dd.popup_active_levels||"top_level"===dd.popup_active_levels&&1===t.depth||"below_top_level"===dd.popup_active_levels&&t.depth>1||"above_bottom_level"===dd.popup_active_levels&&t.height>0||"bottom_level"===dd.popup_active_levels&&0===t.height;return n&&r}ud=id(dd.layout);var _S=nf(dd.filter_control),bS=nf(dd.size_by_control),gS=function(t,e,n){return new k_(t,e,n)}(dd.controls_style,".fl-control",dd.layout),mS=function(t,e,n){return new T_(t,e,n)}(dd.dropdown_style,".fl-control-dropdown",dd.layout),vS=function(t,e,n){return new E_(t,e,n)}(dd.button_style,".fl-control-buttons",dd.layout),xS=function(t,e,n){return new C_(t,e,n)}(dd.slider_style,".fl-control-slider",dd.layout),wS=function(t){return new Od(t)}(dd.legend_categorical);iS=function(t,e,n){return new ev(t,e,n)}(dd.popup),iS.titleKey("__title").subtitleKey("__subtitle").getLockedPosition(uS).onPanelClose(pS),oS=ji(".flourish-popup").node(),ji(".flourish-popup-content").on("click",hS),ji(".flourish-popup").on("mouseleave",(function(){return iS.mouseout()}));var MS=function(t){return new v_(t)}(dd.legend_container).appendTo(ud.getSection("legend")).add(wS),kS=function(t){return new Ju(t)}(dd.controls_container).appendTo(ud.getSection("controls")),AS=function(){return lv.Date.now()};function ES(t){return"symbol"==Ml(t)||function(t){return null!=t&&"object"==Ml(t)}(t)&&"[object Symbol]"==yv(t)}var SS=/^\s+|\s+$/g,TS=/^[-+]0x[0-9a-f]+$/i,zS=/^0b[01]+$/i,OS=/^0o[0-7]+$/i,CS=parseInt;function LS(t){if("number"==typeof t)return t;if(ES(t))return NaN;if(_v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(SS,"");var n=zS.test(t);return n||OS.test(t)?CS(t.slice(2),n?2:8):TS.test(t)?NaN:+t}var NS=Math.max,jS=Math.min;function FS(t,e,n){var r,i,a,o,l,s,c=0,u=!1,f=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,a=i;return r=i=void 0,c=e,o=t.apply(a,n)}function h(t){return c=t,l=setTimeout(_,e),u?p(t):o}function y(t){var n=t-s;return void 0===s||n>=e||n<0||f&&t-c>=a}function _(){var t=AS();if(y(t))return b(t);l=setTimeout(_,function(t){var n=e-(t-s);return f?jS(n,a-(t-c)):n}(t))}function b(t){return l=void 0,d&&r?p(t):(r=i=void 0,o)}function g(){var t=AS(),n=y(t);if(r=arguments,i=this,s=t,n){if(void 0===l)return h(s);if(f)return clearTimeout(l),l=setTimeout(_,e),p(s)}return void 0===l&&(l=setTimeout(_,e)),o}return e=LS(e)||0,_v(n)&&(u=!!n.leading,a=(f="maxWait"in n)?NS(LS(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d),g.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=s=i=l=void 0},g.flush=function(){return void 0===l?o:b(AS())},g}var PS;function IS(t,e,n){for(var r in e){var i=e[r];if("object"!=Ml(i)||null===i||Array.isArray(i))n.indexOf(r)>-1?t[r]=i:Flourish.warn("State property `"+r+"` not whitelisted for use in URL");else{var a=r.length,o=n.filter((function(t){return t.substring(0,a)==r})).map((function(t){return t.substring(a+1)}));IS(t[r],i,o)}}}function DS(t,e){var n=location.hash.substring(1);if(""!=n){var r;try{r=JSON.parse(decodeURIComponent(n))}catch(t){Flourish.warn({message:"Invalid JSON passed to template URL hash",explanation:t})}r&&IS(t,r,e)}}var RS=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return _v(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),FS(t,e,{leading:r,maxWait:e,trailing:i})}((function(){tS(PS==window.innerWidth),PS=window.innerWidth}),500);return t.data=j_,t.draw=function(){var t,e,n,r;t=dd.url_state,e=dd,n=tS,r=(t.enabled,t.whitelist||"").split(/\n/),DS(e,r),window.addEventListener("hashchange",(function(){DS(e,r),n&&n()})),zk=ji(document.body),Ok=ji(ud.getSection("primary")),Ck=Ok.append("svg").classed("noselect",!0),Lk=Ck.append("rect").classed("background",!0).style("fill","none").style("pointer-events","visible"),Nk=Ck.append("g").classed("g-treemap",!0),jk=Ck.append("g").classed("g-circle-packing",!0).attr("transform","translate(".concat(Rk,",").concat(Uk,")")),Fk=Ck.append("g").classed("g-sunburst",!0),(Pk=Ck.append("g").classed("g-bar",!0)).append("g").classed("breadcrumb",!0).append("text"),Pk.append("g").classed("bars",!0),(Ik=Ck.append("g").classed("g-radial-tree",!0)).append("g").classed("links",!0),Ik.append("g").classed("nodes",!0),(Dk=Ok.append("div").classed("zoomout-button",!0).attr("title","Go up a level")).append("svg").append("path").attr("d","M7.285,16.01l4.12,4.119l5.137,-5.137l0,21.201l5.825,0l0,-21.201l5.138,5.137l4.119,-4.119l-12.169,-12.169l-12.17,12.169Z"),Lk.on("click",(function(){rS("zoomOut")})),PS=window.innerWidth,window.addEventListener("resize",(function(){RS()})),ud.awaitFonts((function(){return tS(!1)}))},t.state=dd,t.update=eS,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=template.js.map
</script><script>
var path = document.location.href.match(/\/visualisation\/(\d+)/);
if (path) {
	path = path[0];
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga("create", "UA-44635456-19", "auto", { storage: "none" });
	ga("set", "transport", "beacon");
	ga("set", "dimension1", path.substr(1));
	ga("set", "dimension2", new Date().toISOString());
	ga("send", "pageview", path);
}</script><script src="https://public.flourish.studio/resources/v3/embedded.js"></script><script>
		function _Flourish_unflattenInto(dest, src) {
			dest = dest || {};
			for (var k in src) {
				var t = dest;
				for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
					var s = k.substring(p, i);
					if (!(s in t)) t[s] = {};
					t = t[s];
				}
				t[k.substring(p)] = src[k];
			}
			return dest;
		}
		var _Flourish_settings = {"label_case":"topUpperCase","label_weight":"topBold","auto_set_height":true,"legend_mode":"off","num_of_visible_levels":4,"color.categorical_custom_palette":"Atiradores: #d91d5c","color.categorical_palette":["#d91d5c"],"min_label_size":0.2,"label_padding":0.7,"multi_line_labels":false,"popup.mode":"popup","popup.popup_is_custom":true,"popup.show_popup_styles":true,"popup.popup_header_type":"block","popup.popup_custom_main":"Categoria: \u003cb>{{Grupo}}\u003c/b>\u003cbr> \nVisualizações: \u003cb>{{Número}}\u003c/b>","popup.popup_custom_header":"{{Hashtag}}","label_color":"#ffffff","localization.output_separators":".,","layout.background_color":"#eeeeee","layout.background_color_enabled":true,"layout.max_width_target":"wrapper","layout.border.enabled":false,"layout.read_direction":"ltr","layout.title":"HASHTAGS POPULARES ENALTECENDO ASSASSINOS, POR NÚMERO DE VISUALIZAÇÕES","popup.popup_text_color":"#ffffff","color.categorical_extend":false,"layout.subtitle_styling":true,"layout.subtitle":"Passe o cursor para saber mais","layout.subtitle_space_above":"0","layout.subtitle_size":"custom","popup.popup_background":"#191919","filter_control_visibility":"always","filter_all_label":"Todas as monitoradas","filter_control.control_type":"dropdown","filter_control.control_styles":true,"filter_control.button_group":false,"ascend_button_visibility":"always","filter_control.dropdown_width_mode":"auto","filter_control.sort":false,"zoom_out_button_color":"#272727","zoom_out_arrow_color":"#eeeeee","controls_container.alignment":"start","controls_style.font_size":1,"controls_style.font_weight":"normal","dropdown_style.background":"#ffffff","dropdown_style.font_color":null,"dropdown_style.border_style":"all","dropdown_style.border_styles_advanced":true,"animation_duration":0.6,"layout.source_name":" TikTok / Análise Núcleo Jornalismo","layout.source_label":"Fonte:","layout.footer_logo_enabled":true,"layout.footer_logo_src":"https://public.flourish.studio/uploads/169/faefe098-8572-4621-a484-0c347338557f.png","filter_control.control_title":"Filtre por hashtags usadas:","popup_active_levels":"all_levels","layout.space_between_sections":"0.5","popup.popup_header_background":"#000000","popup.popup_header_text_color":"#d91d5c","legend_categorical.swatch_width":1,"legend_categorical.swatch_radius":13,"hierarchy_layout":"circlePacking","max_label_size":10,"aggregation_type":"Sum","legend_container.alignment":"start","legend_container.text_weight":"bold","legend_container.title_weight":"normal","legend_categorical.order_override":"Assassinos\nAtiradores\nSupremacistas\nOutros","legend_categorical.orientation":"horizontal","legend_position":"above","size_by_control_visibility":"never","localization.input_decimal_separator":".","number_formatter.n_dec":2,"layout.footer_styling":false,"layout.footer_text_size":0.7,"layout.title_styling":true,"layout.title_size":"custom","layout.title_size_custom":1.2,"layout.subtitle_size_custom":1.1,"layout.subtitle_weight":"normal"};
		_Flourish_unflattenInto(window.template.state, _Flourish_settings);

		var _Flourish_data_column_names = {"data":{"nest_columns":["Hashtag"],"popup_metadata":["Hashtag","Número","Grupo"],"size_columns":["Número"]}},
		    _Flourish_data_metadata = {"data":{"nest_columns":[null],"popup_metadata":[null,null,null],"size_columns":[null]}},
		    _Flourish_data = {"data":[{"nest_columns":["#pioneers productions"],"popup_metadata":["#pioneers productions","1800000","Atirador"],"size_columns":["1800000"]},{"nest_columns":["#alyssabustamanteedit"],"popup_metadata":["#alyssabustamanteedit","3200000","Assassino"],"size_columns":["3200000"]},{"nest_columns":["#tccedit"],"popup_metadata":["#tccedit","16000000","Assassino"],"size_columns":["16000000"]},{"nest_columns":["#thenightstalkeredit"],"popup_metadata":["#thenightstalkeredit","11800000","Assassino"],"size_columns":["11800000"]},{"nest_columns":["#columbiner"],"popup_metadata":["#columbiner","1000000","Atirador"],"size_columns":["1000000"]},{"nest_columns":["#adamlanzza"],"popup_metadata":["#adamlanzza","5000000","Supremacista"],"size_columns":["5000000"]},{"nest_columns":["#ericanddylan"],"popup_metadata":["#ericanddylan","5600000","Atirador"],"size_columns":["5600000"]},{"nest_columns":["#randystairedit"],"popup_metadata":["#randystairedit","3000000","Atirador"],"size_columns":["3000000"]},{"nest_columns":["#tauccieric3"],"popup_metadata":["#tauccieric3","3400000","Supremacista"],"size_columns":["3400000"]},{"nest_columns":["#dylanroof"],"popup_metadata":["#dylanroof","2300000","Supremacista"],"size_columns":["2300000"]},{"nest_columns":["#ericharris1999"],"popup_metadata":["#ericharris1999","20300000","Atirador"],"size_columns":["20300000"]},{"nest_columns":["#tedbundyedits"],"popup_metadata":["#tedbundyedits","23600000","Assassino"],"size_columns":["23600000"]},{"nest_columns":["#tedbundytok"],"popup_metadata":["#tedbundytok","8400000","Assassino"],"size_columns":["8400000"]},{"nest_columns":["#dylankleblod"],"popup_metadata":["#dylankleblod","4100000","Atirador"],"size_columns":["4100000"]},{"nest_columns":["#dylankleblold1981"],"popup_metadata":["#dylankleblold1981","1100000","Atirador"],"size_columns":["1100000"]},{"nest_columns":["#dylankleblold"],"popup_metadata":["#dylankleblold","38900000","Atirador"],"size_columns":["38900000"]},{"nest_columns":["#isabellaguzmanedit"],"popup_metadata":["#isabellaguzmanedit","1500000","Assassino"],"size_columns":["1500000"]},{"nest_columns":["#guilhermetaucciedit"],"popup_metadata":["#guilhermetaucciedit","4200000","Supremacista"],"size_columns":["4200000"]},{"nest_columns":["#jodiairasedit"],"popup_metadata":["#jodiairasedit","7000000","Assassino"],"size_columns":["7000000"]},{"nest_columns":["#devonericksonedits"],"popup_metadata":["#devonericksonedits","610000","Atirador"],"size_columns":["610000"]},{"nest_columns":["#columbiners"],"popup_metadata":["#columbiners","171000","Atirador"],"size_columns":["171000"]},{"nest_columns":["#tjlaneedit"],"popup_metadata":["#tjlaneedit","228000","Atirador"],"size_columns":["228000"]},{"nest_columns":["#tjlane🖤"],"popup_metadata":["#tjlane🖤","116000","Atirador"],"size_columns":["116000"]},{"nest_columns":["#vladislavroslyakovedit"],"popup_metadata":["#vladislavroslyakovedit","334000","Atirador"],"size_columns":["334000"]},{"nest_columns":["#vladislavroslyakov"],"popup_metadata":["#vladislavroslyakov","179000","Atirador"],"size_columns":["179000"]},{"nest_columns":["#victoriamendozaedit"],"popup_metadata":["#victoriamendozaedit","108000","Assassino"],"size_columns":["108000"]},{"nest_columns":["#victoriaendozaedit"],"popup_metadata":["#victoriaendozaedit","96000","Assassino"],"size_columns":["96000"]},{"nest_columns":["#nikolascruzedit"],"popup_metadata":["#nikolascruzedit","268000","Atirador"],"size_columns":["268000"]},{"nest_columns":["#columbineedit"],"popup_metadata":["#columbineedit","45000","Outros"],"size_columns":["45000"]},{"nest_columns":["#d33ployyz"],"popup_metadata":["#d33ployyz","21500","Outros"],"size_columns":["21500"]},{"nest_columns":["##d33ployyyzz____"],"popup_metadata":["##d33ployyyzz____","10200","Outros"],"size_columns":["10200"]},{"nest_columns":["#richardramirezedit"],"popup_metadata":["#richardramirezedit","177000000","Assassino"],"size_columns":["177000000"]},{"nest_columns":["#richardramirezedits🖤"],"popup_metadata":["#richardramirezedits🖤","1500000","Assassino"],"size_columns":["1500000"]},{"nest_columns":["#richardramirezedits:sparkles:"],"popup_metadata":["#richardramirezedits:sparkles:","1100000","Assassino"],"size_columns":["1100000"]},{"nest_columns":["#richardramirezfyp"],"popup_metadata":["#richardramirezfyp","174500","Assassino"],"size_columns":["174500"]}]},
		    _Flourish_visualisation_id = 12470667,
		    _Flourish_visualisation_version_number = 234,
		    _Flourish_template_id = 8195;
		for (var _Flourish_dataset in _Flourish_data) {
				window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
				window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
				window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
		}

		
		window.template.draw();
	</script></body></html>