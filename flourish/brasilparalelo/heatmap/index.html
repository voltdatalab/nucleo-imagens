<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="style.css">
	<title>Ranking anunciantes FB</title></head>
	<body>
		<!-- If you want to start with a non-empty document, add elements here -->
		<!-- Relative links are rewritten to refer to the files in the static directory -->
	

<script>window.Flourish = {"static_prefix":".","environment":"live","is_read_only":true};</script><script>var template=function(t){"use strict";var n,h,r,i,d;Array.from||(Array.from=(n=Object.prototype.toString,h=function t(e){return"function"==typeof e||"[object Function]"===n.call(e)},r=function t(e){var n=Number(e);return isNaN(n)?0:0!==n&&isFinite(n)?(0<n?1:-1)*Math.floor(Math.abs(n)):n},i=Math.pow(2,53)-1,d=function t(e){var n=r(e);return Math.min(Math.max(n,0),i)},function t(e,n,r){var i=this,a=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o=1<arguments.length?n:void 0,u;if(void 0!==o){if(!h(o))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(u=r)}for(var l=d(a.length),c=h(i)?Object(new i(l)):new Array(l),s=0,f;s<l;)f=a[s],c[s]=o?void 0===u?o(f,s):o.call(u,f,s):f,s+=1;return c.length=l,c}));var a="http://www.w3.org/1999/xhtml",o={svg:"http://www.w3.org/2000/svg",xhtml:a,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function u(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),o.hasOwnProperty(e)?{space:o[e],local:t}:t}function l(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===a&&t.documentElement.namespaceURI===a?t.createElement(n):t.createElementNS(e,n)}}function c(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function s(t){var e=u(t);return(e.local?c:l)(e)}function e(){}function p(t){return null==t?e:function(){return this.querySelector(t)}}function f(t){"function"!=typeof t&&(t=p(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=new Array(o),l,c,s=0;s<o;++s)(l=a[s])&&(c=t.call(l,l.__data__,s,a))&&("__data__"in l&&(c.__data__=l.__data__),u[s]=c);return new $t(r,this._parents)}function g(){return[]}function m(t){return null==t?g:function(){return this.querySelectorAll(t)}}function _(t){"function"!=typeof t&&(t=m(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],u=o.length,l,c=0;c<u;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new $t(r,i)}function y(t){return function(){return this.matches(t)}}function v(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&u.push(l);return new $t(r,this._parents)}function b(t){return new Array(t.length)}function x(){return new $t(this._enter||this._groups.map(b),this._parents)}function w(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function M(t){return function(){return t}}w.prototype={constructor:w,appendChild:function t(e){return this._parent.insertBefore(e,this._next)},insertBefore:function t(e,n){return this._parent.insertBefore(e,n)},querySelector:function t(e){return this._parent.querySelector(e)},querySelectorAll:function t(e){return this._parent.querySelectorAll(e)}};var k="$";function A(t,e,n,r,i,a){for(var o=0,u,l=e.length,c=a.length;o<c;++o)(u=e[o])?(u.__data__=a[o],r[o]=u):n[o]=new w(t,a[o]);for(;o<l;++o)(u=e[o])&&(i[o]=u)}function N(t,e,n,r,i,a,o){for(var u,l,c={},s=e.length,f=a.length,h=new Array(s),d,u=0;u<s;++u)(l=e[u])&&(h[u]=d=k+o.call(l,l.__data__,u,e),d in c?i[u]=l:c[d]=l);for(u=0;u<f;++u)(l=c[d=k+o.call(t,a[u],u,a)])?((r[u]=l).__data__=a[u],c[d]=null):n[u]=new w(t,a[u]);for(u=0;u<s;++u)(l=e[u])&&c[h[u]]===l&&(i[u]=l)}function T(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n=e?N:A,r=this._parents,i=this._groups;"function"!=typeof t&&(t=M(t));for(var a=i.length,o=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var s=r[c],f=i[c],h=f.length,d=t.call(s,s&&s.__data__,c,r),p=d.length,g=u[c]=new Array(p),_=o[c]=new Array(p),m;n(s,f,g,_,l[c]=new Array(h),d,e);for(var y=0,v=0,b,x;y<p;++y)if(b=g[y]){for(v<=y&&(v=y+1);!(x=_[v])&&++v<p;);b._next=x||null}}return(o=new $t(o,r))._enter=u,o._exit=l,o}function S(){return new $t(this._exit||this._groups.map(b),this._parents)}function C(t,e,n){var r=this.enter(),i=this,a=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i}function E(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],c=n[u],s=l.length,f=o[u]=new Array(s),h,d=0;d<s;++d)(h=l[d]||c[d])&&(f[d]=h);for(;u<r;++u)o[u]=e[u];return new $t(o,this._parents)}function z(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;0<=--i;)(o=r[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this}function D(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||F;for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],u=o.length,l=i[a]=new Array(u),c,s=0;s<u;++s)(c=o[s])&&(l[s]=c);l.sort(t)}return new $t(i,this._parents).order()}function F(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function L(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function O(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function j(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function U(){var t=0;return this.each(function(){++t}),t}function q(){return!this.node()}function H(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&t.call(u,u.__data__,a,i);return this}function P(t){return function(){this.removeAttribute(t)}}function R(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Y(t,e){return function(){this.setAttribute(t,e)}}function B(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function I(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function W(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function V(t,e){var n=u(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?R:P:"function"==typeof e?n.local?W:I:n.local?B:Y)(n,e))}function $(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Z(t){return function(){this.style.removeProperty(t)}}function X(t,e,n){return function(){this.style.setProperty(t,e,n)}}function G(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}function Q(t,e,n){return 1<arguments.length?this.each((null==e?Z:"function"==typeof e?G:X)(t,e,null==n?"":n)):J(this.node(),t)}function J(t,e){return t.style.getPropertyValue(e)||$(t).getComputedStyle(t,null).getPropertyValue(e)}function K(t){return function(){delete this[t]}}function tt(t,e){return function(){this[t]=e}}function et(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function nt(t,e){return 1<arguments.length?this.each((null==e?K:"function"==typeof e?et:tt)(t,e)):this.node()[t]}function rt(t){return t.trim().split(/^|\s+/)}function it(t){return t.classList||new at(t)}function at(t){this._node=t,this._names=rt(t.getAttribute("class")||"")}function ot(t,e){for(var n=it(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ut(t,e){for(var n=it(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function lt(t){return function(){ot(this,t)}}function ct(t){return function(){ut(this,t)}}function st(t,e){return function(){(e.apply(this,arguments)?ot:ut)(this,t)}}function ft(t,e){var n=rt(t+"");if(arguments.length<2){for(var r=it(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?st:e?lt:ct)(n,e))}function ht(){this.textContent=""}function dt(t){return function(){this.textContent=t}}function pt(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function gt(t){return arguments.length?this.each(null==t?ht:("function"==typeof t?pt:dt)(t)):this.node().textContent}function _t(){this.innerHTML=""}function mt(t){return function(){this.innerHTML=t}}function yt(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function vt(t){return arguments.length?this.each(null==t?_t:("function"==typeof t?yt:mt)(t)):this.node().innerHTML}function bt(){this.nextSibling&&this.parentNode.appendChild(this)}function xt(){return this.each(bt)}function wt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mt(){return this.each(wt)}function kt(t){var e="function"==typeof t?t:s(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function At(){return null}function Nt(t,e){var n="function"==typeof t?t:s(t),r=null==e?At:"function"==typeof e?e:p(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Tt(){var t=this.parentNode;t&&t.removeChild(this)}function St(){return this.each(Tt)}function Ct(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Et(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zt(t){return this.select(t?Et:Ct)}function Dt(t){return arguments.length?this.property("__data__",t):this.node().__data__}at.prototype={add:function t(e){var n;this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function t(e){var n=this._names.indexOf(e);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function t(e){return 0<=this._names.indexOf(e)}};var Ft={},Lt=null,Ot;function jt(n,t,e){return n=Ut(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function Ut(n,r,i){return function(t){var e=Lt;Lt=t;try{n.call(this,this.__data__,r,i)}finally{Lt=e}}}function qt(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function Ht(a){return function(){var t=this.__on;if(t){for(var e=0,n=-1,r=t.length,i;e<r;++e)i=t[e],a.type&&i.type!==a.type||i.name!==a.name?t[++n]=i:this.removeEventListener(i.type,i.listener,i.capture);++n?t.length=n:delete this.__on}}}function Pt(l,c,s){var f=Ft.hasOwnProperty(l.type)?jt:Ut;return function(t,e,n){var r=this.__on,i,a=f(c,e,n);if(r)for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===l.type&&i.name===l.name)return this.removeEventListener(i.type,i.listener,i.capture),this.addEventListener(i.type,i.listener=a,i.capture=s),void(i.value=c);this.addEventListener(l.type,a,s),i={type:l.type,name:l.name,value:c,listener:a,capture:s},r?r.push(i):this.__on=[i]}}function Rt(t,e,n){var r=qt(t+""),i,a=r.length,o;if(!(arguments.length<2)){for(u=e?Pt:Ht,null==n&&(n=!1),i=0;i<a;++i)this.each(u(r[i],e,n));return this}var u=this.node().__on;if(u)for(var l=0,c=u.length,s;l<c;++l)for(i=0,s=u[l];i<a;++i)if((o=r[i]).type===s.type&&o.name===s.name)return s.value}function Yt(t,e,n){var r=$(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Bt(t,e){return function(){return Yt(this,t,e)}}function It(t,e){return function(){return Yt(this,t,e.apply(this,arguments))}}function Wt(t,e){return this.each(("function"==typeof e?It:Bt)(t,e))}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ft={mouseenter:"mouseover",mouseleave:"mouseout"}));var Vt=[null];function $t(t,e){this._groups=t,this._parents=e}function Zt(){return new $t([[document.documentElement]],Vt)}function Xt(t){return"string"==typeof t?new $t([[document.querySelector(t)]],[document.documentElement]):new $t([[t]],Vt)}function Gt(){for(var t=Lt,e;e=t.sourceEvent;)t=e;return t}function Qt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Jt(t){var e=Gt();return e.changedTouches&&(e=e.changedTouches[0]),Qt(t,e)}function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ee(t,e){return ie(t)||oe(t,e)||ue(t,e)||se()}function ne(t){return re(t)||ae(t)||ue(t)||ce()}function re(t){if(Array.isArray(t))return le(t)}function ie(t){if(Array.isArray(t))return t}function ae(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function oe(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r=[],i=!0,a=!1,o,u;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){a=!0,u=t}finally{try{i||null==n.return||n.return()}finally{if(a)throw u}}return r}}function ue(t,e){if(t){if("string"==typeof t)return le(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?le(t,e):void 0}}function le(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ce(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fe(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ue(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,u;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,u=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw u}}}}function he(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function de(r){var a=r,o=r;function u(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=1+i:r=i}return n}function t(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=1+i}return n}function e(t,e,n,r){null==n&&(n=0),null==r&&(r=t.length);var i=u(t,e,n,r-1);return n<i&&a(t[i-1],e)>-a(t[i],e)?i-1:i}return 1===r.length&&(a=function t(e,n){return r(e)-n},o=pe(r)),{left:u,center:e,right:t}}function pe(n){return function(t,e){return he(n(t),e)}}$t.prototype=Zt.prototype={constructor:$t,select:f,selectAll:_,filter:v,data:T,enter:x,exit:S,join:C,merge:E,order:z,sort:D,call:L,nodes:O,node:j,size:U,empty:q,each:H,attr:V,style:Q,property:nt,classed:ft,text:gt,html:vt,raise:xt,lower:Mt,append:kt,insert:Nt,remove:St,clone:zt,datum:Dt,on:Rt,dispatch:Wt};var ge=function(o){var t=Object.prototype,s=t.hasOwnProperty,c,e="function"==typeof Symbol?Symbol:{},i=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function t(e,n,r){return e[n]=r}}function u(t,e,n,r){var i=e&&e.prototype instanceof l?e:l,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=A(t,n,o),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}o.wrap=u;var h="suspendedStart",d="suspendedYield",p="executing",g="completed",_={};function l(){}function m(){}function y(){}var v={};v[i]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(E([])));x&&x!==t&&s.call(x,i)&&(v=x);var w=y.prototype=l.prototype=Object.create(v);function M(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function k(u,l){function c(t,e,n,r){var i=f(u[t],u,e);if("throw"!==i.type){var a=i.arg,o=a.value;return o&&"object"===Kt(o)&&s.call(o,"__await")?l.resolve(o.__await).then(function(t){c("next",t,n,r)},function(t){c("throw",t,n,r)}):l.resolve(o).then(function(t){a.value=t,n(a)},function(t){return c("throw",t,n,r)})}r(i.arg)}var e;function t(n,r){function t(){return new l(function(t,e){c(n,r,t,e)})}return e=e?e.then(t,t):t()}this._invoke=t}function A(o,u,l){var c=h;return function t(e,n){if(c===p)throw new Error("Generator is already running");if(c===g){if("throw"===e)throw n;return z()}for(l.method=e,l.arg=n;;){var r=l.delegate;if(r){var i=N(r,l);if(i){if(i===_)continue;return i}}if("next"===l.method)l.sent=l._sent=l.arg;else if("throw"===l.method){if(c===h)throw c=g,l.arg;l.dispatchException(l.arg)}else"return"===l.method&&l.abrupt("return",l.arg);c=p;var a=f(o,u,l);if("normal"===a.type){if(c=l.done?g:d,a.arg===_)continue;return{value:a.arg,done:l.done}}"throw"===a.type&&(c=g,l.method="throw",l.arg=a.arg)}}}function N(t,e){var n=t.iterator[e.method];if(n===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,N(t,e),"throw"===e.method))return _;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,_;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,_):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,_)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t};return r.next=r}}return{next:z}}function z(){return{value:c,done:!0}}return((m.prototype=w.constructor=y).constructor=m).displayName=a(y,r,"GeneratorFunction"),o.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},o.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,r,"GeneratorFunction")),t.prototype=Object.create(w),t},o.awrap=function(t){return{__await:t}},M(k.prototype),k.prototype[n]=function(){return this},o.AsyncIterator=k,o.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var a=new k(u(t,e,n,r),i);return o.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},M(w),a(w,r,"Generator"),w[i]=function(){return this},w.toString=function(){return"[object Generator]"},o.keys=function(n){var r=[];for(var t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},o.values=E,C.prototype={constructor:C,reset:function t(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=c)},stop:function t(){this.done=!0;var e,n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var r=this;function e(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var i=this.tryEntries.length-1;0<=i;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return e("end");if(a.tryLoc<=this.prev){var u=s.call(a,"catchLoc"),l=s.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return e(a.catchLoc,!0);if(this.prev<a.finallyLoc)return e(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return e(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return e(a.finallyLoc)}}}},abrupt:function t(e,n){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=n,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(o)},complete:function t(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),_},finish:function t(e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),_}},catch:function t(e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc===e){var i=r.completion,a;return"throw"===i.type&&(a=i.arg,S(r)),a}}throw new Error("illegal catch attempt")},delegateYield:function t(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=c),_}},o}("object"===("undefined"==typeof module?"undefined":Kt(module))?module.exports:{});try{regeneratorRuntime=ge}catch(t){Function("r","regeneratorRuntime = r")(ge)}function _e(t){return null===t?NaN:+t}var me,ye=de(he).right;de(_e).center;var ve=Math.sqrt(50),be=Math.sqrt(10),xe=Math.sqrt(2);function we(t,e,n){var r,i=-1,a,o,u;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(u=Me(t,e,n))||!isFinite(u))return[];if(0<u){var l=Math.round(t/u),c=Math.round(e/u);for(l*u<t&&++l,e<c*u&&--c,o=new Array(a=c-l+1);++i<a;)o[i]=(l+i)*u}else{u=-u;var s=Math.round(t*u),f=Math.round(e*u);for(s/u<t&&++s,e<f/u&&--f,o=new Array(a=f-s+1);++i<a;)o[i]=(s+i)/u}return r&&o.reverse(),o}function Me(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return 0<=i?(ve<=a?10:be<=a?5:xe<=a?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(ve<=a?10:be<=a?5:xe<=a?2:1)}function ke(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return ve<=a?i*=10:be<=a?i*=5:xe<=a&&(i*=2),e<t?-i:i}function Ae(t,e){var n;if(void 0===e){var r=fe(t),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;null!=a&&(n<a||void 0===n&&a<=a)&&(n=a)}}catch(t){r.e(t)}finally{r.f()}}else{var o=-1,u=fe(t),l;try{for(u.s();!(l=u.n()).done;){var c=l.value;null!=(c=e(c,++o,t))&&(n<c||void 0===n&&c<=c)&&(n=c)}}catch(t){u.e(t)}finally{u.f()}}return n}function Ne(t,e){var n;if(void 0===e){var r=fe(t),i;try{for(r.s();!(i=r.n()).done;){var a=i.value;null!=a&&(a<n||void 0===n&&a<=a)&&(n=a)}}catch(t){r.e(t)}finally{r.f()}}else{var o=-1,u=fe(t),l;try{for(u.s();!(l=u.n()).done;){var c=l.value;null!=(c=e(c,++o,t))&&(c<n||void 0===n&&c<=c)&&(n=c)}}catch(t){u.e(t)}finally{u.f()}}return n}function Te(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Se(t,e,n){(t.prototype=e.prototype=n).constructor=t}function Ce(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ee(){}var ze=.7,De=1/.7,Fe="\\s*([+-]?\\d+)\\s*",Le="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",je=/^#([0-9a-f]{3})$/,Ue=/^#([0-9a-f]{6})$/,qe=new RegExp("^rgb\\("+[Fe,Fe,Fe]+"\\)$"),He=new RegExp("^rgb\\("+[Oe,Oe,Oe]+"\\)$"),Pe=new RegExp("^rgba\\("+[Fe,Fe,Fe,Le]+"\\)$"),Re=new RegExp("^rgba\\("+[Oe,Oe,Oe,Le]+"\\)$"),Ye=new RegExp("^hsl\\("+[Le,Oe,Oe]+"\\)$"),Be=new RegExp("^hsla\\("+[Le,Oe,Oe,Le]+"\\)$"),Ie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function We(t){var e;return t=(t+"").trim().toLowerCase(),(e=je.exec(t))?new Ge((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Ue.exec(t))?Ve(parseInt(e[1],16)):(e=qe.exec(t))?new Ge(e[1],e[2],e[3],1):(e=He.exec(t))?new Ge(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Pe.exec(t))?$e(e[1],e[2],e[3],e[4]):(e=Re.exec(t))?$e(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ye.exec(t))?Je(e[1],e[2]/100,e[3]/100,1):(e=Be.exec(t))?Je(e[1],e[2]/100,e[3]/100,e[4]):Ie.hasOwnProperty(t)?Ve(Ie[t]):"transparent"===t?new Ge(NaN,NaN,NaN,0):null}function Ve(t){return new Ge(t>>16&255,t>>8&255,255&t,1)}function $e(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ge(t,e,n,r)}function Ze(t){return t instanceof Ee||(t=We(t)),t?new Ge((t=t.rgb()).r,t.g,t.b,t.opacity):new Ge}function Xe(t,e,n,r){return 1===arguments.length?Ze(t):new Ge(t,e,n,null==r?1:r)}function Ge(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Je(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new en(t,e,n,r)}function Ke(t){if(t instanceof en)return new en(t.h,t.s,t.l,t.opacity);if(t instanceof Ee||(t=We(t)),!t)return new en;if(t instanceof en)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,l=(a+i)/2;return u?(o=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=l<.5?a+i:2-a-i,o*=60):u=0<l&&l<1?0:o,new en(o,u,l,t.opacity)}function tn(t,e,n,r){return 1===arguments.length?Ke(t):new en(t,e,n,null==r?1:r)}function en(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function nn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Se(Ee,We,{displayable:function t(){return this.rgb().displayable()},hex:function t(){return this.rgb().hex()},toString:function t(){return this.rgb()+""}}),Se(Ge,Xe,Ce(Ee,{brighter:function t(e){return e=null==e?De:Math.pow(De,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function t(e){return e=null==e?.7:Math.pow(.7,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function t(){return this},displayable:function t(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:function t(){return"#"+Qe(this.r)+Qe(this.g)+Qe(this.b)},toString:function t(){var e=this.opacity,e;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),Se(en,tn,Ce(Ee,{brighter:function t(e){return e=null==e?De:Math.pow(De,e),new en(this.h,this.s,this.l*e,this.opacity)},darker:function t(e){return e=null==e?.7:Math.pow(.7,e),new en(this.h,this.s,this.l*e,this.opacity)},rgb:function t(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new Ge(nn(240<=e?e-240:120+e,a,i),nn(e,a,i),nn(e<120?240+e:e-120,a,i),this.opacity)},displayable:function t(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var rn=Math.PI/180,an=180/Math.PI,on=18,un=.96422,ln=1,cn=.82521,sn=4/29,fn=6/29,hn=3*fn*fn,dn=fn*fn*fn;function pn(t){if(t instanceof _n)return new _n(t.l,t.a,t.b,t.opacity);if(t instanceof Mn)return kn(t);t instanceof Ge||(t=Ze(t));var e=bn(t.r),n=bn(t.g),r=bn(t.b),i=mn((.2225045*e+.7168786*n+.0606169*r)/ln),a,o;return e===n&&n===r?a=o=i:(a=mn((.4360747*e+.3850649*n+.1430804*r)/un),o=mn((.0139322*e+.0971045*n+.7141733*r)/cn)),new _n(116*i-16,500*(a-i),200*(i-o),t.opacity)}function gn(t,e,n,r){return 1===arguments.length?pn(t):new _n(t,e,n,null==r?1:r)}function _n(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function mn(t){return dn<t?Math.pow(t,1/3):t/hn+sn}function yn(t){return fn<t?t*t*t:hn*(t-sn)}function vn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function bn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function xn(t){if(t instanceof Mn)return new Mn(t.h,t.c,t.l,t.opacity);if(t instanceof _n||(t=pn(t)),0===t.a&&0===t.b)return new Mn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*an;return new Mn(e<0?360+e:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function wn(t,e,n,r){return 1===arguments.length?xn(t):new Mn(t,e,n,null==r?1:r)}function Mn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function kn(t){if(isNaN(t.h))return new _n(t.l,0,0,t.opacity);var e=t.h*rn;return new _n(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Se(_n,gn,Ce(Ee,{brighter:function t(e){return new _n(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function t(e){return new _n(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function t(){var e=(this.l+16)/116,n=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200,n,e,r;return new Ge(vn(3.1338561*(n=un*yn(n))-1.6168667*(e=ln*yn(e))-.4906146*(r=cn*yn(r))),vn(-.9787684*n+1.9161415*e+.033454*r),vn(.0719453*n-.2289914*e+1.4052427*r),this.opacity)}})),Se(Mn,wn,Ce(Ee,{brighter:function t(e){return new Mn(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function t(e){return new Mn(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function t(){return kn(this).rgb()}}));var An=-.14861,Nn=1.78277,Tn=-.29227,Sn=-.90649,Cn=1.97294,En=Cn*Sn,zn=Cn*Nn,Dn=Nn*Tn-Sn*An;function Fn(t){if(t instanceof On)return new On(t.h,t.s,t.l,t.opacity);t instanceof Ge||(t=Ze(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Dn*r+En*e-zn*n)/(Dn+En-zn),a=r-i,o=(Cn*(n-i)-Tn*a)/Sn,u=Math.sqrt(o*o+a*a)/(Cn*i*(1-i)),l=u?Math.atan2(o,a)*an-120:NaN;return new On(l<0?l+360:l,u,i,t.opacity)}function Ln(t,e,n,r){return 1===arguments.length?Fn(t):new On(t,e,n,null==r?1:r)}function On(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function jn(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function Un(o){var u=o.length-1;return function(t){var e=t<=0?t=0:1<=t?u-(t=1):Math.floor(t*u),n=o[e],r=o[e+1],i=0<e?o[e-1]:2*n-r,a=e<u-1?o[e+2]:2*r-n;return jn((t-e/u)*u,i,n,r,a)}}function qn(t){return function(){return t}}function Hn(e,n){return function(t){return e+t*n}}function Pn(e,n,r){return e=Math.pow(e,r),n=Math.pow(n,r)-e,r=1/r,function(t){return Math.pow(e+t*n,r)}}function Rn(t,e){var n=e-t;return n?Hn(t,180<n||n<-180?n-360*Math.round(n/360):n):qn(isNaN(t)?e:t)}function Yn(n){return 1==(n=+n)?Bn:function(t,e){return e-t?Pn(t,e,n):qn(isNaN(t)?e:t)}}function Bn(t,e){var n=e-t;return n?Hn(t,n):qn(isNaN(t)?e:t)}Se(On,Ln,Ce(Ee,{brighter:function t(e){return e=null==e?De:Math.pow(De,e),new On(this.h,this.s,this.l*e,this.opacity)},darker:function t(e){return e=null==e?.7:Math.pow(.7,e),new On(this.h,this.s,this.l*e,this.opacity)},rgb:function t(){var e=isNaN(this.h)?0:(this.h+120)*rn,n=+this.l,r=isNaN(this.s)?0:this.s*n*(1-n),i=Math.cos(e),a=Math.sin(e);return new Ge(255*(n+r*(An*i+Nn*a)),255*(n+r*(Tn*i+Sn*a)),255*(n+Cn*i*r),this.opacity)}}));var In=function t(e){var o=Yn(e);function n(e,t){var n=o((e=Xe(e)).r,(t=Xe(t)).r),r=o(e.g,t.g),i=o(e.b,t.b),a=Bn(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=a(t),e+""}}return n.gamma=t,n}(1);function Wn(u){return function(t){for(var e=t.length,n=new Array(e),r=new Array(e),i=new Array(e),a,o,a=0;a<e;++a)o=Xe(t[a]),n[a]=o.r||0,r[a]=o.g||0,i[a]=o.b||0;return n=u(n),r=u(r),i=u(i),o.opacity=1,function(t){return o.r=n(t),o.g=r(t),o.b=i(t),o+""}}}var Vn=Wn(Un);function $n(e,n){n=n||[];var r=e?Math.min(n.length,e.length):0,i=n.slice(),a;return function(t){for(a=0;a<r;++a)i[a]=e[a]*(1-t)+n[a]*t;return i}}function Zn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xn(t,e){for(var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o,o=0;o<r;++o)i[o]=ir(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(t){for(o=0;o<r;++o)a[o]=i[o](t);return a}}function Gn(e,n){var r=new Date;return e=+e,n=+n,function(t){return r.setTime(e*(1-t)+n*t),r}}function Qn(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function Jn(t,e){var n={},r={},i;for(i in null!==t&&"object"===Kt(t)||(t={}),null!==e&&"object"===Kt(e)||(e={}),e)i in t?n[i]=ir(t[i],e[i]):r[i]=e[i];return function(t){for(i in n)r[i]=n[i](t);return r}}var Kn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,tr=new RegExp(Kn.source,"g");function er(t){return function(){return t}}function nr(e){return function(t){return e(t)+""}}function rr(t,r){var e=Kn.lastIndex=tr.lastIndex=0,n,i,a,o=-1,u=[],l=[];for(t+="",r+="";(n=Kn.exec(t))&&(i=tr.exec(r));)(a=i.index)>e&&(a=r.slice(e,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,l.push({i:o,x:Qn(n,i)})),e=tr.lastIndex;return e<r.length&&(a=r.slice(e),u[o]?u[o]+=a:u[++o]=a),u.length<2?l[0]?nr(l[0].x):er(r):(r=l.length,function(t){for(var e=0,n;e<r;++e)u[(n=l[e]).i]=n.x(t);return u.join("")})}function ir(t,e){var n=Kt(e),r;return null==e||"boolean"===n?qn(e):("number"===n?Qn:"string"===n?(r=We(e))?(e=r,In):rr:e instanceof We?In:e instanceof Date?Gn:Zn(e)?$n:Array.isArray(e)?Xn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Jn:Qn)(t,e)}function ar(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}var or=180/Math.PI,ur={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},lr,cr,sr,fr;function hr(t,e,n,r,i,a){var o,u,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*or,skewX:Math.atan(l)*or,scaleX:o,scaleY:u}}function dr(t){return"none"===t?ur:(lr||(lr=document.createElement("DIV"),cr=document.documentElement,sr=document.defaultView),lr.style.transform=t,t=sr.getComputedStyle(cr.appendChild(lr),null).getPropertyValue("transform"),cr.removeChild(lr),hr(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function pr(t){return null==t?ur:((fr=fr||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=fr.transform.baseVal.consolidate())?hr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ur)}function gr(n,u,l,i){function c(t){return t.length?t.pop()+" ":""}function r(t,e,n,r,i,a){var o;t!==n||e!==r?(o=i.push("translate(",null,u,null,l),a.push({i:o-4,x:Qn(t,n)},{i:o-2,x:Qn(e,r)})):(n||r)&&i.push("translate("+n+u+r+l)}function o(t,e,n,r){t!==e?(180<t-e?e+=360:180<e-t&&(t+=360),r.push({i:n.push(c(n)+"rotate(",null,i)-2,x:Qn(t,e)})):e&&n.push(c(n)+"rotate("+e+i)}function s(t,e,n,r){t!==e?r.push({i:n.push(c(n)+"skewX(",null,i)-2,x:Qn(t,e)}):e&&n.push(c(n)+"skewX("+e+i)}function f(t,e,n,r,i,a){var o;t!==n||e!==r?(o=i.push(c(i)+"scale(",null,",",null,")"),a.push({i:o-4,x:Qn(t,n)},{i:o-2,x:Qn(e,r)})):1===n&&1===r||i.push(c(i)+"scale("+n+","+r+")")}return function(t,e){var i=[],a=[];return t=n(t),e=n(e),r(t.translateX,t.translateY,e.translateX,e.translateY,i,a),o(t.rotate,e.rotate,i,a),s(t.skewX,e.skewX,i,a),f(t.scaleX,t.scaleY,e.scaleX,e.scaleY,i,a),t=e=null,function(t){for(var e=-1,n=a.length,r;++e<n;)i[(r=a[e]).i]=r.x(t);return i.join("")}}}var _r=gr(dr,"px, ","px)","deg)"),mr=gr(pr,", ",")",")");function yr(o){return function(e,t){var n=o((e=tn(e)).h,(t=tn(t)).h),r=Bn(e.s,t.s),i=Bn(e.l,t.l),a=Bn(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=a(t),e+""}}}var vr=yr(Rn);function br(e,t){var n=Bn((e=gn(e)).l,(t=gn(t)).l),r=Bn(e.a,t.a),i=Bn(e.b,t.b),a=Bn(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}}function xr(o){return function(e,t){var n=o((e=wn(e)).h,(t=wn(t)).h),r=Bn(e.c,t.c),i=Bn(e.l,t.l),a=Bn(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=a(t),e+""}}}var wr=xr(Rn);function Mr(u){return function t(o){function e(e,t){var n=u((e=Ln(e)).h,(t=Ln(t)).h),r=Bn(e.s,t.s),i=Bn(e.l,t.l),a=Bn(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,o)),e.opacity=a(t),e+""}}return o=+o,e.gamma=t,e}(1)}Mr(Rn);var kr=Mr(Bn);function Ar(t,e){for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return a[e](t-e)}}function Nr(t){return function(){return t}}function Tr(t){return+t}var Sr=[0,1];function Cr(t){return t}function Er(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:Nr(isNaN(n)?NaN:.5)}function zr(e,n){var t;return n<e&&(t=e,e=n,n=t),function(t){return Math.max(e,Math.min(n,t))}}function Dr(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1],a=i<r?(r=Er(i,r),n(o,a)):(r=Er(r,i),n(a,o));return function(t){return a(r(t))}}function Fr(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Er(n[o],n[o+1]),a[o]=e(t[o],t[o+1]);return function(t){var e=ye(n,t,1,r)-1;return a[e](i[e](t))}}function Lr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Or(){var e=Sr,n=Sr,r=ir,i,a,o,u=Cr,l,c,s;function f(){var t=Math.min(e.length,n.length);return u!==Cr&&(u=zr(e[0],e[t-1])),l=2<t?Fr:Dr,c=s=null,h}function h(t){return null==t||isNaN(t=+t)?o:(c=c||l(e.map(i),n,r))(i(u(t)))}return h.invert=function(t){return u(a((s=s||l(n,e.map(i),Qn))(t)))},h.domain=function(t){return arguments.length?(e=Array.from(t,Tr),f()):e.slice()},h.range=function(t){return arguments.length?(n=Array.from(t),f()):n.slice()},h.rangeRound=function(t){return n=Array.from(t),r=ar,f()},h.clamp=function(t){return arguments.length?(u=!!t||Cr,f()):u!==Cr},h.interpolate=function(t){return arguments.length?(r=t,f()):r},h.unknown=function(t){return arguments.length?(o=t,h):o},function(t,e){return i=t,a=e,f()}}function jr(){return Or()(Cr,Cr)}function Ur(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]}function qr(t){return(t=Ur(Math.abs(t)))?t[1]:NaN}function Hr(u,l){return function(t,e){for(var n=t.length,r=[],i=0,a=u[0],o=0;0<n&&0<a&&(e<o+a+1&&(a=Math.max(1,e-o)),r.push(t.substring(n-=a,n+a)),!((o+=a+1)>e));)a=u[i=(i+1)%u.length];return r.reverse().join(l)}}function Pr(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var Rr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,Yr;function Br(t){return new Ir(t)}function Ir(t){if(!(e=Rr.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function Wr(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(0<r){if(!+t[n])break t;r=0}}return 0<r?t.slice(0,r)+t.slice(i+1):t}function Vr(t,e){var n=Ur(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Yr=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:o<a?r+new Array(a-o+1).join("0"):0<a?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ur(t,Math.max(0,e+a-1))[0]}function $r(t,e){var n=Ur(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Br.prototype=Ir.prototype,Ir.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Zr={"%":function t(e,n){return(100*e).toFixed(n)},b:function t(e){return Math.round(e).toString(2)},c:function t(e){return e+""},d:function t(e){return Math.round(e).toString(10)},e:function t(e,n){return e.toExponential(n)},f:function t(e,n){return e.toFixed(n)},g:function t(e,n){return e.toPrecision(n)},o:function t(e){return Math.round(e).toString(8)},p:function t(e,n){return $r(100*e,n)},r:$r,s:Vr,X:function t(e){return Math.round(e).toString(16).toUpperCase()},x:function t(e){return Math.round(e).toString(16)}};function Xr(t){return t}var Gr=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"],Qr,Jr,Kr;function ti(t){var w=t.grouping&&t.thousands?Hr(t.grouping,t.thousands):Xr,r=t.currency,M=t.decimal,k=t.numerals?Pr(t.numerals):Xr,i=t.percent||"%";function o(t){var c=(t=Br(t)).fill,s=t.align,f=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,g=t.precision,_=t.trim,m=t.type;"n"===m?(p=!0,m="g"):Zr[m]||(null==g&&(g=12),_=!0,m="g"),(h||"0"===c&&"="===s)&&(h=!0,c="0",s="=");var y="$"===e?r[0]:"#"===e&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===e?r[1]:/[%p]/.test(m)?i:"",b=Zr[m],x=/[defgprs%]/.test(m);function n(t){var e=y,n=v,r,i,a;if("c"===m)n=b(t)+n,t="";else{var o=(t=+t)<0;if(t=b(Math.abs(t),g),_&&(t=Wr(t)),o&&0==+t&&(o=!1),e=(o?"("===f?f:"-":"-"===f||"("===f?"":f)+e,n=("s"===m?Gr[8+Yr/3]:"")+n+(o&&"("===f?")":""),x)for(r=-1,i=t.length;++r<i;)if((a=t.charCodeAt(r))<48||57<a){n=(46===a?M+t.slice(r+1):t.slice(r))+n,t=t.slice(0,r);break}}p&&!h&&(t=w(t,1/0));var u=e.length+t.length+n.length,l=u<d?new Array(d-u+1).join(c):"";switch(p&&h&&(t=w(l+t,l.length?d-n.length:1/0),l=""),s){case"<":t=e+t+n+l;break;case"=":t=e+l+t+n;break;case"^":t=l.slice(0,u=l.length>>1)+e+t+n+l.slice(u);break;default:t=l+e+t+n}return k(t)}return g=null==g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}function e(t,e){var n=o(((t=Br(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(qr(e)/3))),i=Math.pow(10,-r),a=Gr[8+r/3];return function(t){return n(i*t)+a}}return{format:o,formatPrefix:e}}function ei(t){return Qr=ti(t),Jr=Qr.format,Kr=Qr.formatPrefix,Qr}function ni(t){return Math.max(0,-qr(Math.abs(t)))}function ri(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(qr(e)/3)))-qr(Math.abs(t)))}function ii(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,qr(e)-qr(t))+1}function ai(t,e,n,r){var i=ke(t,e,n),a;switch((r=Br(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=ri(i,o))||(r.precision=a),Kr(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=ii(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=ni(i))||(r.precision=a-2*("%"===r.type))}return Jr(r)}function oi(c){var s=c.domain;return c.ticks=function(t){var e=s();return we(e[0],e[e.length-1],null==t?10:t)},c.tickFormat=function(t,e){var n=s();return ai(n[0],n[n.length-1],null==t?10:t,e)},c.nice=function(t){null==t&&(t=10);var e=s(),n=0,r=e.length-1,i=e[n],a=e[r],o,u,l=10;for(a<i&&(u=i,i=a,a=u,u=n,n=r,r=u);0<l--;){if((u=Me(i,a,t))===o)return e[n]=i,e[r]=a,s(e);if(0<u)i=Math.floor(i/u)*u,a=Math.ceil(a/u)*u;else{if(!(u<0))break;i=Math.ceil(i*u)/u,a=Math.floor(a*u)/u}o=u}return c},c}function ui(){var t=jr();return t.copy=function(){return Lr(t,ui())},Te.apply(t,arguments),oi(t)}ei({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var li=new Date,ci=new Date;function si(a,o,n,r){function u(t){return a(t=new Date(+t)),t}return(u.floor=u).ceil=function(t){return a(t=new Date(t-1)),o(t,1),a(t),t},u.round=function(t){var e=u(t),n=u.ceil(t);return t-e<n-t?e:n},u.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},u.range=function(t,e,n){var r=[],i;if(t=u.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return r;for(;r.push(i=new Date(+t)),o(t,n),a(t),i<t&&t<e;);return r},u.filter=function(n){return si(function(t){if(t<=t)for(;a(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;o(t,-1),!n(t););else for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(u.count=function(t,e){return li.setTime(+t),ci.setTime(+e),a(li),a(ci),Math.floor(n(li,ci))},u.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?u.filter(r?function(t){return r(t)%e==0}:function(t){return u.count(0,t)%e==0}):u:null}),u}var fi=si(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});fi.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?si(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):fi:null};var hi=1e3,di=6e4,pi=36e5,gi=864e5,_i=6048e5,mi=si(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*hi)},function(t,e){return(e-t)/hi},function(t){return t.getUTCSeconds()}),yi=si(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*hi)},function(t,e){t.setTime(+t+e*di)},function(t,e){return(e-t)/di},function(t){return t.getMinutes()}),vi=si(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*hi-t.getMinutes()*di)},function(t,e){t.setTime(+t+e*pi)},function(t,e){return(e-t)/pi},function(t){return t.getHours()}),bi=si(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*di)/gi},function(t){return t.getDate()-1});function xi(e){return si(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*di)/_i})}var wi=xi(0),Mi=xi(1);xi(2),xi(3);var ki=xi(4);xi(5),xi(6);var Ai=si(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Ni=si(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Ni.every=function(n){return isFinite(n=Math.floor(n))&&0<n?si(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null},si(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*di)},function(t,e){return(e-t)/di},function(t){return t.getUTCMinutes()}),si(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*pi)},function(t,e){return(e-t)/pi},function(t){return t.getUTCHours()});var Ti=si(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/gi},function(t){return t.getUTCDate()-1});function Si(e){return si(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/_i})}var Ci=Si(0),Ei=Si(1);Si(2),Si(3);var zi=Si(4);Si(5),Si(6),si(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()});var Di=si(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});function Fi(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Li(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Oi(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function ji(t){var r=t.dateTime,i=t.date,a=t.time,e=t.periods,n=t.days,o=t.shortDays,u=t.months,l=t.shortMonths,c=Vi(e),s=$i(e),f=Vi(n),h=$i(n),d=Vi(o),p=$i(o),g=Vi(u),_=$i(u),m=Vi(l),y=$i(l),v={a:F,A:L,b:O,B:j,c:null,d:da,e:da,f:ya,H:pa,I:ga,j:_a,L:ma,m:va,M:ba,p:U,Q:Za,s:Xa,S:xa,u:wa,U:Ma,V:ka,w:Aa,W:Na,x:null,X:null,y:Ta,Y:Sa,Z:Ca,"%":$a},b={a:q,A:H,b:P,B:R,c:null,d:Ea,e:Ea,f:Oa,H:za,I:Da,j:Fa,L:La,m:ja,M:Ua,p:Y,Q:Za,s:Xa,S:qa,u:Ha,U:Pa,V:Ra,w:Ya,W:Ba,x:null,X:null,y:Ia,Y:Wa,Z:Va,"%":$a},x={a:N,A:T,b:S,B:C,c:E,d:ra,e:ra,f:ca,H:aa,I:aa,j:ia,L:la,m:na,M:oa,p:A,Q:fa,s:ha,S:ua,u:Xi,U:Gi,V:Qi,w:Zi,W:Ji,x:z,X:D,y:ta,Y:Ki,Z:ea,"%":sa};function w(l,c){return function(t){var e=[],n=-1,r=0,i=l.length,a,o,u;for(t instanceof Date||(t=new Date(+t));++n<i;)37===l.charCodeAt(n)&&(e.push(l.slice(r,n)),null!=(o=Ui[a=l.charAt(++n)])?a=l.charAt(++n):o="e"===a?" ":"0",(u=c[a])&&(a=u(t,o)),e.push(a),r=n+1);return e.push(l.slice(r,n)),e.join("")}}function M(a,o){return function(t){var e=Oi(1900),n,r,i;if(k(e,a,t+="",0)!=t.length)return null;if("Q"in e)return new Date(e.Q);if("p"in e&&(e.H=e.H%12+12*e.p),"V"in e){if(e.V<1||53<e.V)return null;"w"in e||(e.w=1),"Z"in e?(r=4<(i=(r=Li(Oi(e.y))).getUTCDay())||0===i?Ei.ceil(r):Ei(r),r=Ti.offset(r,7*(e.V-1)),e.y=r.getUTCFullYear(),e.m=r.getUTCMonth(),e.d=r.getUTCDate()+(e.w+6)%7):(r=4<(i=(r=o(Oi(e.y))).getDay())||0===i?Mi.ceil(r):Mi(r),r=bi.offset(r,7*(e.V-1)),e.y=r.getFullYear(),e.m=r.getMonth(),e.d=r.getDate()+(e.w+6)%7)}else("W"in e||"U"in e)&&("w"in e||(e.w="u"in e?e.u%7:"W"in e?1:0),i="Z"in e?Li(Oi(e.y)).getUTCDay():o(Oi(e.y)).getDay(),e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(i+5)%7:e.w+7*e.U-(i+6)%7);return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,Li(e)):o(e)}}function k(t,e,n,r){for(var i=0,a=e.length,o=n.length,u,l;i<a;){if(o<=r)return-1;if(37===(u=e.charCodeAt(i++))){if(u=e.charAt(i++),!(l=x[u in Ui?e.charAt(i++):u])||(r=l(t,n,r))<0)return-1}else if(u!=n.charCodeAt(r++))return-1}return r}function A(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s[r[0].toLowerCase()],n+r[0].length):-1}function N(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1}function T(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1}function S(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1}function E(t,e,n){return k(t,r,e,n)}function z(t,e,n){return k(t,i,e,n)}function D(t,e,n){return k(t,a,e,n)}function F(t){return o[t.getDay()]}function L(t){return n[t.getDay()]}function O(t){return l[t.getMonth()]}function j(t){return u[t.getMonth()]}function U(t){return e[+(12<=t.getHours())]}function q(t){return o[t.getUTCDay()]}function H(t){return n[t.getUTCDay()]}function P(t){return l[t.getUTCMonth()]}function R(t){return u[t.getUTCMonth()]}function Y(t){return e[+(12<=t.getUTCHours())]}return v.x=w(i,v),v.X=w(a,v),v.c=w(r,v),b.x=w(i,b),b.X=w(a,b),b.c=w(r,b),{format:function t(e){var n=w(e+="",v);return n.toString=function(){return e},n},parse:function t(e){var n=M(e+="",Fi);return n.toString=function(){return e},n},utcFormat:function t(e){var n=w(e+="",b);return n.toString=function(){return e},n},utcParse:function t(e){var n=M(e,Li);return n.toString=function(){return e},n}}}Di.every=function(n){return isFinite(n=Math.floor(n))&&0<n?si(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var Ui={"-":"",_:" ",0:"0"},qi=/^\s*\d+/,Hi=/^%/,Pi=/[\\^$*+?|[\]().{}]/g,Ri,Yi,Bi;function Ii(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Wi(t){return t.replace(Pi,"\\$&")}function Vi(t){return new RegExp("^(?:"+t.map(Wi).join("|")+")","i")}function $i(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Zi(t,e,n){var r=qi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Xi(t,e,n){var r=qi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Gi(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qi(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ji(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ki(t,e,n){var r=qi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ta(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function ea(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function na(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ra(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ia(t,e,n){var r=qi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function aa(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function oa(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ua(t,e,n){var r=qi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function la(t,e,n){var r=qi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ca(t,e,n){var r=qi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function sa(t,e,n){var r=Hi.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fa(t,e,n){var r=qi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ha(t,e,n){var r=qi.exec(e.slice(n));return r?(t.Q=1e3*r[0],n+r[0].length):-1}function da(t,e){return Ii(t.getDate(),e,2)}function pa(t,e){return Ii(t.getHours(),e,2)}function ga(t,e){return Ii(t.getHours()%12||12,e,2)}function _a(t,e){return Ii(1+bi.count(Ni(t),t),e,3)}function ma(t,e){return Ii(t.getMilliseconds(),e,3)}function ya(t,e){return ma(t,e)+"000"}function va(t,e){return Ii(t.getMonth()+1,e,2)}function ba(t,e){return Ii(t.getMinutes(),e,2)}function xa(t,e){return Ii(t.getSeconds(),e,2)}function wa(t){var e=t.getDay();return 0===e?7:e}function Ma(t,e){return Ii(wi.count(Ni(t),t),e,2)}function ka(t,e){var n=t.getDay();return t=4<=n||0===n?ki(t):ki.ceil(t),Ii(ki.count(Ni(t),t)+(4===Ni(t).getDay()),e,2)}function Aa(t){return t.getDay()}function Na(t,e){return Ii(Mi.count(Ni(t),t),e,2)}function Ta(t,e){return Ii(t.getFullYear()%100,e,2)}function Sa(t,e){return Ii(t.getFullYear()%1e4,e,4)}function Ca(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+Ii(e/60|0,"0",2)+Ii(e%60,"0",2)}function Ea(t,e){return Ii(t.getUTCDate(),e,2)}function za(t,e){return Ii(t.getUTCHours(),e,2)}function Da(t,e){return Ii(t.getUTCHours()%12||12,e,2)}function Fa(t,e){return Ii(1+Ti.count(Di(t),t),e,3)}function La(t,e){return Ii(t.getUTCMilliseconds(),e,3)}function Oa(t,e){return La(t,e)+"000"}function ja(t,e){return Ii(t.getUTCMonth()+1,e,2)}function Ua(t,e){return Ii(t.getUTCMinutes(),e,2)}function qa(t,e){return Ii(t.getUTCSeconds(),e,2)}function Ha(t){var e=t.getUTCDay();return 0===e?7:e}function Pa(t,e){return Ii(Ci.count(Di(t),t),e,2)}function Ra(t,e){var n=t.getUTCDay();return t=4<=n||0===n?zi(t):zi.ceil(t),Ii(zi.count(Di(t),t)+(4===Di(t).getUTCDay()),e,2)}function Ya(t){return t.getUTCDay()}function Ba(t,e){return Ii(Ei.count(Di(t),t),e,2)}function Ia(t,e){return Ii(t.getUTCFullYear()%100,e,2)}function Wa(t,e){return Ii(t.getUTCFullYear()%1e4,e,4)}function Va(){return"+0000"}function $a(){return"%"}function Za(t){return+t}function Xa(t){return Math.floor(t/1e3)}function Ga(t){return(Ri=ji(t)).format,Ri.parse,Yi=Ri.utcFormat,Bi=Ri.utcParse,Ri}Ga({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Qa="%Y-%m-%dT%H:%M:%S.%LZ";function Ja(t){return t.toISOString()}function Ka(t){var e=new Date(t);return isNaN(e)?null:e}Date.prototype.toISOString||Yi(Qa),+new Date("2000-01-01T00:00:00.000Z")||Bi(Qa);var to={value:function t(){}};function eo(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new no(n)}function no(t){this._=t}function ro(t,r){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}function io(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function ao(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=to,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}no.prototype=eo.prototype={constructor:no,on:function t(e,n){var r=this._,i=ro(e+"",r),a,o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(a=(e=i[o]).type)r[a]=ao(r[a],e.name,n);else if(null==n)for(a in r)r[a]=ao(r[a],e.name,null);return this}for(;++o<u;)if((a=(e=i[o]).type)&&(a=io(r[a],e.name)))return a},copy:function t(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new no(t)},call:function t(e,n){if(0<(a=arguments.length-2))for(var r=new Array(a),i=0,a,o;i<a;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,a=(o=this._[e]).length;i<a;++i)o[i].value.apply(n,r)},apply:function t(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,o=i.length;a<o;++a)i[a].value.apply(n,r)}};var oo=0,uo=0,lo=0,co=1e3,so,fo,ho=0,po=0,go=0,_o="object"===("undefined"==typeof performance?"undefined":Kt(performance))&&performance.now?performance:Date,mo="object"===("undefined"==typeof window?"undefined":Kt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function yo(){return po||(mo(vo),po=_o.now()+go)}function vo(){po=0}function bo(){this._call=this._time=this._next=null}function xo(t,e,n){var r=new bo;return r.restart(t,e,n),r}function wo(){yo(),++oo;for(var t=so,e;t;)0<=(e=po-t._time)&&t._call.call(null,e),t=t._next;--oo}function Mo(){po=(ho=_o.now())+go,oo=uo=0;try{wo()}finally{oo=0,Ao(),po=0}}function ko(){var t=_o.now(),e=t-ho;co<e&&(go-=e,ho=t)}function Ao(){for(var t,e=so,n,r=1/0;e;)e=e._call?(r>e._time&&(r=e._time),(t=e)._next):(n=e._next,e._next=null,t?t._next=n:so=n);fo=t,No(r)}function No(t){var e;oo||(uo=uo&&clearTimeout(uo),24<t-po?(t<1/0&&(uo=setTimeout(Mo,t-_o.now()-go)),lo=lo&&clearInterval(lo)):(lo||(ho=_o.now(),lo=setInterval(ko,co)),oo=1,mo(Mo)))}function To(e,n,t){var r=new bo;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}bo.prototype=xo.prototype={constructor:bo,restart:function t(e,n,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?yo():+r)+(null==n?0:+n),this._next||fo===this||(fo?fo._next=this:so=this,fo=this),this._call=e,this._time=r,No()},stop:function t(){this._call&&(this._call=null,this._time=1/0,No())}};var So=eo("start","end","cancel","interrupt"),Co=[],Eo=0,zo=1,Do=2,Fo=3,Lo=4,Oo=5,jo=6;function Uo(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};Ro(t,n,{name:e,index:r,group:i,on:So,tween:Co,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Eo})}function qo(t,e){var n=Po(t,e);if(n.state>Eo)throw new Error("too late; already scheduled");return n}function Ho(t,e){var n=Po(t,e);if(n.state>Fo)throw new Error("too late; already running");return n}function Po(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ro(a,o,u){var l=a.__transition,c;function t(t){u.state=zo,u.timer.restart(s,u.delay,u.time),u.delay<=t&&s(t-u.delay)}function s(t){var e,n,r,i;if(u.state!==zo)return h();for(e in l)if((i=l[e]).name===u.name){if(i.state===Fo)return To(s);i.state===Lo?(i.state=jo,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete l[e]):+e<o&&(i.state=jo,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete l[e])}if(To(function(){u.state===Fo&&(u.state=Lo,u.timer.restart(f,u.delay,u.time),f(t))}),u.state=Do,u.on.call("start",a,a.__data__,u.index,u.group),u.state===Do){for(u.state=Fo,c=new Array(r=u.tween.length),e=0,n=-1;e<r;++e)(i=u.tween[e].value.call(a,a.__data__,u.index,u.group))&&(c[++n]=i);c.length=n+1}}function f(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=Oo,1),n=-1,r=c.length;++n<r;)c[n].call(a,e);u.state===Oo&&(u.on.call("end",a,a.__data__,u.index,u.group),h())}function h(){for(var t in u.state=jo,u.timer.stop(),delete l[o],l)return;delete a.__transition}(l[o]=u).timer=xo(t,0,u.time)}function Yo(t,e){var n=t.__transition,r,i,a=!0,o;if(n){for(o in e=null==e?null:e+"",n)(r=n[o]).name===e?(i=r.state>Do&&r.state<Oo,r.state=jo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]):a=!1;a&&delete t.__transition}}function Bo(t){return this.each(function(){Yo(this,t)})}function Io(i,a){var o,u;return function(){var t=Ho(this,i),e=t.tween;if(e!==o)for(var n=0,r=(u=o=e).length;n<r;++n)if(u[n].name===a){(u=u.slice()).splice(n,1);break}t.tween=u}}function Wo(a,o,u){var l,c;if("function"!=typeof u)throw new Error;return function(){var t=Ho(this,a),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:o,value:u},r=0,i=c.length;r<i;++r)if(c[r].name===o){c[r]=n;break}r===i&&c.push(n)}t.tween=c}}function Vo(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Po(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((null==e?Io:Wo)(n,t,e))}function $o(t,e,n){var r=t._id;return t.each(function(){var t=Ho(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Po(t,r).value[e]}}function Zo(t,e){var n;return("number"==typeof e?Qn:e instanceof We?In:(n=We(e))?(e=n,In):rr)(t,e)}function Xo(t){return function(){this.removeAttribute(t)}}function Go(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qo(e,n,r){var i,a=r+"",o;return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}}function Jo(e,n,r){var i,a=r+"",o;return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}function Ko(r,i,a){var o,u,l;return function(){var t,e=a(this),n;if(null!=e)return(t=this.getAttribute(r))===(n=e+"")?null:t===o&&n===u?l:(u=n,l=i(o=t,e));this.removeAttribute(r)}}function tu(r,i,a){var o,u,l;return function(){var t,e=a(this),n;if(null!=e)return(t=this.getAttributeNS(r.space,r.local))===(n=e+"")?null:t===o&&n===u?l:(u=n,l=i(o=t,e));this.removeAttributeNS(r.space,r.local)}}function eu(t,e){var n=u(t),r="transform"===n?mr:Zo;return this.attrTween(t,"function"==typeof e?(n.local?tu:Ko)(n,r,$o(this,"attr."+t,e)):null==e?(n.local?Go:Xo)(n):(n.local?Jo:Qo)(n,r,e))}function nu(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function ru(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function iu(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&ru(e,t)),r}return t._value=n,t}function au(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&nu(e,t)),r}return t._value=n,t}function ou(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=u(t);return this.tween(n,(r.local?iu:au)(r,e))}function uu(t,e){return function(){qo(this,t).delay=+e.apply(this,arguments)}}function lu(t,e){return e=+e,function(){qo(this,t).delay=e}}function cu(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?uu:lu)(e,t)):Po(this.node(),e).delay}function su(t,e){return function(){Ho(this,t).duration=+e.apply(this,arguments)}}function fu(t,e){return e=+e,function(){Ho(this,t).duration=e}}function hu(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?su:fu)(e,t)):Po(this.node(),e).duration}function du(t,e){if("function"!=typeof e)throw new Error;return function(){Ho(this,t).ease=e}}function pu(t){var e=this._id;return arguments.length?this.each(du(e,t)):Po(this.node(),e).ease}function gu(t){"function"!=typeof t&&(t=y(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&u.push(l);return new Iu(r,this._parents,this._name,this._id)}function _u(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],c=n[u],s=l.length,f=o[u]=new Array(s),h,d=0;d<s;++d)(h=l[d]||c[d])&&(f[d]=h);for(;u<r;++u)o[u]=e[u];return new Iu(o,this._parents,this._name,this._id)}function mu(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}function yu(n,r,i){var a,o,u=mu(r)?qo:Ho;return function(){var t=u(this,n),e=t.on;e!==a&&(o=(a=e).copy()).on(r,i),t.on=o}}function vu(t,e){var n=this._id;return arguments.length<2?Po(this.node(),n).on.on(t):this.each(yu(n,t,e))}function bu(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function xu(){return this.on("end.remove",bu(this._id))}function wu(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=p(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],l=u.length,c=a[o]=new Array(l),s,f,h=0;h<l;++h)(s=u[h])&&(f=t.call(s,s.__data__,h,u))&&("__data__"in s&&(f.__data__=s.__data__),c[h]=f,Uo(c[h],e,n,h,c,Po(s,n)));return new Iu(a,this._parents,e,n)}function Mu(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=m(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var l=r[u],c=l.length,s,f=0;f<c;++f)if(s=l[f]){for(var h=t.call(s,s.__data__,f,l),d,p=Po(s,n),g=0,_=h.length;g<_;++g)(d=h[g])&&Uo(d,e,n,g,h,p);a.push(h),o.push(s)}return new Iu(a,o,e,n)}var ku=Zt.prototype.constructor;function Au(){return new ku(this._groups,this._parents)}function Nu(n,r){var i,a,o;return function(){var t=J(this,n),e=(this.style.removeProperty(n),J(this,n));return t===e?null:t===i&&e===a?o:o=r(i=t,a=e)}}function Tu(t){return function(){this.style.removeProperty(t)}}function Su(e,n,r){var i,a=r+"",o;return function(){var t=J(this,e);return t===a?null:t===i?o:o=n(i=t,r)}}function Cu(r,i,a){var o,u,l;return function(){var t=J(this,r),e=a(this),n=e+"";return null==e&&(this.style.removeProperty(r),n=e=J(this,r)),t===n?null:t===o&&n===u?l:(u=n,l=i(o=t,e))}}function Eu(r,i){var a,o,u,l="style."+i,c="end."+l,s;return function(){var t=Ho(this,r),e=t.on,n=null==t.value[l]?s=s||Tu(i):void 0;e===a&&u===n||(o=(a=e).copy()).on(c,u=n),t.on=o}}function zu(t,e,n){var r="transform"==(t+="")?_r:Zo;return null==e?this.styleTween(t,Nu(t,r)).on("end.style."+t,Tu(t)):"function"==typeof e?this.styleTween(t,Cu(t,r,$o(this,"style."+t,e))).each(Eu(this._id,t)):this.styleTween(t,Su(t,r,e),n).on("end.style."+t,null)}function Du(e,n,r){return function(t){this.style.setProperty(e,n.call(this,t),r)}}function Fu(e,n,r){var i,a;function t(){var t=n.apply(this,arguments);return t!==a&&(i=(a=t)&&Du(e,t,r)),i}return t._value=n,t}function Lu(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Fu(t,e,null==n?"":n))}function Ou(t){return function(){this.textContent=t}}function ju(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function Uu(t){return this.tween("text","function"==typeof t?ju($o(this,"text",t)):Ou(null==t?"":t+""))}function qu(e){return function(t){this.textContent=e.call(this,t)}}function Hu(e){var n,r;function t(){var t=e.apply(this,arguments);return t!==r&&(n=(r=t)&&qu(t)),n}return t._value=e,t}function Pu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Hu(t))}function Ru(){for(var t=this._name,e=this._id,n=Wu(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,c=0,s;c<u;++c){(l=o[c])&&Uo(l,t,n,c,o,{time:(s=Po(l,e)).time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Iu(r,this._parents,t,n)}function Yu(){var i,a,o=this,u=o._id,l=o.size();return new Promise(function(e,t){var n={value:t},r={value:function t(){0==--l&&e()}};o.each(function(){var t=Ho(this,u),e=t.on;e!==i&&((a=(i=e).copy())._.cancel.push(n),a._.interrupt.push(n),a._.end.push(r)),t.on=a})})}var Bu=0;function Iu(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Wu(){return++Bu}var Vu=Zt.prototype;function $u(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Iu.prototype={constructor:Iu,select:wu,selectAll:Mu,filter:gu,merge:_u,selection:Au,transition:Ru,call:Vu.call,nodes:Vu.nodes,node:Vu.node,size:Vu.size,empty:Vu.empty,each:Vu.each,on:vu,attr:eu,attrTween:ou,style:zu,styleTween:Lu,text:Uu,textTween:Pu,remove:xu,tween:Vo,delay:cu,duration:hu,ease:pu,end:Yu};var Zu={time:null,delay:0,duration:250,ease:$u};function Xu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Zu.time=yo(),Zu;return n}function Gu(t){var e,n;t=t instanceof Iu?(e=t._id,t._name):(e=Wu(),(n=Zu).time=yo(),null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,c=0;c<u;++c)(l=o[c])&&Uo(l,t,e,c,o,n||Xu(l,e));return new Iu(r,this._parents,t,e)}function Qu(t){var e=[],n=[];return t.forEach(function(t){n[t]||(e.push(t),n[t]=!0)}),e}Zt.prototype.interrupt=Bo,Zt.prototype.transition=Gu;var Ju=Array.isArray;function Ku(t){return t}function tl(r){var t,e,n;return{prop:function t(e,n){Object.defineProperty(r,e,{value:n,enumerable:!0})},getter:function t(e,n){Object.defineProperty(r,e,{get:n,enumerable:!0})},method:function t(e,n){Object.defineProperty(r,e,{value:n})}}}function el(t,e){var n,r=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=r),r+=1,t},{})}function nl(t,e){var n,r=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]=r++,t},{})}function rl(t,e){var n,r=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=r++),t},{})}function il(t,e){var n=el(t,e),r=nl(t,e);return Object.keys(n).reduce(function(t,e){return t[e]=(n[e]+r[e])/2,t},{})}function al(t,e,n,r){var i,i=("dense"===r?rl:"fractional"===r?il:"worst"===r?nl:el)(e,n),a="ordinal"===r?function t(e){return i[e]++}:function t(e){return i[e]};return t.map(a)}function ol(r){return r=r||Math.random,function(t,e){var n=e-t+1;return Math.floor(r()*n)+t}}function ul(t,e){var n;return t[ol(e)(0,t.length-1)]}function ll(t,e,n,r){var i=t.length,a;if(n=void 0!==e&&n,e=void 0!==e?Math.floor(e):i,!i||e<1)return[];var o=ol(r);if(n||1===e){a=[];for(var u=0;u<e;u++)a.push(t[o(0,i-1)]);return a}a=t.slice();for(var l=Math.min(i,e),u=0;u<l;u++){var c=o(u,i-1),s,f;c!==u&&(s=a[c],f=a[u],a[u]=s,a[c]=f)}return a.length=l,a}function cl(t,n,r){if(!n.length)return t.slice();for(var i=0,e=t.reduce(function(t,e){for(;t.length===n[i];)t.push(r),i++;return t.push(e),t},[]);n[i++];)e.push(r);return e}function sl(t){var e=function t(){return Qu(this.sorted_values)};t.method("unsorted",function(){return this.values.slice()}),t.method("ascending",function(){return this.sorted_values.slice()}),t.method("descending",function(){return this.sorted_values.slice().reverse()}),t.method("unique",function(){return Qu(this.values)}),t.method("uniqueAscending",e),t.method("uniqueDescending",function(){return e().reverse()})}function fl(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function hl(t){return 1===t.length&&(t=dl(t)),1}function dl(n){return function(t,e){return fl(n(t),e)}}function pl(t){return null===t?NaN:+t}function gl(t,e){var n=t.length,r=0,i=-1,a=0,o,u,l=0;if(null==e)for(;++i<n;)isNaN(o=pl(t[i]))||(l+=(u=o-a)*(o-(a+=u/++r)));else for(;++i<n;)isNaN(o=pl(e(t[i],i,t)))||(l+=(u=o-a)*(o-(a+=u/++r)));if(1<r)return l/(r-1)}function _l(t,e,n){if(null==n&&(n=pl),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u;return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function ml(e,t){return Ju(t)?t.map(function(t){return _l(e,t)}):_l(e,t)}function yl(t){var e=function t(){return gl(this.values)},n=function t(){return Math.sqrt(this.variance)},r=function t(){return ml(this.sorted_values,[.25,.5,.75])},i=function t(){return ml(this.sorted_values,.5)},a=function t(){var e=ml(this.sorted_values,[.25,.75]);return e[1]-e[0]};t.getter("variance",e),t.getter("sd",n),t.getter("median",i),t.getter("iqr",a),t.method("quantiles",function(t){return ml(this.sorted_values,t)}),t.method("quartiles",r)}function vl(t){t.method("random",function(t){return ul(this.values,t)}),t.method("sample",function(t,e,n){return ll(this.values,t,e,n)})}function bl(t){t.method("rank",function(t,e){return al(this.values,this.sorted_values,t,e)})}function xl(t){t.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return cl(t=t||this.values,this.dropped_indexes,NaN)})}function wl(){var t={},e=tl(t);return sl(e),yl(e),vl(e),bl(e),xl(e),t}function Ml(t){var e=-1/0;return t.every(function(t){if(e<=t)return e=t,!0})}function kl(t){var e=1/0;return t.every(function(t){if(t<=e)return e=t,!0})}function Al(t,e,i){i=i||Ku;var a=1/0,o=-1/0,n=null,u=0,l=[],r=Object.freeze(e.reduce(function(t,e,n){var r=i(e);return"number"!=typeof r||isNaN(r)?l.push(n):(t.push(r),a=Math.min(a,r),o=Math.max(o,r),u+=r),t},[])),c=tl(t);return c.prop("enhanced_array",!0),c.prop("numeric_array",!0),c.prop("values",r),c.prop("min",r.length?a:null),c.prop("max",r.length?o:null),c.prop("sum",u),c.prop("mean",r.length?u/r.length:null),c.prop("range",r.length?o-a:null),c.prop("length",r.length),c.prop("dropped_indexes",Object.freeze(l)),c.method("extent",function(){return[this.min,this.max]}),c.getter("sorted_values",function(){return n||(Ml(r)&&(n=r),n=kl(r)?Object.freeze(r.slice().reverse()):Object.freeze(r.slice().sort(fl))),n}),t}hl(fl);var Nl=wl();function Tl(t,e){var n=Object.create(Nl);return Al(n,t,e),n}function Sl(t){var e=function t(){return Qu(this.sorted_values)};t.method("unsorted",function(){return this.values.slice()}),t.method("ascending",function(){return this.sorted_values.slice()}),t.method("descending",function(){return this.sorted_values.slice().reverse()}),t.method("unique",function(){return Qu(this.values)}),t.method("uniqueAscending",e),t.method("uniqueDescending",function(){return e().reverse()})}function Cl(t){t.method("random",function(t){return ul(this.values,t)}),t.method("sample",function(t,e,n){return ll(this.values,t,e,n)})}function El(t){t.method("rank",function(t,e){return al(this.values,this.sorted_values,t,e)})}function zl(t){t.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return cl(t=t||this.values,this.dropped_indexes)})}function Dl(){var t,e=tl({});return Sl(e),Cl(e),El(e),zl(e),1}function Fl(t){return t}function Ll(t,e){return Array.isArray(t)?Tl(t,e=e||Fl):t}function Ol(n){return n?Object.keys(n).reduce(function(t,e){return t[e]=n[e],t},{}):n}function jl(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function Ul(o){return 1===o.length&&(o=ql(o)),{left:function t(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;o(e[a],n)<0?r=1+a:i=a}return r},right:function t(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;0<o(e[a],n)?i=a:r=1+a}return r}}}function ql(n){return function(t,e){return jl(n(t),e)}}Dl();var Hl,Pl=Ul(jl).right;function Rl(t,e){var n=t.length,r=-1,i,a,o;if(null==e){for(;++r<n;)if(null!=(i=t[r])&&i<=i)for(a=o=i;++r<n;)null!=(i=t[r])&&(i<a&&(a=i),o<i&&(o=i))}else for(;++r<n;)if(null!=(i=e(t[r],r,t))&&i<=i)for(a=o=i;++r<n;)null!=(i=e(t[r],r,t))&&(i<a&&(a=i),o<i&&(o=i));return[a,o]}var Yl,Bl=Array.prototype.slice;function Il(t){return function(){return t}}function Wl(t){return t}function Vl(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var $l=Math.sqrt(50),Zl=Math.sqrt(10),Xl=Math.sqrt(2);function Gl(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return $l<=a?i*=10:Zl<=a?i*=5:Xl<=a&&(i*=2),e<t?-i:i}function Ql(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function Jl(){var h=Wl,d=Rl,p=Ql;function e(t){for(var e,n=t.length,r,i=new Array(n),e=0;e<n;++e)i[e]=h(t[e],e,t);var a=d(i),o=a[0],u=a[1],l=p(i,o,u);Array.isArray(l)||(l=Gl(o,u,l),l=Vl(Math.ceil(o/l)*l,u,l));for(var c=l.length;l[0]<=o;)l.shift(),--c;for(;l[c-1]>u;)l.pop(),--c;var s=new Array(c+1),f;for(e=0;e<=c;++e)(f=s[e]=[]).x0=0<e?l[e-1]:o,f.x1=e<c?l[e]:u;for(e=0;e<n;++e)o<=(r=i[e])&&r<=u&&s[Pl(l,r,0,c)].push(t[e]);return s}return e.value=function(t){return arguments.length?(h="function"==typeof t?t:Il(t),e):h},e.domain=function(t){return arguments.length?(d="function"==typeof t?t:Il([t[0],t[1]]),e):d},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?Il(Bl.call(t)):Il(t),e):p},e}function Kl(t,e){var b=Ll(t,e),x=null,w=null,M=!1,k=!1;function n(){var t=x[0],e=x[1],n=b.length,r,i,a,o=b.sorted_values,u,l,i,a,c=(a=w?(i=w.width||1,w.center||0):(i=(u=Jl().thresholds(Ql)(o))[l=1<u.length?1:0].x1-u[l].x0,u[l].x0+i/2))-i/2,s,r=t<=c?c-(s=Math.ceil((c-t)/i))*i:c+(s=Math.floor((t-c)/i))*i,f=Math.ceil((e-r)/i)*i+r;k&&(t<r+i/2&&(r-=i),f-i/2<e&&(f+=i));for(var h=0;h<n&&o[h]<r;)h++;for(var d=h,p=0,g=[],_=r;_<f;_+=i){for(var m=_+i,y=h;h<n&&o[h]<m;)h++;var v=h-y;M&&!v||(g.push({count:v,density:v/n,bin_start:_,bin_center:_+i/2,bin_end:m}),p=Math.max(p,v))}return g.max_count=p,g.max_density=p/n,g.total_count=n,g.binned_count=h-d,g.underflow=d,g.overflow=n-(g.binned_count+d),g}return n.binning=function(t){return void 0===t?Ol(w):(w=Ol(t),n)},n.domain=function(t){return void 0===t?x?x.slice():x:(x=t.slice(),n)},n.filterZeros=function(t){return void 0===t?M:(M=t,n)},n.pad=function(t){return void 0===t?k:(k=!!t,n)},n}function tc(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ec(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function rc(t){var r=t.dateTime,i=t.date,a=t.time,e=t.periods,n=t.days,o=t.shortDays,u=t.months,l=t.shortMonths,c=dc(e),s=pc(e),f=dc(n),h=pc(n),d=dc(o),p=pc(o),g=dc(u),_=pc(u),m=dc(l),y=pc(l),v={a:F,A:L,b:O,B:j,c:null,d:Oc,e:Oc,f:Pc,g:Qc,G:Kc,H:jc,I:Uc,j:qc,L:Hc,m:Rc,M:Yc,p:U,q:q,Q:ws,s:Ms,S:Bc,u:Ic,U:Wc,V:$c,w:Zc,W:Xc,x:null,X:null,y:Gc,Y:Jc,Z:ts,"%":xs},b={a:H,A:P,b:R,B:Y,c:null,d:es,e:es,f:os,g:ms,G:vs,H:ns,I:rs,j:is,L:as,m:us,M:ls,p:B,q:I,Q:ws,s:Ms,S:cs,u:ss,U:fs,V:ds,w:ps,W:gs,x:null,X:null,y:_s,Y:ys,Z:bs,"%":xs},x={a:N,A:T,b:S,B:C,c:E,d:Ac,e:Ac,f:zc,g:xc,G:bc,H:Tc,I:Tc,j:Nc,L:Ec,m:kc,M:Sc,p:A,q:Mc,Q:Fc,s:Lc,S:Cc,u:_c,U:mc,V:yc,w:gc,W:vc,x:z,X:D,y:xc,Y:bc,Z:wc,"%":Dc};function w(l,c){return function(t){var e=[],n=-1,r=0,i=l.length,a,o,u;for(t instanceof Date||(t=new Date(+t));++n<i;)37===l.charCodeAt(n)&&(e.push(l.slice(r,n)),null!=(o=ic[a=l.charAt(++n)])?a=l.charAt(++n):o="e"===a?" ":"0",(u=c[a])&&(a=u(t,o)),e.push(a),r=n+1);return e.push(l.slice(r,n)),e.join("")}}function M(a,o){return function(t){var e=nc(1900,void 0,1),n,r,i;if(k(e,a,t+="",0)!=t.length)return null;if("Q"in e)return new Date(e.Q);if("s"in e)return new Date(1e3*e.s+("L"in e?e.L:0));if(!o||"Z"in e||(e.Z=0),"p"in e&&(e.H=e.H%12+12*e.p),void 0===e.m&&(e.m="q"in e?e.q:0),"V"in e){if(e.V<1||53<e.V)return null;"w"in e||(e.w=1),"Z"in e?(r=4<(i=(r=ec(nc(e.y,0,1))).getUTCDay())||0===i?Ei.ceil(r):Ei(r),r=Ti.offset(r,7*(e.V-1)),e.y=r.getUTCFullYear(),e.m=r.getUTCMonth(),e.d=r.getUTCDate()+(e.w+6)%7):(r=4<(i=(r=tc(nc(e.y,0,1))).getDay())||0===i?Mi.ceil(r):Mi(r),r=bi.offset(r,7*(e.V-1)),e.y=r.getFullYear(),e.m=r.getMonth(),e.d=r.getDate()+(e.w+6)%7)}else("W"in e||"U"in e)&&("w"in e||(e.w="u"in e?e.u%7:"W"in e?1:0),i="Z"in e?ec(nc(e.y,0,1)).getUTCDay():tc(nc(e.y,0,1)).getDay(),e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(i+5)%7:e.w+7*e.U-(i+6)%7);return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,ec(e)):tc(e)}}function k(t,e,n,r){for(var i=0,a=e.length,o=n.length,u,l;i<a;){if(o<=r)return-1;if(37===(u=e.charCodeAt(i++))){if(u=e.charAt(i++),!(l=x[u in ic?e.charAt(i++):u])||(r=l(t,n,r))<0)return-1}else if(u!=n.charCodeAt(r++))return-1}return r}function A(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s[r[0].toLowerCase()],n+r[0].length):-1}function N(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1}function T(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1}function S(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1}function E(t,e,n){return k(t,r,e,n)}function z(t,e,n){return k(t,i,e,n)}function D(t,e,n){return k(t,a,e,n)}function F(t){return o[t.getDay()]}function L(t){return n[t.getDay()]}function O(t){return l[t.getMonth()]}function j(t){return u[t.getMonth()]}function U(t){return e[+(12<=t.getHours())]}function q(t){return 1+~~(t.getMonth()/3)}function H(t){return o[t.getUTCDay()]}function P(t){return n[t.getUTCDay()]}function R(t){return l[t.getUTCMonth()]}function Y(t){return u[t.getUTCMonth()]}function B(t){return e[+(12<=t.getUTCHours())]}function I(t){return 1+~~(t.getUTCMonth()/3)}return v.x=w(i,v),v.X=w(a,v),v.c=w(r,v),b.x=w(i,b),b.X=w(a,b),b.c=w(r,b),{format:function t(e){var n=w(e+="",v);return n.toString=function(){return e},n},parse:function t(e){var n=M(e+="",!1);return n.toString=function(){return e},n},utcFormat:function t(e){var n=w(e+="",b);return n.toString=function(){return e},n},utcParse:function t(e){var n=M(e+="",!0);return n.toString=function(){return e},n}}}var ic={"-":"",_:" ",0:"0"},ac=/^\s*\d+/,oc=/^%/,uc=/[\\^$*+?|[\]().{}]/g,lc,cc,sc;function fc(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function hc(t){return t.replace(uc,"\\$&")}function dc(t){return new RegExp("^(?:"+t.map(hc).join("|")+")","i")}function pc(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function gc(t,e,n){var r=ac.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function _c(t,e,n){var r=ac.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function mc(t,e,n){var r=ac.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yc(t,e,n){var r=ac.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function vc(t,e,n){var r=ac.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bc(t,e,n){var r=ac.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xc(t,e,n){var r=ac.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function wc(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Mc(t,e,n){var r=ac.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function kc(t,e,n){var r=ac.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ac(t,e,n){var r=ac.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Nc(t,e,n){var r=ac.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Tc(t,e,n){var r=ac.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Sc(t,e,n){var r=ac.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Cc(t,e,n){var r=ac.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ec(t,e,n){var r=ac.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function zc(t,e,n){var r=ac.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dc(t,e,n){var r=oc.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Fc(t,e,n){var r=ac.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Lc(t,e,n){var r=ac.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Oc(t,e){return fc(t.getDate(),e,2)}function jc(t,e){return fc(t.getHours(),e,2)}function Uc(t,e){return fc(t.getHours()%12||12,e,2)}function qc(t,e){return fc(1+bi.count(Ni(t),t),e,3)}function Hc(t,e){return fc(t.getMilliseconds(),e,3)}function Pc(t,e){return Hc(t,e)+"000"}function Rc(t,e){return fc(t.getMonth()+1,e,2)}function Yc(t,e){return fc(t.getMinutes(),e,2)}function Bc(t,e){return fc(t.getSeconds(),e,2)}function Ic(t){var e=t.getDay();return 0===e?7:e}function Wc(t,e){return fc(wi.count(Ni(t)-1,t),e,2)}function Vc(t){var e=t.getDay();return 4<=e||0===e?ki(t):ki.ceil(t)}function $c(t,e){return t=Vc(t),fc(ki.count(Ni(t),t)+(4===Ni(t).getDay()),e,2)}function Zc(t){return t.getDay()}function Xc(t,e){return fc(Mi.count(Ni(t)-1,t),e,2)}function Gc(t,e){return fc(t.getFullYear()%100,e,2)}function Qc(t,e){return fc((t=Vc(t)).getFullYear()%100,e,2)}function Jc(t,e){return fc(t.getFullYear()%1e4,e,4)}function Kc(t,e){var n=t.getDay();return fc((t=4<=n||0===n?ki(t):ki.ceil(t)).getFullYear()%1e4,e,4)}function ts(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+fc(e/60|0,"0",2)+fc(e%60,"0",2)}function es(t,e){return fc(t.getUTCDate(),e,2)}function ns(t,e){return fc(t.getUTCHours(),e,2)}function rs(t,e){return fc(t.getUTCHours()%12||12,e,2)}function is(t,e){return fc(1+Ti.count(Di(t),t),e,3)}function as(t,e){return fc(t.getUTCMilliseconds(),e,3)}function os(t,e){return as(t,e)+"000"}function us(t,e){return fc(t.getUTCMonth()+1,e,2)}function ls(t,e){return fc(t.getUTCMinutes(),e,2)}function cs(t,e){return fc(t.getUTCSeconds(),e,2)}function ss(t){var e=t.getUTCDay();return 0===e?7:e}function fs(t,e){return fc(Ci.count(Di(t)-1,t),e,2)}function hs(t){var e=t.getUTCDay();return 4<=e||0===e?zi(t):zi.ceil(t)}function ds(t,e){return t=hs(t),fc(zi.count(Di(t),t)+(4===Di(t).getUTCDay()),e,2)}function ps(t){return t.getUTCDay()}function gs(t,e){return fc(Ei.count(Di(t)-1,t),e,2)}function _s(t,e){return fc(t.getUTCFullYear()%100,e,2)}function ms(t,e){return fc((t=hs(t)).getUTCFullYear()%100,e,2)}function ys(t,e){return fc(t.getUTCFullYear()%1e4,e,4)}function vs(t,e){var n=t.getUTCDay();return fc((t=4<=n||0===n?zi(t):zi.ceil(t)).getUTCFullYear()%1e4,e,4)}function bs(){return"+0000"}function xs(){return"%"}function ws(t){return+t}function Ms(t){return Math.floor(t/1e3)}function ks(t){return lc=rc(t),cc=lc.format,sc=lc.parse,lc.utcFormat,lc.utcParse,lc}function As(t){throw new TypeError("Expected a value of type string but got a value of type "+Kt(t))}function Ns(e){return function(t){return"string"!=typeof t&&As(t),(t=t.trim())?e(t):null}}ks({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ts=new Date(1972,3,27,19,45,5);function Ss(t,e){var n=sc(t),r=cc(t),i,i=Ns("function"==typeof e?function(t){return null!==n(t)&&e(t)}:function(t){return null!==n(t)});return Object.freeze({test:i,parse:Ns(function(t){return n(t)}),format:function t(e){return r(e)},type:"datetime",description:t,id:"datetime$"+t,example:r(Ts)})}var Cs=Object.freeze([Ss("%Y-%m-%dT%H:%M:%S.%LZ"),Ss("%d/%m/%Y",function(t){var e=t.split("/").map(parseFloat);return 0<e[0]&&e[0]<=31&&0<e[1]&&e[1]<=12&&1e3<=e[2]}),Ss("%d/%m/%y",function(t){var e=t.split("/").map(parseFloat);return 0<e[0]&&e[0]<=31&&0<e[1]&&e[1]<=12&&!isNaN(e[2])}),Ss("%m/%d/%Y",function(t){var e=t.split("/").map(parseFloat);return 0<e[0]&&e[0]<=12&&0<e[1]&&e[1]<=31&&1e3<=e[2]}),Ss("%m/%d/%y",function(t){var e=t.split("/").map(parseFloat);return 0<e[0]&&e[0]<=12&&0<e[1]&&e[1]<=31&&!isNaN(e[2])}),Ss("%Y/%m/%d",function(t){var e=t.split("/").map(parseFloat);return 1e3<=e[0]&&0<e[1]&&e[1]<=12&&0<e[2]&&e[2]<=31}),Ss("%d-%m-%Y",function(t){var e=t.split("-").map(parseFloat);return 0<e[0]&&e[0]<=31&&0<e[1]&&e[1]<=12&&1e3<=e[2]}),Ss("%d-%m-%y",function(t){var e=t.split("-").map(parseFloat);return 0<e[0]&&e[0]<=31&&0<e[1]&&e[1]<=12&&!isNaN(e[2])}),Ss("%m-%d-%Y",function(t){var e=t.split("-").map(parseFloat);return 0<e[0]&&e[0]<=12&&0<e[1]&&e[1]<=31&&1e3<=e[2]}),Ss("%m-%d-%y",function(t){var e=t.split("-").map(parseFloat);return 0<e[0]&&e[0]<=12&&0<e[1]&&e[1]<=31&&!isNaN(e[2])}),Ss("%Y-%m-%d",function(t){var e=t.split("-").map(parseFloat);return 1e3<=e[0]&&0<e[1]&&e[1]<=12&&0<e[2]&&e[2]<=31}),Ss("%d %b %Y",function(t){var e=t.split(" ").map(parseFloat);return 0<e[0]&&e[0]<=31&&1e3<=e[2]}),Ss("%d %B %Y",function(t){var e=t.split(" ").map(parseFloat);return 0<e[0]&&e[0]<=31&&1e3<=e[2]}),Ss("%d %b %y"),Ss("%d %B %y"),Ss("%d-%b-%Y",function(t){var e=t.split("-").map(parseFloat);return 0<e[0]&&e[0]<=31&&1e3<=e[2]}),Ss("%d-%B-%Y",function(t){var e=t.split("-").map(parseFloat);return 0<e[0]&&e[0]<=31&&1e3<=e[2]}),Ss("%d-%b-%y"),Ss("%d-%B-%y"),Ss("%m/%Y",function(t){var e=t.split("/").map(parseFloat);return 0<e[0]&&e[0]<=12&&1e3<=e[1]}),Ss("%m/%y"),Ss("%b %Y",function(t){var e;return 1e3<=t.split(" ").map(parseFloat)[1]}),Ss("%B %Y",function(t){var e;return 1e3<=t.split(" ").map(parseFloat)[1]}),Ss("%b %y"),Ss("%B %y"),Ss("%d %b"),Ss("%d %B"),Ss("%b %d"),Ss("%B %d"),Ss("%d-%m",function(t){var e=t.split("-").map(parseFloat);return 0<e[0]&&e[0]<=31&&0<e[1]&&e[1]<=12}),Ss("%m-%d"),Ss("%d/%m"),Ss("%m/%d"),Ss("%Y",function(t){var e=parseFloat(t);return 1499<e&&e<2200}),Ss("%B"),Ss("%b"),Ss("%X"),Ss("%I:%M %p"),Ss("%H:%M"),Ss("%H:%M:%S"),Ss("%-I%p"),Ss("Q%q %Y",function(t){return 6===t.replace(/\s/g,"").length}),Ss("%Y Q%q",function(t){return 6===t.replace(/\s/g,"").length})]);function Es(t){return 1e21<=Math.abs(t=Math.round(t))?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zs(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ds(t){return(t=zs(Math.abs(t)))?t[1]:NaN}function Fs(u,l){return function(t,e){for(var n=t.length,r=[],i=0,a=u[0],o=0;0<n&&0<a&&(e<o+a+1&&(a=Math.max(1,e-o)),r.push(t.substring(n-=a,n+a)),!((o+=a+1)>e));)a=u[i=(i+1)%u.length];return r.reverse().join(l)}}function Ls(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var Os=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,js;function Us(t){if(!(e=Os.exec(t)))throw new Error("invalid format: "+t);var e;return new qs({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function qs(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Hs(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":0===r&&(r=n),i=n;break;default:if(!+t[n])break t;0<r&&(r=0)}return 0<r?t.slice(0,r)+t.slice(i+1):t}function Ps(t,e){var n=zs(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(js=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:o<a?r+new Array(a-o+1).join("0"):0<a?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+zs(t,Math.max(0,e+a-1))[0]}function Rs(t,e){var n=zs(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Us.prototype=qs.prototype,qs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ys={"%":function t(e,n){return(100*e).toFixed(n)},b:function t(e){return Math.round(e).toString(2)},c:function t(e){return e+""},d:Es,e:function t(e,n){return e.toExponential(n)},f:function t(e,n){return e.toFixed(n)},g:function t(e,n){return e.toPrecision(n)},o:function t(e){return Math.round(e).toString(8)},p:function t(e,n){return Rs(100*e,n)},r:Rs,s:Ps,X:function t(e){return Math.round(e).toString(16).toUpperCase()},x:function t(e){return Math.round(e).toString(16)}};function Bs(t){return t}var Is=Array.prototype.map,Ws=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Vs(t){var w=void 0===t.grouping||void 0===t.thousands?Bs:Fs(Is.call(t.grouping,Number),t.thousands+""),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",M=void 0===t.decimal?".":t.decimal+"",k=void 0===t.numerals?Bs:Ls(Is.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",A=void 0===t.minus?"-":t.minus+"",N=void 0===t.nan?"NaN":t.nan+"";function o(t){var c=(t=Us(t)).fill,s=t.align,f=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,g=t.precision,_=t.trim,m=t.type;"n"===m?(p=!0,m="g"):Ys[m]||(void 0===g&&(g=12),_=!0,m="g"),(h||"0"===c&&"="===s)&&(h=!0,c="0",s="=");var y="$"===e?r:"#"===e&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===e?i:/[%p]/.test(m)?a:"",b=Ys[m],x=/[defgprs%]/.test(m);function n(t){var e=y,n=v,r,i,a;if("c"===m)n=b(t)+n,t="";else{var o=(t=+t)<0||1/t<0;if(t=isNaN(t)?N:b(Math.abs(t),g),_&&(t=Hs(t)),o&&0==+t&&"+"!==f&&(o=!1),e=(o?"("===f?f:A:"-"===f||"("===f?"":f)+e,n=("s"===m?Ws[8+js/3]:"")+n+(o&&"("===f?")":""),x)for(r=-1,i=t.length;++r<i;)if((a=t.charCodeAt(r))<48||57<a){n=(46===a?M+t.slice(r+1):t.slice(r))+n,t=t.slice(0,r);break}}p&&!h&&(t=w(t,1/0));var u=e.length+t.length+n.length,l=u<d?new Array(d-u+1).join(c):"";switch(p&&h&&(t=w(l+t,l.length?d-n.length:1/0),l=""),s){case"<":t=e+t+n+l;break;case"=":t=e+l+t+n;break;case"^":t=l.slice(0,u=l.length>>1)+e+t+n+l.slice(u);break;default:t=l+e+t+n}return k(t)}return g=void 0===g?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}function e(t,e){var n=o(((t=Us(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ds(e)/3))),i=Math.pow(10,-r),a=Ws[8+r/3];return function(t){return n(i*t)+a}}return{format:o,formatPrefix:e}}function $s(t){var e,n,r=Vs({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]}),i,a;return function(t,e){return(e=e||",.2f")!==a&&(a=e,i=r.format(a)),i(t)}}var Zs={test:Ns(function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:Ns(function(t){return parseFloat(t.replace(/,/g,""))}),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},Xs={test:Ns(function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:Ns(function(t){return parseFloat(t.replace(/\s/g,""))}),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},Gs={test:Ns(function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:Ns(function(t){return parseFloat(t)}),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},Qs={test:Ns(function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:Ns(function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))}),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},Js={test:Ns(function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:Ns(function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))}),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},Ks={test:Ns(function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())}),parse:Ns(function(t){return parseFloat(t.replace(/,/,"."))}),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},tf=Object.freeze([Zs,Xs,Qs,Js,Gs,Ks]);tf.forEach(function(t){t.type="number",t.format=$s(t),Object.freeze(t)});var ef=Object.freeze({test:function t(e){return"string"==typeof e||As(e)},parse:function t(e){return"string"==typeof e?e:As(e)},format:function t(e){if("string"==typeof e)return e},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),nf=Object.freeze({datetime:Cs,number:tf}),rf=Object.freeze(["datetime","number","string"]),af=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),of=Object.freeze(Object.keys(af)),uf,lf;function cf(t){return t.replace(/_(\w)/g,function(t,e){return e.toUpperCase()})}function sf(t,e){return t.index-e.index}function ff(t,e){return e.n_success-t.n_success||sf(t,e)}function hf(t){return(""+t).trim()}function df(n){return void 0===n?hf:"function"==typeof n?function(t,e){return hf(n(t,e))}:function(t){return hf(t[""+n])}}function pf(t){t?Array.isArray(t)||(t=[t]):t=rf;var a=t.reduce(function(t,e){var n=nf[e];return n&&Array.prototype.push.apply(t,n),t},[]),o=-1!==t.indexOf("string"),u=of.reduce(function(t,e){return t[e]=af[e],t},{}),n=function t(e,n){n=df(n);var c=e.map(n).filter(function(t){return t});if(!c.length)return o?[ef]:[];var s=Math.min(u.n_max,c.length),f=Math.floor(s*u.failure_fraction),h=u.n_failing_values,r=u.sort?ff:sf,i=a.slice().reduce(function(t,e,n){for(var r=o=0,i=[],a=!1,o=0;o<s;o++){var u=c[o],l;if(!e.test(u)&&(++r>f?a=!0:-1===i.indexOf(u)&&(i.push(u),i.length>h&&(a=!0)),a))break}return a||t.push({interp:e,n_success:s-r,index:n}),t},[]).sort(r).map(function(t){return t.interp});return o&&i.push(ef),i};return of.forEach(function(e){n[cf(e)]=function(t){return void 0===t?u[e]:(u[e]=t,n)}}),n}pf.DATETIME_IDS=Object.freeze(Cs.map(function(t){return t.id})),pf.NUMBER_IDS=Object.freeze(tf.map(function(t){return t.id})),pf.STRING_IDS=Object.freeze([ef.id]),pf.getInterpretation=(lf=Cs.concat(tf,ef).reduce(function(t,e){return t[e.id]=e,t},{}),function(t){return lf[t]}),pf._createAccessorFunction=df;var gf={layout:{},x:{},y:{},axes_highlights:{y_area_opacity:.8,x_area_opacity:.8},localization:{},formatter:{},legend_continuous:{},legend_categorical:{},color:{scale_type:"numeric"},popup:{},row_filter:{},row_filter_value:null,row_filter_all:!1,row_filter_all_text:"All",height_mode:"auto",cell_height:5,cell_aspect:1,cell_x_margin:0,cell_y_margin:0,x_axis_datatype:"categorical",x_axis_binning:"auto",x_axis_bin_count:10,x_axis_bin_width:1,x_axis_bin_center:0,controls_style:{},dropdown_style:{},button_style:{},y_axis_datatype:"categorical",y_axis_binning:"auto",y_axis_bin_count:10,y_axis_bin_width:1,y_axis_bin_center:0,animation_duration:.3,animation_style:"none",animation_delay:null,animation_key:!0,url_state:{}},_f={};function mf(t,n){return t.reduce(function(t,e){return t[e]=n,t},{})}function yf(n,t){return(t=t||Object.keys(n)).reduce(function(t,e){return t[e]=n[e],t},{})}var vf=Object.freeze({compare:function t(e,n){return e===n},assign:function t(e){return e}}),bf=Object.freeze({compare:function t(e,n){return e==n},assign:vf.assign}),xf=Object.freeze({compare:function t(e,n){return!(!e||e.length!==n.length)&&e.every(function(t,e){return t===n[e]})},assign:function t(e){return e.slice()}}),wf=function r(t){var r=t.slice();return Object.freeze({compare:function t(e,n){return!!e&&r.every(function(t){return e[t]===n[t]})},assign:function t(e){return yf(e,r)}})},Mf;function kf(t){return Array.isArray(t)?wf(t):"equality"===t?bf:"array-contents"===t?xf:vf}function Af(i){var o=mf(i=i.slice(),!0),u=mf(i,void 0),l=mf(i,kf("strict-equality")),a=function t(e,n){if(o[e]){var r=u[e],i=l[e],a;return i.compare(r,n)?!1:(u[e]=i.assign(n),!0)}},n=function t(e,n){if("string"==typeof e)return a(e,n);var r=0;return Array.isArray(e)?e.forEach(function(t,e){a(i[e],t)&&r++}):Object.keys(e).forEach(function(t){a(t,e[t])&&r++}),!!r};return n.mode=function(t,e){return void 0===t?l[t]:(o[t]&&(l[t]=kf(e)),n)},n.stored=function(t){return"string"==typeof t?u[t]:yf(u)},n}function Nf(e){document.fonts&&(e=e||function(){window.template.update()},document.fonts.ready.then(function(t){e(t),document.fonts.addEventListener("loadingdone",function(){e(t)})}).catch(function(t){console.log("Error loading fonts",t)}))}function Tf(){(Mf=document.createElement("style")).id="flourish-page-styles",Mf.type="text/css",document.head.appendChild(Mf)}function Sf(){var t,i="";["mobile_small","mobile_big","tablet","desktop","big_screen"].forEach(function(t,e){var n="@media(min-width: "+qh["breakpoint_"+t]+"px) {\n",r="html { font-size:"+qh["font_size_"+t]+"%; }";i+=(0==e?"":n)+r+(0==e?"":"\n}")+"\n\n"}),Mf.innerHTML=i;var e=[qh.body_font,qh.title_font,qh.subtitle_font,qh.footer_font];e.forEach(function(t){if(t){for(var e=!1,n=document.head.querySelectorAll("link.layout-font"),r=0,i,a;r<n.length;r++){n[r].href==t.url&&(e=!0)}e||((a=document.createElement("link")).setAttribute("rel","stylesheet"),a.setAttribute("href",t.url),a.className="layout-font",document.head.appendChild(a))}});for(var n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){var a=n[r],o=!1;e.forEach(function(t){t&&t.url==a.href&&(o=!0)}),o||a.parentElement.removeChild(a)}document.body.style.fontFamily=qh.body_font.name}var Cf=Object.freeze({"stack-default":["header","controls","primary","footer"],"stack-2":["primary","header","controls","footer"],"stack-3":["header","primary","controls","footer"],"stack-4":["controls","primary","header","footer"]});function Ef(t,e,n){(t.prototype=e.prototype=n).constructor=t}function zf(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Df(){}var Ff=.7,Lf=1/.7,Of="\\s*([+-]?\\d+)\\s*",jf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Uf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qf=/^#([0-9a-f]{3,8})$/,Hf=new RegExp("^rgb\\("+[Of,Of,Of]+"\\)$"),Pf=new RegExp("^rgb\\("+[Uf,Uf,Uf]+"\\)$"),Rf=new RegExp("^rgba\\("+[Of,Of,Of,jf]+"\\)$"),Yf=new RegExp("^rgba\\("+[Uf,Uf,Uf,jf]+"\\)$"),Bf=new RegExp("^hsl\\("+[jf,Uf,Uf]+"\\)$"),If=new RegExp("^hsla\\("+[jf,Uf,Uf,jf]+"\\)$"),Wf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vf,$f,Zf,Xf,Gf,Qf,Jf,Kf,th,eh;function nh(){return this.rgb().formatHex()}function rh(){return gh(this).formatHsl()}function ih(){return this.rgb().formatRgb()}function ah(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=qf.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?oh(e):3===n?new sh(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?uh(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?uh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Hf.exec(t))?new sh(e[1],e[2],e[3],1):(e=Pf.exec(t))?new sh(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Rf.exec(t))?uh(e[1],e[2],e[3],e[4]):(e=Yf.exec(t))?uh(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Bf.exec(t))?ph(e[1],e[2]/100,e[3]/100,1):(e=If.exec(t))?ph(e[1],e[2]/100,e[3]/100,e[4]):Wf.hasOwnProperty(t)?oh(Wf[t]):"transparent"===t?new sh(NaN,NaN,NaN,0):null}function oh(t){return new sh(t>>16&255,t>>8&255,255&t,1)}function uh(t,e,n,r){return r<=0&&(t=e=n=NaN),new sh(t,e,n,r)}function lh(t){return t instanceof Df||(t=ah(t)),t?new sh((t=t.rgb()).r,t.g,t.b,t.opacity):new sh}function ch(t,e,n,r){return 1===arguments.length?lh(t):new sh(t,e,n,null==r?1:r)}function sh(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function fh(){return"#"+dh(this.r)+dh(this.g)+dh(this.b)}function hh(){var t=this.opacity,t;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function dh(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function ph(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new mh(t,e,n,r)}function gh(t){if(t instanceof mh)return new mh(t.h,t.s,t.l,t.opacity);if(t instanceof Df||(t=ah(t)),!t)return new mh;if(t instanceof mh)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,l=(a+i)/2;return u?(o=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=l<.5?a+i:2-a-i,o*=60):u=0<l&&l<1?0:o,new mh(o,u,l,t.opacity)}function _h(t,e,n,r){return 1===arguments.length?gh(t):new mh(t,e,n,null==r?1:r)}function mh(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function yh(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function vh(t){return"string"==typeof t&&null!=t.match(/^(https?:\/\/|data:)/i)}function bh(){($f=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return Zf=document.createElement("h1"),Xf=document.createElement("h2"),Gf=document.createElement("p"),Qf=document.createElement("img"),$f.appendChild(Qf),$f.appendChild(t),t.appendChild(Zf),t.appendChild(Xf),$f.appendChild(Gf),$f}function xh(){$f.style.textAlign=qh.header_align,$f.style.margin=0,$f.style.borderTop="top"==qh.header_border?qh.header_border_width+"px "+qh.header_border_style+" "+qh.header_border_color:null,$f.style.borderBottom="bottom"==qh.header_border?qh.header_border_width+"px "+qh.header_border_style+" "+qh.header_border_color:null,$f.style.paddingTop="top"==qh.header_border?qh.header_border_space+"rem":"",$f.style.paddingBottom="bottom"==qh.header_border?qh.header_border_space+"rem":"",Zf.innerHTML=qh.title?qh.title:"",Zf.style.fontFamily=qh.title_font?qh.title_font.name:"inherit",Zf.style.fontSize=("custom"!=qh.title_size?qh.title_size:qh.title_size_custom)+"rem",Zf.style.lineHeight=qh.title_line_height,Zf.style.fontWeight=qh.title_weight,Zf.style.color=qh.title_color||qh.font_color,Zf.style.margin=0,Zf.style.paddingTop=qh.title?("custom"==qh.title_space_above?qh.title_space_above_custom:qh.title_space_above)+"rem":0,Xf.innerHTML=qh.subtitle?qh.subtitle:"",Xf.style.fontFamily=qh.subtitle_font?qh.subtitle_font.name:"inherit",Xf.style.fontSize=("custom"!=qh.subtitle_size?qh.subtitle_size:qh.subtitle_size_custom)+"rem",Xf.style.lineHeight=qh.subtitle_line_height,Xf.style.fontWeight=qh.subtitle_weight,Xf.style.color=qh.subtitle_color||qh.font_color,Xf.style.margin=0,Xf.style.paddingTop=qh.subtitle?("custom"==qh.subtitle_space_above?qh.subtitle_space_above_custom:qh.subtitle_space_above)+"rem":0,Gf.innerHTML=qh.header_text?qh.header_text:"",Gf.style.fontSize=("custom"!=qh.header_text_size?qh.header_text_size:qh.header_text_size_custom)+"rem",Gf.style.lineHeight=qh.header_text_line_height,Gf.style.fontWeight=qh.header_text_weight,Gf.style.margin=0,Gf.style.color=qh.header_text_color||qh.font_color,Gf.style.paddingTop=qh.header_text?("custom"==qh.header_text_space_above?qh.header_text_space_above_custom:qh.header_text_space_above)+"rem":0,Qf.style.display=qh.header_logo_enabled&&vh(qh.header_logo_src)?"":"none",Qf.style.position="inside"==qh.header_logo_align?"":"fixed",Qf.style.height=qh.header_logo_height+"rem",Qf.style.top="outside"==qh.header_logo_align?0:"",Qf.style.left="outside"==qh.header_logo_align&&"left"==qh.header_logo_position_outside?0:"",Qf.style.right="outside"==qh.header_logo_align&&"right"==qh.header_logo_position_outside?0:"",Qf.style.marginTop=qh.header_logo_margin_top+"rem",Qf.style.marginBottom=qh.header_logo_margin_bottom+"rem",Qf.style.marginLeft=qh.header_logo_margin_left+"rem",Qf.style.marginRight=qh.header_logo_margin_right+"rem",Qf.style.float="top"==qh.header_logo_position_inside||"outside"==qh.header_logo_align?"":qh.header_logo_position_inside,Qf.style.width="auto",Qf.src=vh(qh.header_logo_src)?qh.header_logo_src:""}Ef(Df,ah,{copy:function t(e){return Object.assign(new this.constructor,this,e)},displayable:function t(){return this.rgb().displayable()},hex:nh,formatHex:nh,formatHsl:rh,formatRgb:ih,toString:ih}),Ef(sh,ch,zf(Df,{brighter:function t(e){return e=null==e?Lf:Math.pow(Lf,e),new sh(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function t(e){return e=null==e?.7:Math.pow(.7,e),new sh(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function t(){return this},displayable:function t(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fh,formatHex:fh,formatRgb:hh,toString:hh})),Ef(mh,_h,zf(Df,{brighter:function t(e){return e=null==e?Lf:Math.pow(Lf,e),new mh(this.h,this.s,this.l*e,this.opacity)},darker:function t(e){return e=null==e?.7:Math.pow(.7,e),new mh(this.h,this.s,this.l*e,this.opacity)},rgb:function t(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new sh(yh(240<=e?e-240:120+e,a,i),yh(e,a,i),yh(e<120?240+e:e-120,a,i),this.opacity)},displayable:function t(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function t(){var e=this.opacity,e;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}})),Vf=document.createElement("canvas").getContext("2d");var wh=!1;function Mh(){var t=document.createElement("style");t.type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t)}function kh(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function Ah(){return Mh(),(Jf=document.createElement("footer")).className="flourish-footer",(Kf=document.createElement("div")).className="flourish-footer-text",(eh=document.createElement("a")).target="_blank",(th=document.createElement("img")).className="flourish-footer-logo",eh.appendChild(th),Jf.appendChild(Kf),Jf.appendChild(eh),Jf}function Nh(t){if(t){var e=ah(t);return 195<Math.round(299*e.r+587*e.g+114*e.b)/1e3}console.warn("No valid color",t)}function Th(){return qh.background_color_enabled&&!Nh(qh.background_color)}function Sh(){var t=vh(qh.footer_logo_src)?qh.footer_logo_src:"";return vh(qh.footer_logo_src_light)&&Th()&&(t=qh.footer_logo_src_light),t}function Ch(){return qh.footer_logo_enabled&&Sh()}function Eh(){var t=[{name:qh.source_name,url:qh.source_url},{name:qh.multiple_sources?qh.source_name_2:"",url:qh.multiple_sources?qh.source_url_2:""},{name:qh.multiple_sources?qh.source_name_3:"",url:qh.multiple_sources?qh.source_url_3:""}].filter(function(t){return t.name||t.url});wh=0<t.length||qh.footer_note||qh.footer_note_secondary||Ch(),Jf.style.display="flex",Jf.style.height=wh?null:0,Jf.style.width="100%",Jf.style.paddingTop="top"==qh.footer_border?qh.footer_border_space+"rem":"",Jf.style.paddingBottom="bottom"==qh.footer_border?qh.footer_border_space+"rem":"",Jf.style.borderTop="top"==qh.footer_border?qh.footer_border_width+"px "+qh.footer_border_style+" "+qh.footer_border_color:"",Jf.style.borderBottom="bottom"==qh.footer_border?qh.footer_border_width+"px "+qh.footer_border_style+" "+qh.footer_border_color:"",Jf.style.fontFamily=qh.footer_font?qh.footer_font.name:"inherit","justify"==qh.footer_align?Jf.style.justifyContent="space-between":"left"==qh.footer_align?Jf.style.justifyContent="flex-start":"right"==qh.footer_align?Jf.style.justifyContent="flex-end":"center"==qh.footer_align&&(Jf.style.justifyContent="center"),Jf.style.fontSize=qh.footer_text_size+"rem",Jf.style.color=qh.footer_text_color||qh.font_color,Jf.style.alignItems=qh.footer_align_vertical;var i=document.createElement("span");t.forEach(function(t,e){var n=document.createElement("p"),r;0<e&&(n.innerText=", "),t.url?((r=document.createElement("a")).innerText=t.name||t.url,r.href=kh(t.url),r.target="_blank",n.appendChild(r)):n.innerText+=t.name||t.url,i.innerHTML+=n.innerHTML}),Kf.style.order="left"==qh.footer_logo_order?2:"",Kf.style.textAlign="justify"==qh.footer_align?"":qh.footer_align;var e="<p>";e+=""!==i.innerHTML?qh.source_label+" "+i.innerHTML:"",e+=qh.footer_note?(""!==i.innerHTML?" â¢ ":"")+qh.footer_note:"",e+="</p>",e+=qh.footer_note_secondary?"<br /><p>"+qh.footer_note_secondary+"</p>":"",Kf.innerHTML=e,th.src=Sh(),th.style.height=qh.footer_logo_height+"rem",th.style.marginLeft="right"==qh.footer_logo_order?qh.footer_logo_margin+"rem":"",th.style.marginRight="left"==qh.footer_logo_order?qh.footer_logo_margin+"rem":"",th.style.verticalAlign=qh.footer_align_vertical,th.style.display=Ch()?"":"none",eh.href=""==qh.footer_logo_link_url?"":kh(qh.footer_logo_link_url),eh.style.cursor=""==qh.footer_logo_link_url?"default":"pointer"}function zh(t){t||Sf(),xh(),Eh(),Dh();var e=Yh.wrapper.style;e.height="100vh",e.color=qh.font_color,e.maxWidth="wrapper"==qh.max_width_target?qh.max_width+"px":"",e.marginLeft="wrapper"==qh.max_width_target&&"left"!=qh.max_width_align?"auto":"",e.marginRight="wrapper"==qh.max_width_target&&"right"!=qh.max_width_align?"auto":"",e.padding=qh.margin_top+"rem "+qh.margin_right+"rem "+qh.margin_bottom+"rem "+qh.margin_left+"rem",e.borderTop=qh.border.enabled?qh.border.top.width+"px "+qh.border.top.style+" "+qh.border.top.color:"",e.borderRight=qh.border.enabled?qh.border.right.width+"px "+qh.border.right.style+" "+qh.border.right.color:"",e.borderBottom=qh.border.enabled?qh.border.bottom.width+"px "+qh.border.bottom.style+" "+qh.border.bottom.color:"",e.borderLeft=qh.border.enabled?qh.border.left.width+"px "+qh.border.left.style+" "+qh.border.left.color:"";var n=Yh.primary.outer.style,r=Yh.legend.outer.style,i=parseFloat(n.order)>parseFloat(r.order)?"above":"below";Cf[qh.layout_order].forEach(function(t,e){Yh[t].outer.style.order=10*e}),n.flex="1 1 auto",n.height=null,cd(i),r.textAlign=qh.header_align,Yh.controls.outer.style.textAlign=qh.header_align,Yh.primary.outer.style.maxWidth="primary"==qh.max_width_target?qh.max_width+"px":"",Yh.primary.outer.style.marginLeft="primary"==qh.max_width_target&&"left"!=qh.max_width_align?"auto":"",Yh.primary.outer.style.marginRight="primary"==qh.max_width_target&&"right"!=qh.max_width_align?"auto":"";var a=qh.screenreader_hide_primary&&""!=qh.screenreader_text_primary,o,u;document.getElementById("fl-layout-primary-description").innerText=qh.screenreader_hide_primary?qh.screenreader_text_primary:"",a?Yh.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):Yh.primary.outer.removeAttribute("aria-describedBy"),qh.screenreader_hide_primary?Yh.primary.inner.setAttribute("aria-hidden",!0):Yh.primary.inner.removeAttribute("aria-hidden");var l=(u="custom"==qh.space_between_sections?qh.space_between_sections_custom:qh.space_between_sections)/2+"rem";Ph.map(function(t){var e=Yh[t],n=e.outer.style,r;return{name:t,height:Ih(e.inner),order:parseFloat(n.order),style:n}}).sort(function(t,e){return t.order-e.order}).filter(function(t){return!!t.height||(t.style.paddingBottom="",void(t.style.paddingTop=""))}).forEach(function(t,e,n){t.style.paddingTop=e?l:"",t.style.paddingBottom=e<n.length-1?l:""})}function Dh(){document.body.style.backgroundColor=qh.background_color_enabled?qh.background_color:"transparent",document.body.style.backgroundImage=qh.background_image_enabled?"url("+qh.background_image_src+")":"",document.body.style.backgroundSize=qh.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=qh.background_image_position}var Fh=Object.freeze({body_font:{name:"Source Sans Pro",url:"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},title_font:null,subtitle_font:null,footer_font:null,border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",screenreader_hide_primary:!0,screenreader_text_primary:""});function Lh(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return 999<t?650:599<t?575:400}var Oh="Your web browser does not support the features used by this content. Consider updating to a modern browser.",jh,Uh,qh;function Hh(t){return window.innerWidth!==jh&&(jh=window.innerWidth,Uh=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*Uh}var Ph=["header","controls","legend","primary","footer"],Rh,Yh={};function Bh(t){return t.getBoundingClientRect().width}function Ih(t){return t.getBoundingClientRect().height}function Wh(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",Yh.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}function Vh(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var i=document.createElement("div");return i.className="fl-layout-inner",i.id=n,i.style.width="100%",i.style.position="relative","primary"==t&&(r.style.display="flex",$h(r)),"controls"!=t&&"legend"!=t||i.setAttribute("aria-hidden",!0),r.appendChild(i),Yh.wrapper.appendChild(r),{outer:r,inner:i}}function $h(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;return n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e),e}function Zh(){var t=Yh.primary.outer;t.style.position="relative",(Rh=document.createElement("div")).id="fl-layout-overlay";var e=Rh.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");return n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",Rh.appendChild(n),t.appendChild(Rh),Rh}function Xh(){return Yh.wrapper}function Gh(){return Yh.sidebar}function Qh(t){return-1!==Ph.indexOf(t)?Yh[t].inner:null}function Jh(t){return Yh[t]||void 0===t?Bh("wrapper"==t||void 0===t?Yh.wrapper:Yh[t].outer):null}function Kh(t){return Yh[t]||void 0===t?"wrapper"==t||void 0===t?Bh(Yh.wrapper)-od("horizontal")-ud("horizontal"):Bh(Yh[t].inner):null}function td(t){return Yh[t]||void 0===t?Ih("wrapper"==t||void 0===t?Yh.wrapper:Yh[t].outer):null}function ed(t){return Yh[t]||void 0===t?"wrapper"==t||void 0===t?Ih(Yh.wrapper)-od("vertical")-ud("vertical"):Ih(Yh[t].inner):null}function nd(){return Ih(Yh.primary.outer)-id(Yh.primary.outer)}function rd(){return Bh(Yh.primary.inner)}function id(t){var e,n;return(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function ad(){var t,e,n;return Lh()-od("vertical")-ud("vertical")-["header","controls","legend","footer"].reduce(function(t,e){return t+td(e)},0)-id(Yh.primary.outer)}function od(t){var e;return"left"==t?e=qh.margin_left:"right"==t?e=qh.margin_right:"top"==t?e=qh.margin_top:"bottom"==t?e=qh.margin_bottom:"horizontal"==t?e=qh.margin_left+qh.margin_right:"vertical"==t&&(e=qh.margin_top+qh.margin_bottom),Hh(e)}function ud(t){return qh.border.enabled?"vertical"==t?qh.border.top.width+qh.border.bottom.width:"horizontal"==t?qh.border.left.width+qh.border.right.width:null:0}function ld(t){var e=Yh.primary,n,r;Flourish.fixed_height||void 0===Flourish.fixed_height?e.inner.style.height="":(r=(n=null===t)?ad():t)+id(Yh.primary.outer)!==parseFloat(e.outer.style.height)&&(Yh.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:td()))}function cd(t){var e=parseFloat(Yh.primary.outer.style.order);Yh.legend.outer.style.order=e+("below"===t.trim().toLowerCase()?1:-1)}function sd(t){var e=Rh.querySelector(".fl-layout-overlay-message"),n;t?(Rh.style.display="block",n="string"==typeof t?t:Oh,e.innerHTML=n):(e.textContent="",Rh.style.display="none")}function fd(){return Rh}function hd(t){for(var e in qh=t,Fh)void 0===qh[e]&&(qh[e]=Fh[e]);return Tf(),Yh.wrapper=Wh(),Ph.forEach(function(t,e){Yh[t]=Vh(t,e)}),Qh("header").appendChild(bh()),Qh("footer").appendChild(Ah()),Yh.primary.outer.style.overflow="hidden",Zh(),zh(!0),{update:zh,getWrapper:Xh,getSidebar:Gh,getSection:Qh,getOuterWidth:Jh,getInnerWidth:Kh,getOuterHeight:td,getInnerHeight:ed,getPrimaryHeight:nd,getPrimaryWidth:rd,getDefaultPrimaryHeight:ad,setHeight:ld,setLegendPosition:cd,showOverlay:sd,remToPx:Hh,getOverlay:fd}}function dd(e,n){return Object.keys(n).forEach(function(t){void 0===e[t]&&(e[t]=n[t])}),e}var pd=Object.freeze({axis_position:"bottom",y_axis_position:"",numeric_scale_type:"linear",nice:!0,flip:!1,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:.9,tick_label_color:"#aaaaaa",tick_label_angle:"45",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!1,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_color:"#aaaaaa",title_size:1.1,title_weight:"normal",title_padding:.6}),gd=Object.freeze({axis_visible:!0,numeric_scale_type:"linear",nice:!0,flip:!1,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:.9,tick_label_color:"#aaaaaa",tick_label_angle:"0",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!0,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_color:"#aaaaaa",title_size:1.1,title_weight:"normal",title_padding:.6}),_d=Object.freeze(dd({axis_visible:!1},gd)),md=Object.freeze({background_color_enabled:!1,background_color:"#f5f5f5",background_image_enabled:!1,background_image_src:"",background_image_size:"stretch",background_image_position:"xMidYMid"});function yd(t,e,n){t[e]||(t[e]={}),dd(t[e],n)}function vd(t){var e=yd.bind(null,t=t||{});return e("x",pd),e("y",gd),e("y2",_d),e("background",md),t}var bd="http://www.w3.org/1999/xhtml",xd={svg:"http://www.w3.org/2000/svg",xhtml:bd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wd(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),xd.hasOwnProperty(e)?{space:xd[e],local:t}:t}function Md(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===bd&&t.documentElement.namespaceURI===bd?t.createElement(n):t.createElementNS(e,n)}}function kd(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ad(t){var e=wd(t);return(e.local?kd:Md)(e)}function Nd(){}function Td(t){return null==t?Nd:function(){return this.querySelector(t)}}function Sd(t){"function"!=typeof t&&(t=Td(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=new Array(o),l,c,s=0;s<o;++s)(l=a[s])&&(c=t.call(l,l.__data__,s,a))&&("__data__"in l&&(c.__data__=l.__data__),u[s]=c);return new _g(r,this._parents)}function Cd(t){return"object"===Kt(t)&&"length"in t?t:Array.from(t)}function Ed(){return[]}function zd(t){return null==t?Ed:function(){return this.querySelectorAll(t)}}function Dd(e){return function(){var t=e.apply(this,arguments);return null==t?[]:Cd(t)}}function Fd(t){t=("function"==typeof t?Dd:zd)(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],u=o.length,l,c=0;c<u;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new _g(r,i)}function Ld(t){return function(){return this.matches(t)}}function Od(e){return function(t){return t.matches(e)}}var jd=Array.prototype.find;function Ud(t){return function(){return jd.call(this.children,t)}}function qd(){return this.firstElementChild}function Hd(t){return this.select(null==t?qd:Ud("function"==typeof t?t:Od(t)))}var Pd=Array.prototype.filter;function Rd(){return this.children}function Yd(t){return function(){return Pd.call(this.children,t)}}function Bd(t){return this.selectAll(null==t?Rd:Yd("function"==typeof t?t:Od(t)))}function Id(t){"function"!=typeof t&&(t=Ld(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&u.push(l);return new _g(r,this._parents)}function Wd(t){return new Array(t.length)}function Vd(){return new _g(this._enter||this._groups.map(Wd),this._parents)}function $d(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Zd(t){return function(){return t}}function Xd(t,e,n,r,i,a){for(var o=0,u,l=e.length,c=a.length;o<c;++o)(u=e[o])?(u.__data__=a[o],r[o]=u):n[o]=new $d(t,a[o]);for(;o<l;++o)(u=e[o])&&(i[o]=u)}function Gd(t,e,n,r,i,a,o){for(var u,l,c=new Map,s=e.length,f=a.length,h=new Array(s),d,u=0;u<s;++u)(l=e[u])&&(h[u]=d=o.call(l,l.__data__,u,e)+"",c.has(d)?i[u]=l:c.set(d,l));for(u=0;u<f;++u)d=o.call(t,a[u],u,a)+"",(l=c.get(d))?((r[u]=l).__data__=a[u],c.delete(d)):n[u]=new $d(t,a[u]);for(u=0;u<s;++u)(l=e[u])&&c.get(h[u])===l&&(i[u]=l)}function Qd(t){return t.__data__}function Jd(t,e){if(!arguments.length)return Array.from(this,Qd);var n=e?Gd:Xd,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Zd(t));for(var a=i.length,o=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var s=r[c],f=i[c],h=f.length,d=Cd(t.call(s,s&&s.__data__,c,r)),p=d.length,g=u[c]=new Array(p),_=o[c]=new Array(p),m;n(s,f,g,_,l[c]=new Array(h),d,e);for(var y=0,v=0,b,x;y<p;++y)if(b=g[y]){for(v<=y&&(v=y+1);!(x=_[v])&&++v<p;);b._next=x||null}}return(o=new _g(o,r))._enter=u,o._exit=l,o}function Kd(){return new _g(this._exit||this._groups.map(Wd),this._parents)}function tp(t,e,n){var r=this.enter(),i=this,a=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i}function ep(t){if(!(t instanceof _g))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],c=n[u],s=l.length,f=o[u]=new Array(s),h,d=0;d<s;++d)(h=l[d]||c[d])&&(f[d]=h);for(;u<r;++u)o[u]=e[u];return new _g(o,this._parents)}function np(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;0<=--i;)(o=r[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this}function rp(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||ip;for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],u=o.length,l=i[a]=new Array(u),c,s=0;s<u;++s)(c=o[s])&&(l[s]=c);l.sort(t)}return new _g(i,this._parents).order()}function ip(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function ap(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function op(){return Array.from(this)}function up(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function lp(){var t=0,e=fe(this),n;try{for(e.s();!(n=e.n()).done;){var r=n.value;++t}}catch(t){e.e(t)}finally{e.f()}return t}function cp(){return!this.node()}function sp(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&t.call(u,u.__data__,a,i);return this}function fp(t){return function(){this.removeAttribute(t)}}function hp(t){return function(){this.removeAttributeNS(t.space,t.local)}}function dp(t,e){return function(){this.setAttribute(t,e)}}function pp(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function gp(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function _p(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function mp(t,e){var n=wd(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?hp:fp:"function"==typeof e?n.local?_p:gp:n.local?pp:dp)(n,e))}function yp(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vp(t){return function(){this.style.removeProperty(t)}}function bp(t,e,n){return function(){this.style.setProperty(t,e,n)}}function xp(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}function wp(t,e,n){return 1<arguments.length?this.each((null==e?vp:"function"==typeof e?xp:bp)(t,e,null==n?"":n)):Mp(this.node(),t)}function Mp(t,e){return t.style.getPropertyValue(e)||yp(t).getComputedStyle(t,null).getPropertyValue(e)}function kp(t){return function(){delete this[t]}}function Ap(t,e){return function(){this[t]=e}}function Np(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function Tp(t,e){return 1<arguments.length?this.each((null==e?kp:"function"==typeof e?Np:Ap)(t,e)):this.node()[t]}function Sp(t){return t.trim().split(/^|\s+/)}function Cp(t){return t.classList||new Ep(t)}function Ep(t){this._node=t,this._names=Sp(t.getAttribute("class")||"")}function zp(t,e){for(var n=Cp(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Dp(t,e){for(var n=Cp(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Fp(t){return function(){zp(this,t)}}function Lp(t){return function(){Dp(this,t)}}function Op(t,e){return function(){(e.apply(this,arguments)?zp:Dp)(this,t)}}function jp(t,e){var n=Sp(t+"");if(arguments.length<2){for(var r=Cp(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Op:e?Fp:Lp)(n,e))}function Up(){this.textContent=""}function qp(t){return function(){this.textContent=t}}function Hp(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Pp(t){return arguments.length?this.each(null==t?Up:("function"==typeof t?Hp:qp)(t)):this.node().textContent}function Rp(){this.innerHTML=""}function Yp(t){return function(){this.innerHTML=t}}function Bp(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Ip(t){return arguments.length?this.each(null==t?Rp:("function"==typeof t?Bp:Yp)(t)):this.node().innerHTML}function Wp(){this.nextSibling&&this.parentNode.appendChild(this)}function Vp(){return this.each(Wp)}function $p(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zp(){return this.each($p)}function Xp(t){var e="function"==typeof t?t:Ad(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Gp(){return null}function Qp(t,e){var n="function"==typeof t?t:Ad(t),r=null==e?Gp:"function"==typeof e?e:Td(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Jp(){var t=this.parentNode;t&&t.removeChild(this)}function Kp(){return this.each(Jp)}function tg(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function eg(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ng(t){return this.select(t?eg:tg)}function rg(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ig(e){return function(t){e.call(this,t,this.__data__)}}function ag(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function og(a){return function(){var t=this.__on;if(t){for(var e=0,n=-1,r=t.length,i;e<r;++e)i=t[e],a.type&&i.type!==a.type||i.name!==a.name?t[++n]=i:this.removeEventListener(i.type,i.listener,i.options);++n?t.length=n:delete this.__on}}}function ug(a,o,u){return function(){var t=this.__on,e,n=ig(o);if(t)for(var r=0,i=t.length;r<i;++r)if((e=t[r]).type===a.type&&e.name===a.name)return this.removeEventListener(e.type,e.listener,e.options),this.addEventListener(e.type,e.listener=n,e.options=u),void(e.value=o);this.addEventListener(a.type,n,u),e={type:a.type,name:a.name,value:o,listener:n,options:u},t?t.push(e):this.__on=[e]}}function lg(t,e,n){var r=ag(t+""),i,a=r.length,o;if(!(arguments.length<2)){for(u=e?ug:og,i=0;i<a;++i)this.each(u(r[i],e,n));return this}var u=this.node().__on;if(u)for(var l=0,c=u.length,s;l<c;++l)for(i=0,s=u[l];i<a;++i)if((o=r[i]).type===s.type&&o.name===s.name)return s.value}function cg(t,e,n){var r=yp(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function sg(t,e){return function(){return cg(this,t,e)}}function fg(t,e){return function(){return cg(this,t,e.apply(this,arguments))}}function hg(t,e){return this.each(("function"==typeof e?fg:sg)(t,e))}$d.prototype={constructor:$d,appendChild:function t(e){return this._parent.insertBefore(e,this._next)},insertBefore:function t(e,n){return this._parent.insertBefore(e,n)},querySelector:function t(e){return this._parent.querySelector(e)},querySelectorAll:function t(e){return this._parent.querySelectorAll(e)}},Ep.prototype={add:function t(e){var n;this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function t(e){var n=this._names.indexOf(e);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function t(e){return 0<=this._names.indexOf(e)}};var dg=regeneratorRuntime.mark(pg);function pg(){var n,r,i,a,o,u,l;return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:n=this._groups,r=0,i=n.length;case 1:if(!(r<i)){e.next=13;break}a=n[r],o=0,u=a.length;case 3:if(!(o<u)){e.next=10;break}if(l=a[o])return e.next=7,l;e.next=7;break;case 7:++o,e.next=3;break;case 10:++r,e.next=1;break;case 13:case"end":return e.stop()}},dg,this)}var gg=[null];function _g(t,e){this._groups=t,this._parents=e}function mg(){return new _g([[document.documentElement]],gg)}function yg(){return this}function vg(t){return"string"==typeof t?new _g([[document.querySelector(t)]],[document.documentElement]):new _g([[t]],gg)}function bg(t){return"svg"===t.tagName.toLowerCase()}function xg(t){var n,n=t&&t.select&&t.selectAll?vg(t.node()):vg(t),r=n.node();if(!r)throw new Error("Chart layout instance must have a target");var i=bg(r),e;return{container:n,getSvg:function t(){if(i)return n;for(var e=r.parentElement;e&&!bg(e);)e=e.parentElement;if(!bg(e))throw new Error("target must be an SVG or a descendant of an SVG");return vg(e)}}}function wg(t){var e=t.append("g").attr("class","fl-chart-background");e.append("rect").attr("class","fl-chart-fill"),e.append("image").attr("class","fl-chart-image"),e.append("rect").attr("class","fl-chart-interaction").style("opacity",0)}function Mg(t){var e=t.append("g").attr("class","fl-gridlines").style("pointer-events","none");e.append("g").attr("class","fl-gridlines-vertical"),e.append("g").attr("class","fl-gridlines-horizontal")}function kg(t){var e=t.append("g").attr("class","fl-axes"),n=e.append("g").attr("class","fl-x-axes"),r=e.append("g").attr("class","fl-y-axes"),i=n.append("g").attr("class","fl-axis fl-x-axis fl-bottom-axis");i.append("g").attr("class","fl-axis-line"),i.append("g").attr("class","fl-axis-ticks"),i.append("g").attr("class","fl-axis-title");var a=n.append("g").attr("class","fl-axis fl-x-axis fl-top-axis");a.append("g").attr("class","fl-axis-line"),a.append("g").attr("class","fl-axis-ticks"),a.append("g").attr("class","fl-axis-title");var o=r.append("g").attr("class","fl-axis fl-y-axis fl-left-axis");o.append("g").attr("class","fl-axis-line"),o.append("g").attr("class","fl-axis-ticks"),o.append("g").attr("class","fl-axis-title");var u=r.append("g").attr("class","fl-axis fl-y-axis fl-right-axis");u.append("g").attr("class","fl-axis-line"),u.append("g").attr("class","fl-axis-ticks"),u.append("g").attr("class","fl-axis-title")}function Ag(t){var e=t.container.append("g").attr("class","fl-chart");return e.append("clipPath").attr("class","fl-data-clip-path").append("rect"),e.append("clipPath").attr("class","fl-grid-clip-path").append("rect"),wg(e),e.append("g").attr("class","fl-data-background"),Mg(e),kg(e),e.append("g").attr("class","fl-data-foreground"),e}_g.prototype=mg.prototype=te({constructor:_g,select:Sd,selectAll:Fd,selectChild:Hd,selectChildren:Bd,filter:Id,data:Jd,enter:Vd,exit:Kd,join:tp,merge:ep,selection:yg,order:np,sort:rp,call:ap,nodes:op,node:up,size:lp,empty:cp,each:sp,attr:mp,style:wp,property:Tp,classed:jp,text:Pp,html:Ip,raise:Vp,lower:Zp,append:Xp,insert:Qp,remove:Kp,clone:ng,datum:rg,on:lg,dispatch:hg},Symbol.iterator,pg);var Ng=0;function Tg(e){var n="fl-chart-layout-"+Ng++;return function(t){return void 0===t?n:(n=t,e)}}var Sg=Object.freeze({left:!0,top:!0,right:!0,bottom:!0}),Cg=Object.freeze({left:!1,top:!1,right:!1,bottom:!1});function Eg(e){var n=Sg;return function(t){return void 0===t?n:(n=t?"object"!==Kt(t)?Sg:Object.freeze({left:!!t.left,top:!!t.top,right:!!t.right,bottom:!!t.bottom}):Cg,e)}}var zg=eo("start","end","cancel","interrupt"),Dg=[],Fg=0,Lg=1,Og=2,jg=3,Ug=4,qg=5,Hg=6;function Pg(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};Ig(t,n,{name:e,index:r,group:i,on:zg,tween:Dg,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Fg})}function Rg(t,e){var n=Bg(t,e);if(n.state>Fg)throw new Error("too late; already scheduled");return n}function Yg(t,e){var n=Bg(t,e);if(n.state>jg)throw new Error("too late; already running");return n}function Bg(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ig(a,o,u){var l=a.__transition,c;function t(t){u.state=Lg,u.timer.restart(s,u.delay,u.time),u.delay<=t&&s(t-u.delay)}function s(t){var e,n,r,i;if(u.state!==Lg)return h();for(e in l)if((i=l[e]).name===u.name){if(i.state===jg)return To(s);i.state===Ug?(i.state=Hg,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete l[e]):+e<o&&(i.state=Hg,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete l[e])}if(To(function(){u.state===jg&&(u.state=Ug,u.timer.restart(f,u.delay,u.time),f(t))}),u.state=Og,u.on.call("start",a,a.__data__,u.index,u.group),u.state===Og){for(u.state=jg,c=new Array(r=u.tween.length),e=0,n=-1;e<r;++e)(i=u.tween[e].value.call(a,a.__data__,u.index,u.group))&&(c[++n]=i);c.length=n+1}}function f(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=qg,1),n=-1,r=c.length;++n<r;)c[n].call(a,e);u.state===qg&&(u.on.call("end",a,a.__data__,u.index,u.group),h())}function h(){for(var t in u.state=Hg,u.timer.stop(),delete l[o],l)return;delete a.__transition}(l[o]=u).timer=xo(t,0,u.time)}function Wg(t,e){var n=t.__transition,r,i,a=!0,o;if(n){for(o in e=null==e?null:e+"",n)(r=n[o]).name===e?(i=r.state>Og&&r.state<qg,r.state=Hg,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]):a=!1;a&&delete t.__transition}}function Vg(t){return this.each(function(){Wg(this,t)})}function $g(i,a){var o,u;return function(){var t=Yg(this,i),e=t.tween;if(e!==o)for(var n=0,r=(u=o=e).length;n<r;++n)if(u[n].name===a){(u=u.slice()).splice(n,1);break}t.tween=u}}function Zg(a,o,u){var l,c;if("function"!=typeof u)throw new Error;return function(){var t=Yg(this,a),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:o,value:u},r=0,i=c.length;r<i;++r)if(c[r].name===o){c[r]=n;break}r===i&&c.push(n)}t.tween=c}}function Xg(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Bg(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((null==e?$g:Zg)(n,t,e))}function Gg(t,e,n){var r=t._id;return t.each(function(){var t=Yg(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Bg(t,r).value[e]}}function Qg(t,e){var n;return("number"==typeof e?Qn:e instanceof We?In:(n=We(e))?(e=n,In):rr)(t,e)}function Jg(t){return function(){this.removeAttribute(t)}}function Kg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function t_(e,n,r){var i,a=r+"",o;return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}}function e_(e,n,r){var i,a=r+"",o;return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}function n_(r,i,a){var o,u,l;return function(){var t,e=a(this),n;if(null!=e)return(t=this.getAttribute(r))===(n=e+"")?null:t===o&&n===u?l:(u=n,l=i(o=t,e));this.removeAttribute(r)}}function r_(r,i,a){var o,u,l;return function(){var t,e=a(this),n;if(null!=e)return(t=this.getAttributeNS(r.space,r.local))===(n=e+"")?null:t===o&&n===u?l:(u=n,l=i(o=t,e));this.removeAttributeNS(r.space,r.local)}}function i_(t,e){var n=wd(t),r="transform"===n?mr:Qg;return this.attrTween(t,"function"==typeof e?(n.local?r_:n_)(n,r,Gg(this,"attr."+t,e)):null==e?(n.local?Kg:Jg)(n):(n.local?e_:t_)(n,r,e))}function a_(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function o_(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function u_(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&o_(e,t)),r}return t._value=n,t}function l_(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&a_(e,t)),r}return t._value=n,t}function c_(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=wd(t);return this.tween(n,(r.local?u_:l_)(r,e))}function s_(t,e){return function(){Rg(this,t).delay=+e.apply(this,arguments)}}function f_(t,e){return e=+e,function(){Rg(this,t).delay=e}}function h_(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?s_:f_)(e,t)):Bg(this.node(),e).delay}function d_(t,e){return function(){Yg(this,t).duration=+e.apply(this,arguments)}}function p_(t,e){return e=+e,function(){Yg(this,t).duration=e}}function g_(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?d_:p_)(e,t)):Bg(this.node(),e).duration}function __(t,e){if("function"!=typeof e)throw new Error;return function(){Yg(this,t).ease=e}}function m_(t){var e=this._id;return arguments.length?this.each(__(e,t)):Bg(this.node(),e).ease}function y_(e,n){return function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;Yg(this,e).ease=t}}function v_(t){if("function"!=typeof t)throw new Error;return this.each(y_(this._id,t))}function b_(t){"function"!=typeof t&&(t=Ld(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&u.push(l);return new X_(r,this._parents,this._name,this._id)}function x_(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],c=n[u],s=l.length,f=o[u]=new Array(s),h,d=0;d<s;++d)(h=l[d]||c[d])&&(f[d]=h);for(;u<r;++u)o[u]=e[u];return new X_(o,this._parents,this._name,this._id)}function w_(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}function M_(n,r,i){var a,o,u=w_(r)?Rg:Yg;return function(){var t=u(this,n),e=t.on;e!==a&&(o=(a=e).copy()).on(r,i),t.on=o}}function k_(t,e){var n=this._id;return arguments.length<2?Bg(this.node(),n).on.on(t):this.each(M_(n,t,e))}function A_(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function N_(){return this.on("end.remove",A_(this._id))}function T_(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Td(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],l=u.length,c=a[o]=new Array(l),s,f,h=0;h<l;++h)(s=u[h])&&(f=t.call(s,s.__data__,h,u))&&("__data__"in s&&(f.__data__=s.__data__),c[h]=f,Pg(c[h],e,n,h,c,Bg(s,n)));return new X_(a,this._parents,e,n)}function S_(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=zd(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var l=r[u],c=l.length,s,f=0;f<c;++f)if(s=l[f]){for(var h=t.call(s,s.__data__,f,l),d,p=Bg(s,n),g=0,_=h.length;g<_;++g)(d=h[g])&&Pg(d,e,n,g,h,p);a.push(h),o.push(s)}return new X_(a,o,e,n)}var C_=mg.prototype.constructor;function E_(){return new C_(this._groups,this._parents)}function z_(n,r){var i,a,o;return function(){var t=Mp(this,n),e=(this.style.removeProperty(n),Mp(this,n));return t===e?null:t===i&&e===a?o:o=r(i=t,a=e)}}function D_(t){return function(){this.style.removeProperty(t)}}function F_(e,n,r){var i,a=r+"",o;return function(){var t=Mp(this,e);return t===a?null:t===i?o:o=n(i=t,r)}}function L_(r,i,a){var o,u,l;return function(){var t=Mp(this,r),e=a(this),n=e+"";return null==e&&(this.style.removeProperty(r),n=e=Mp(this,r)),t===n?null:t===o&&n===u?l:(u=n,l=i(o=t,e))}}function O_(r,i){var a,o,u,l="style."+i,c="end."+l,s;return function(){var t=Yg(this,r),e=t.on,n=null==t.value[l]?s=s||D_(i):void 0;e===a&&u===n||(o=(a=e).copy()).on(c,u=n),t.on=o}}function j_(t,e,n){var r="transform"==(t+="")?_r:Qg;return null==e?this.styleTween(t,z_(t,r)).on("end.style."+t,D_(t)):"function"==typeof e?this.styleTween(t,L_(t,r,Gg(this,"style."+t,e))).each(O_(this._id,t)):this.styleTween(t,F_(t,r,e),n).on("end.style."+t,null)}function U_(e,n,r){return function(t){this.style.setProperty(e,n.call(this,t),r)}}function q_(e,n,r){var i,a;function t(){var t=n.apply(this,arguments);return t!==a&&(i=(a=t)&&U_(e,t,r)),i}return t._value=n,t}function H_(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,q_(t,e,null==n?"":n))}function P_(t){return function(){this.textContent=t}}function R_(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function Y_(t){return this.tween("text","function"==typeof t?R_(Gg(this,"text",t)):P_(null==t?"":t+""))}function B_(e){return function(t){this.textContent=e.call(this,t)}}function I_(e){var n,r;function t(){var t=e.apply(this,arguments);return t!==r&&(n=(r=t)&&B_(t)),n}return t._value=e,t}function W_(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,I_(t))}function V_(){for(var t=this._name,e=this._id,n=G_(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,c=0,s;c<u;++c){(l=o[c])&&Pg(l,t,n,c,o,{time:(s=Bg(l,e)).time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new X_(r,this._parents,t,n)}function $_(){var i,a,o=this,u=o._id,l=o.size();return new Promise(function(e,t){var n={value:t},r={value:function t(){0==--l&&e()}};o.each(function(){var t=Yg(this,u),e=t.on;e!==i&&((a=(i=e).copy())._.cancel.push(n),a._.interrupt.push(n),a._.end.push(r)),t.on=a}),0===l&&e()})}var Z_=0;function X_(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function G_(){return++Z_}var Q_=mg.prototype;X_.prototype=te({constructor:X_,select:T_,selectAll:S_,filter:b_,merge:x_,selection:E_,transition:V_,call:Q_.call,nodes:Q_.nodes,node:Q_.node,size:Q_.size,empty:Q_.empty,each:Q_.each,on:k_,attr:i_,attrTween:c_,style:j_,styleTween:H_,text:Y_,textTween:W_,remove:N_,tween:Xg,delay:h_,duration:g_,ease:m_,easeVarying:v_,end:$_},Symbol.iterator,Q_[Symbol.iterator]);var J_={time:null,delay:0,duration:250,ease:$u};function K_(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}function tm(t){var e,n;t=t instanceof X_?(e=t._id,t._name):(e=G_(),(n=J_).time=yo(),null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,c=0;c<u;++c)(l=o[c])&&Pg(l,t,e,c,o,n||K_(l,e));return new X_(r,this._parents,t,e)}function em(e){var n=0;return function(t){return void 0===t?n:(n=t,e)}}function nm(t){return""+t}function rm(e){var n=nm;return function(t){return void 0===t?n||nm:(n=t,e)}}function im(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function am(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function om(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function um(t){var r=t.dateTime,i=t.date,a=t.time,e=t.periods,n=t.days,o=t.shortDays,u=t.months,l=t.shortMonths,c=mm(e),s=ym(e),f=mm(n),h=ym(n),d=mm(o),p=ym(o),g=mm(u),_=ym(u),m=mm(l),y=ym(l),v={a:F,A:L,b:O,B:j,c:null,d:Hm,e:Hm,f:Im,g:ey,G:ry,H:Pm,I:Rm,j:Ym,L:Bm,m:Wm,M:Vm,p:U,q:q,Q:Ny,s:Ty,S:$m,u:Zm,U:Xm,V:Qm,w:Jm,W:Km,x:null,X:null,y:ty,Y:ny,Z:iy,"%":Ay},b={a:H,A:P,b:R,B:Y,c:null,d:ay,e:ay,f:sy,g:xy,G:My,H:oy,I:uy,j:ly,L:cy,m:fy,M:hy,p:B,q:I,Q:Ny,s:Ty,S:dy,u:py,U:gy,V:my,w:yy,W:vy,x:null,X:null,y:by,Y:wy,Z:ky,"%":Ay},x={a:N,A:T,b:S,B:C,c:E,d:Cm,e:Cm,f:Om,g:Am,G:km,H:zm,I:zm,j:Em,L:Lm,m:Sm,M:Dm,p:A,q:Tm,Q:Um,s:qm,S:Fm,u:bm,U:xm,V:wm,w:vm,W:Mm,x:z,X:D,y:Am,Y:km,Z:Nm,"%":jm};function w(l,c){return function(t){var e=[],n=-1,r=0,i=l.length,a,o,u;for(t instanceof Date||(t=new Date(+t));++n<i;)37===l.charCodeAt(n)&&(e.push(l.slice(r,n)),null!=(o=lm[a=l.charAt(++n)])?a=l.charAt(++n):o="e"===a?" ":"0",(u=c[a])&&(a=u(t,o)),e.push(a),r=n+1);return e.push(l.slice(r,n)),e.join("")}}function M(a,o){return function(t){var e=om(1900,void 0,1),n,r,i;if(k(e,a,t+="",0)!=t.length)return null;if("Q"in e)return new Date(e.Q);if("s"in e)return new Date(1e3*e.s+("L"in e?e.L:0));if(!o||"Z"in e||(e.Z=0),"p"in e&&(e.H=e.H%12+12*e.p),void 0===e.m&&(e.m="q"in e?e.q:0),"V"in e){if(e.V<1||53<e.V)return null;"w"in e||(e.w=1),"Z"in e?(r=4<(i=(r=am(om(e.y,0,1))).getUTCDay())||0===i?Ei.ceil(r):Ei(r),r=Ti.offset(r,7*(e.V-1)),e.y=r.getUTCFullYear(),e.m=r.getUTCMonth(),e.d=r.getUTCDate()+(e.w+6)%7):(r=4<(i=(r=im(om(e.y,0,1))).getDay())||0===i?Mi.ceil(r):Mi(r),r=bi.offset(r,7*(e.V-1)),e.y=r.getFullYear(),e.m=r.getMonth(),e.d=r.getDate()+(e.w+6)%7)}else("W"in e||"U"in e)&&("w"in e||(e.w="u"in e?e.u%7:"W"in e?1:0),i="Z"in e?am(om(e.y,0,1)).getUTCDay():im(om(e.y,0,1)).getDay(),e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(i+5)%7:e.w+7*e.U-(i+6)%7);return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,am(e)):im(e)}}function k(t,e,n,r){for(var i=0,a=e.length,o=n.length,u,l;i<a;){if(o<=r)return-1;if(37===(u=e.charCodeAt(i++))){if(u=e.charAt(i++),!(l=x[u in lm?e.charAt(i++):u])||(r=l(t,n,r))<0)return-1}else if(u!=n.charCodeAt(r++))return-1}return r}function A(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s.get(r[0].toLowerCase()),n+r[0].length):-1}function N(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1}function T(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h.get(r[0].toLowerCase()),n+r[0].length):-1}function S(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1}function C(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1}function E(t,e,n){return k(t,r,e,n)}function z(t,e,n){return k(t,i,e,n)}function D(t,e,n){return k(t,a,e,n)}function F(t){return o[t.getDay()]}function L(t){return n[t.getDay()]}function O(t){return l[t.getMonth()]}function j(t){return u[t.getMonth()]}function U(t){return e[+(12<=t.getHours())]}function q(t){return 1+~~(t.getMonth()/3)}function H(t){return o[t.getUTCDay()]}function P(t){return n[t.getUTCDay()]}function R(t){return l[t.getUTCMonth()]}function Y(t){return u[t.getUTCMonth()]}function B(t){return e[+(12<=t.getUTCHours())]}function I(t){return 1+~~(t.getUTCMonth()/3)}return v.x=w(i,v),v.X=w(a,v),v.c=w(r,v),b.x=w(i,b),b.X=w(a,b),b.c=w(r,b),{format:function t(e){var n=w(e+="",v);return n.toString=function(){return e},n},parse:function t(e){var n=M(e+="",!1);return n.toString=function(){return e},n},utcFormat:function t(e){var n=w(e+="",b);return n.toString=function(){return e},n},utcParse:function t(e){var n=M(e+="",!0);return n.toString=function(){return e},n}}}mg.prototype.interrupt=Vg,mg.prototype.transition=tm;var lm={"-":"",_:" ",0:"0"},cm=/^\s*\d+/,sm=/^%/,fm=/[\\^$*+?|[\]().{}]/g,hm,dm,pm;function gm(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function _m(t){return t.replace(fm,"\\$&")}function mm(t){return new RegExp("^(?:"+t.map(_m).join("|")+")","i")}function ym(t){return new Map(t.map(function(t,e){return[t.toLowerCase(),e]}))}function vm(t,e,n){var r=cm.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function bm(t,e,n){var r=cm.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function xm(t,e,n){var r=cm.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function wm(t,e,n){var r=cm.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Mm(t,e,n){var r=cm.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function km(t,e,n){var r=cm.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Am(t,e,n){var r=cm.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function Nm(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Tm(t,e,n){var r=cm.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Sm(t,e,n){var r=cm.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Cm(t,e,n){var r=cm.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Em(t,e,n){var r=cm.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zm(t,e,n){var r=cm.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Dm(t,e,n){var r=cm.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Fm(t,e,n){var r=cm.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Lm(t,e,n){var r=cm.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Om(t,e,n){var r=cm.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jm(t,e,n){var r=sm.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Um(t,e,n){var r=cm.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function qm(t,e,n){var r=cm.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Hm(t,e){return gm(t.getDate(),e,2)}function Pm(t,e){return gm(t.getHours(),e,2)}function Rm(t,e){return gm(t.getHours()%12||12,e,2)}function Ym(t,e){return gm(1+bi.count(Ni(t),t),e,3)}function Bm(t,e){return gm(t.getMilliseconds(),e,3)}function Im(t,e){return Bm(t,e)+"000"}function Wm(t,e){return gm(t.getMonth()+1,e,2)}function Vm(t,e){return gm(t.getMinutes(),e,2)}function $m(t,e){return gm(t.getSeconds(),e,2)}function Zm(t){var e=t.getDay();return 0===e?7:e}function Xm(t,e){return gm(wi.count(Ni(t)-1,t),e,2)}function Gm(t){var e=t.getDay();return 4<=e||0===e?ki(t):ki.ceil(t)}function Qm(t,e){return t=Gm(t),gm(ki.count(Ni(t),t)+(4===Ni(t).getDay()),e,2)}function Jm(t){return t.getDay()}function Km(t,e){return gm(Mi.count(Ni(t)-1,t),e,2)}function ty(t,e){return gm(t.getFullYear()%100,e,2)}function ey(t,e){return gm((t=Gm(t)).getFullYear()%100,e,2)}function ny(t,e){return gm(t.getFullYear()%1e4,e,4)}function ry(t,e){var n=t.getDay();return gm((t=4<=n||0===n?ki(t):ki.ceil(t)).getFullYear()%1e4,e,4)}function iy(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+gm(e/60|0,"0",2)+gm(e%60,"0",2)}function ay(t,e){return gm(t.getUTCDate(),e,2)}function oy(t,e){return gm(t.getUTCHours(),e,2)}function uy(t,e){return gm(t.getUTCHours()%12||12,e,2)}function ly(t,e){return gm(1+Ti.count(Di(t),t),e,3)}function cy(t,e){return gm(t.getUTCMilliseconds(),e,3)}function sy(t,e){return cy(t,e)+"000"}function fy(t,e){return gm(t.getUTCMonth()+1,e,2)}function hy(t,e){return gm(t.getUTCMinutes(),e,2)}function dy(t,e){return gm(t.getUTCSeconds(),e,2)}function py(t){var e=t.getUTCDay();return 0===e?7:e}function gy(t,e){return gm(Ci.count(Di(t)-1,t),e,2)}function _y(t){var e=t.getUTCDay();return 4<=e||0===e?zi(t):zi.ceil(t)}function my(t,e){return t=_y(t),gm(zi.count(Di(t),t)+(4===Di(t).getUTCDay()),e,2)}function yy(t){return t.getUTCDay()}function vy(t,e){return gm(Ei.count(Di(t)-1,t),e,2)}function by(t,e){return gm(t.getUTCFullYear()%100,e,2)}function xy(t,e){return gm((t=_y(t)).getUTCFullYear()%100,e,2)}function wy(t,e){return gm(t.getUTCFullYear()%1e4,e,4)}function My(t,e){var n=t.getUTCDay();return gm((t=4<=n||0===n?zi(t):zi.ceil(t)).getUTCFullYear()%1e4,e,4)}function ky(){return"+0000"}function Ay(){return"%"}function Ny(t){return+t}function Ty(t){return Math.floor(t/1e3)}function Sy(t){return hm=um(t),dm=hm.format,pm=hm.parse,hm.utcFormat,hm.utcParse,hm}Sy({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Cy=parseFloat,Ey=pm("%Y-%m-%d");function zy(e){var n=Cy;return function(t){return void 0===t?n||Cy:(n=t,e)}}function Dy(e){var n=Ey;return function(t){return void 0===t?n||Ey:(n=t,e)}}function Fy(e){var n={},r=null,i=null,a=null;return n.width=function(t){return void 0===t?null!==r?r:e.svg.node().getBoundingClientRect().width:(r=t,e)},n.height=function(t){return void 0===t?null!==i?i:null!==a?n.plotHeight()+e.margins.top+e.margins.bottom:e.svg.node().getBoundingClientRect().height:(i=t,a=null,e)},n.plotAspect=function(t){return void 0===t?null!==a?a:n.plotWidth()/n.plotHeight():(i=null,a=t,e)},n.plotWidth=function(){return e.width()-(e.margins.right+e.margins.left)},n.plotHeight=function(){return null===a?n.height()-(e.margins.top+e.margins.bottom):n.plotWidth()/a},n.xLeft=function(){return e.margins.left},n.xRight=function(){return e.width()-e.margins.right},n.yBottom=function(){return e.height()-e.margins.bottom},n.yTop=function(){return e.margins.top},n}function Ly(e){var n=0;return function(t){return void 0===t?n:(n=t,e)}}function Oy(e){var n=0;return function(t){return void 0===t?n:(n=t,e)}}function jy(t){var e=[],n=[];return t.forEach(function(t){n[t]||(e.push(t),n[t]=!0)}),e}var Uy=Array.isArray;function qy(t){return t}function Hy(r){var t,e,n;return{prop:function t(e,n){Object.defineProperty(r,e,{value:n,enumerable:!0})},getter:function t(e,n){Object.defineProperty(r,e,{get:n,enumerable:!0})},method:function t(e,n){Object.defineProperty(r,e,{value:n})}}}function Py(t,e){var n,r=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=r),r+=1,t},{})}function Ry(t,e){var n,r=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]=r++,t},{})}function Yy(t,e){var n,r=1;return t[e?"reduce":"reduceRight"](function(t,e){return t[e]||(t[e]=r++),t},{})}function By(t,e){var n=Py(t,e),r=Ry(t,e);return Object.keys(n).reduce(function(t,e){return t[e]=(n[e]+r[e])/2,t},{})}function Iy(t,e,n,r){var i,i=("dense"===r?Yy:"fractional"===r?By:"worst"===r?Ry:Py)(e,n),a="ordinal"===r?function t(e){return i[e]++}:function t(e){return i[e]};return t.map(a)}function Wy(r){return r=r||Math.random,function(t,e){var n=e-t+1;return Math.floor(r()*n)+t}}function Vy(t,e){var n;return t[Wy(e)(0,t.length-1)]}function $y(t,e,n,r){var i=t.length,a;if(n=void 0!==e&&n,e=void 0!==e?Math.floor(e):i,!i||e<1)return[];var o=Wy(r);if(n||1===e){a=[];for(var u=0;u<e;u++)a.push(t[o(0,i-1)]);return a}a=t.slice();for(var l=Math.min(i,e),u=0;u<l;u++){var c=o(u,i-1),s,f;c!==u&&(s=a[c],f=a[u],a[u]=s,a[c]=f)}return a.length=l,a}function Zy(t,n,r){if(!n.length)return t.slice();for(var i=0,e=t.reduce(function(t,e){for(;t.length===n[i];)t.push(r),i++;return t.push(e),t},[]);n[i++];)e.push(r);return e}function Xy(t){t.method("unsorted",function(){return this.values.slice()}),t.method("ascending",function(){return this.sorted_values.slice()}),t.method("descending",function(){return this.sorted_values.slice().reverse()}),t.method("unique",function(){return jy(this.values)}),t.method("uniqueAscending",function(){return jy(this.sorted_values)}),t.method("uniqueDescending",function(){return jy(this.sorted_values).reverse()})}function Gy(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function Qy(t){return 1===t.length&&(t=Jy(t)),1}function Jy(n){return function(t,e){return Gy(n(t),e)}}function Ky(t){return null===t?NaN:+t}function tv(t,e){var n=t.length,r=0,i=-1,a=0,o,u,l=0;if(null==e)for(;++i<n;)isNaN(o=Ky(t[i]))||(l+=(u=o-a)*(o-(a+=u/++r)));else for(;++i<n;)isNaN(o=Ky(e(t[i],i,t)))||(l+=(u=o-a)*(o-(a+=u/++r)));if(1<r)return l/(r-1)}function ev(t,e,n){if(null==n&&(n=Ky),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u;return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function nv(e,t){return Uy(t)?t.map(function(t){return ev(e,t)}):ev(e,t)}function rv(t){var e=function t(){return tv(this.values)},n=function t(){return Math.sqrt(this.variance)},r=function t(){return nv(this.sorted_values,[.25,.5,.75])},i=function t(){return nv(this.sorted_values,.5)},a=function t(){var e=nv(this.sorted_values,[.25,.75]);return e[1]-e[0]};t.getter("variance",e),t.getter("sd",n),t.getter("median",i),t.getter("iqr",a),t.method("quantiles",function(t){return nv(this.sorted_values,t)}),t.method("quartiles",r)}function iv(t){t.method("random",function(t){return Vy(this.values,t)}),t.method("sample",function(t,e,n){return $y(this.values,t,e,n)})}function av(t){t.method("rank",function(t,e){return Iy(this.values,this.sorted_values,t,e)})}function ov(t){t.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return Zy(t=t||this.values,this.dropped_indexes,NaN)})}function uv(){var t={},e=Hy(t);return Xy(e),rv(e),iv(e),av(e),ov(e),t}function lv(t){var e=-1/0;return t.every(function(t){if(e<=t)return e=t,!0})}function cv(t){var e=1/0;return t.every(function(t){if(t<=e)return e=t,!0})}function sv(t,e,i){i=i||qy;var a=1/0,o=-1/0,n=null,u=0,l=[],r=Object.freeze(e.reduce(function(t,e,n){var r=i(e);return"number"!=typeof r||isNaN(r)?l.push(n):(t.push(r),a=Math.min(a,r),o=Math.max(o,r),u+=r),t},[])),c=Hy(t);return c.prop("enhanced_array",!0),c.prop("numeric_array",!0),c.prop("values",r),c.prop("min",r.length?a:null),c.prop("max",r.length?o:null),c.prop("sum",u),c.prop("mean",r.length?u/r.length:null),c.prop("range",r.length?o-a:null),c.prop("length",r.length),c.prop("dropped_indexes",Object.freeze(l)),c.method("extent",function(){return[this.min,this.max]}),c.getter("sorted_values",function(){return n||(lv(r)&&(n=r),n=cv(r)?Object.freeze(r.slice().reverse()):Object.freeze(r.slice().sort(Gy))),n}),t}Qy(Gy);var fv=uv();function hv(t,e){var n=Object.create(fv);return sv(n,t,e),n}var dv=Object.freeze(["min","max","mean"]),pv=Object.freeze(["extent","random","sample","unsorted","ascending","descending","unique","uniqueAscending","uniqueDescending","quartiles","quantiles","unclean"]);function gv(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())}function _v(t){return"number"!=typeof t?null:new Date(t)}function mv(e,n){return function(){var t=e[n].apply(e,arguments);return Array.isArray(t)?t.map(_v):_v(t)}}function yv(t,e,n){n=n||qy;var r=hv(e.map(function(t){var e=n(t);return gv(e)?e.getTime():null})),i=Hy(t);i.prop("enhanced_array",!0),i.prop("datetime_array",!0),i.getter("values",function(){return Object.freeze(r.values.map(_v))}),i.getter("sorted_values",function(){return Object.freeze(r.sorted_values.map(_v))}),i.getter("median",function(){return _v(r.median)}),i.prop("length",r.values.length),i.prop("dropped_indexes",r.dropped_indexes),i.method("rank",function(){return r.rank(arguments)});var a=mv.bind(null,r);return dv.forEach(function(t){i.prop(t,_v(r[t]))}),pv.forEach(function(t){i.method(t,a(t))}),t}function vv(t,e){var n={};return yv(n,t,e),n}function bv(t){t.method("unsorted",function(){return this.values.slice()}),t.method("ascending",function(){return this.sorted_values.slice()}),t.method("descending",function(){return this.sorted_values.slice().reverse()}),t.method("unique",function(){return jy(this.values)}),t.method("uniqueAscending",function(){return jy(this.sorted_values)}),t.method("uniqueDescending",function(){return jy(this.sorted_values).reverse()})}function xv(t){t.method("random",function(t){return Vy(this.values,t)}),t.method("sample",function(t,e,n){return $y(this.values,t,e,n)})}function wv(t){t.method("rank",function(t,e){return Iy(this.values,this.sorted_values,t,e)})}function Mv(t){t.method("unclean",function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return Zy(t=t||this.values,this.dropped_indexes)})}function kv(){var t={},e=Hy(t);return bv(e),xv(e),wv(e),Mv(e),t}function Av(t){if(t.length<2)return 1;var e=t[0];return t.every(function(t){if(e<=t)return e=t,!0})}function Nv(t){if(t.length<2)return 1;var e=t[0];return t.every(function(t){if(t<=e)return e=t,!0})}function Tv(t,e,i){i=i||qy;for(var n=null,a=[],o=0,u=null,r=0;null===u&&r<e.length;){var l=i(e[r++]);"string"==typeof l&&(u=l)}var c=u,s=Object.freeze(e.reduce(function(t,e,n){var r=i(e);return"string"==typeof r?(t.push(r),u=r<u?r:u,c=c<r?r:c,r||o++):a.push(n),t},[])),f=Hy(t);return f.prop("enhanced_array",!0),f.prop("string_array",!0),f.prop("values",s),f.prop("min",u),f.prop("max",c),f.prop("length",s.length),f.prop("dropped_indexes",Object.freeze(a)),f.prop("n_empty",o),f.method("extent",function(){return[this.min,this.max]}),f.getter("sorted_values",function(){return n||(Av(s)&&(n=s),n=Nv(s)?Object.freeze(s.slice().reverse()):Object.freeze(s.slice().sort())),n}),t}var Sv=kv(),Cv;function Ev(t,e){var n=Object.create(Sv);return Tv(n,t,e),n}function zv(){var r=parseFloat(getComputedStyle(document.documentElement).fontSize),i=window.devicePixelRatio;Cv=function t(e,n){return e?n?Math.max(Math.round(e*r*i),1)/i:e*r:0}}function Dv(t,e,n){var r=getComputedStyle(t.node()).fontFamily,i,a,o;return(n?n+" ":"")+(Cv(e)+"px ")+r}function Fv(t,e){return"translate("+t+","+e+")"}function Lv(t,e,n){return"rotate("+t+","+(e=e||0)+","+(n=n||0)+")"}var Ov=Math.log10||function(t){return Math.log(t)*Math.LOG10E};function jv(t){return Math.floor(Ov(Math.abs(t)))}function Uv(t){if(0===t)return 0;for(var e=Math.abs(String(t).replace(".",""));0!==e&&e%10==0;)e/=10;return jv(e)+1}function qv(t,e){var n=t[0][0],r=t[1][0],i=e[0][0],a=e[1][0],o=t[0][1],u=t[1][1],l=e[0][1],c=e[1][1],s=(n-r)*(l-c)-(i-a)*(o-u);if(!s)return!(n<i&&n<a&&r<i&&r<a||i<n&&a<n&&i<r&&a<r||o<l&&o<c&&u<l&&u<c||l<o&&c<o&&l<u&&c<u);var f=((n-i)*(l-c)-(o-l)*(i-a))/s;if(!(f<0||1<f)){var h=-((n-r)*(o-l)-(o-u)*(n-i))/s;if(!(h<0||1<h))return 1}}function Hv(t){return t&&"number"==typeof t?0<t?1:-1:0}function Pv(o){var u=o.type;(o=o.copy()).type=u;var l=-1e6,t,n=function t(e){var n=o(e),r,i,a,r;return!isNaN(n)&&Math.abs(n)!==1/0||(i=o.range(),r="numeric"!==u?i[0]>i[1]:Hv((a=o.domain())[1]-a[0])!==Hv(i[1]-i[0]),n=l*(r?-1:1)),n};return["domain","range"].forEach(function(e){n[e]=function(){var t=o[e].apply(o,arguments);return t===o?n:t}}),n.copy=function(){return Pv(o)},n.type=o.type,n.step=o.step,n}function Rv(t){return"[object Date]"===Object.prototype.toString.call(t)}function Yv(t){return Rv(t)&&!isNaN(t.getTime())}function Bv(t){return t.split("\n").filter(function(t){return t}).map(function(t){return t.trim()})}var Iv="Input data must be an array or Flourish array";function Wv(t,e){if(!t)throw new TypeError(Iv);if(t.enhanced_array)return t;if(!Array.isArray(t))throw new TypeError(Iv);for(var n=e||function(t){return t},r=0;r<t.length;r++){var i=n(t[r]),a=Kt(i);if("number"===a)return hv(t,e);if("string"===a)return Ev(t,e);if(Rv(i))return vv(t,e)}return hv(t,e)}function Vv(n){var r=Wv([]);return function(t,e){return void 0===t?r:(r=Wv(t,e),n)}}var $v="Testing";function Zv(t){return t*(Math.PI/180)}function Xv(t,n){var r;return t.filter(function(t){var e=n(t);if(e!==r)return r=e,!0})}function Gv(t){var e=void 0!==t.max_space?t.max_space:100,n=void 0!==t.text_height?t.text_height:Cv(1),p=t.max_lines,r=t.angle||0,i,g=document.createElement("canvas").getContext("2d");g.font=t.font;var _=e,a=Zv(r),_=(e-n*Math.sin(a))/Math.cos(a);return function(t){var e=[],n=0,r=g.measureText(t).width;if(r<=_)e.push(t),n=r;else{for(var i=t.trim().split(/\s+/g),a="",o=0;o<i.length;o++){var u=i[o],l=a+(a?" ":"")+u,c=g.measureText(l).width,s,f;if(!(c<=_)){if(!(e.length+1==p)&&a)if(e.push(a),g.measureText(u).width<=_){a=u;continue}for(var h=1,d=l;d=l.substring(0,l.length-h)+"â¦",c=g.measureText(d).width,_<c&&++h<l.length;);n=Math.max(n,c),a=d;break}a=l,n=Math.max(n,c)}e.push(a)}return{lines:e,text_width:n}}}function Qv(r,i){var n=["px","rem","fraction"];i=i||"width";var a=.3,o="fraction",u=function t(){var e=r[i](),n="px"===o?a:"rem"===o?Cv(a):a*e;return{px:n,rem:"rem"===o?a:n/Cv(1),fraction:"fraction"===o?a:n/e,unit:o}};return function(t,e){return void 0===t?u():(a=Math.max(t,0),o=-1!==n.indexOf(e)?e:"px",r)}}function Jv(a,t){var N=t.x,o=Object.freeze([]),u=a.chart.select(".fl-x-axes"),e,n=function t(){return o};return n._update=function t(e){var v=a.xData().string_array?"string":"numeric",n=Dv(vg(".fl-x-axes"),N.tick_label_size,N.tick_label_weight),b="default"===N.tick_label_position?+N.tick_label_angle:90,x=0,w=a.xFormat(),M,k=Cv(N.tick_label_size);u.append("text").style("opacity",0).style("font",n).each(function(){var t=vg(this).text($v).node().getBoundingClientRect();M=t.height}).remove(),"object"===Kt(e[0])&&(e=Xv(e,w));var r=Cv(N.tick_label_space);"auto"===N.tick_label_space_mode&&(r=a.xTicks.autoLabelSpace().px);var i,A=Gv({text_height:M,max_space:r,font:n,angle:90-b,max_lines:N.tick_label_max_lines});return(o=e.map(function(t,e){var n=A(w(t)),r=n.lines,i=n.text_width,a,o,u,l,c,s,f=0,h=M*r.length+(r.length-1)*N.tick_label_line_height,d,p,g,u,l,c,s,a,o,_;0==b||90==b?(u=l=(a=0==b?i+Cv(.5):h)/2,s=c=o=0==b?h:i,90==b&&(f=r.length<2?0:(r.length-1)/2*(k*N.tick_label_line_height))):(d=Zv(b),p=Math.sin(d),a=(u=i*(g=Math.cos(d)))+(l=h*p),o=(c=i*p)+(s=h*g)),"top"!==N.axis_position&&"float-above"!==N.axis_position||(_=u,u=l,l=_,_=c,c=s,s=_,0!=b&&90!=b&&(f=r.length<2?0:(r.length-1)*(k*N.tick_label_line_height))),x=Math.max(x,o);var m="numeric"==v?Uv(t):null,y="numeric"==v?jv(t):null;return Object.freeze({index:e,value:t,lines:r,significant_digits:m,exponent:y,text_width:i,text_height:M,box_width:a,box_height:o,box_width_left:u,box_width_right:l,box_height_left:c,box_height_right:s,multiline_offset:f})})).type=v,o.max_box_height="fixed"===N.tick_label_space_mode?Cv(N.tick_label_space):x,Object.freeze(o),a},n.autoLabelSpace=Qv(a,"height"),n}function Kv(a,t,e){var k=t[e],o=e+"Data",u=e+"Format",l=e+"Ticks",c=Object.freeze([]),s=a.chart.select(".fl-y-axes"),n,r=function t(){return c};return r._update=function t(e){var y=a[o]().string_array?"string":"numeric",n=Dv(vg(".fl-y-axes"),k.tick_label_size,k.tick_label_weight),v="default"===k.tick_label_position?+k.tick_label_angle:0,b=0,x=a[u](),w;s.append("text").style("opacity",0).style("font",n).each(function(){var t=vg(this).text($v).node().getBoundingClientRect();w=t.height}).remove(),"object"===Kt(e[0])&&(e=Xv(e,x));var r=Cv(k.tick_label_space);"auto"===k.tick_label_space_mode&&(r=a[l].autoLabelSpace().px);var i,M=Gv({text_height:w,max_space:r,font:n,angle:v,max_lines:v?1:k.tick_label_max_lines});return(c=e.map(function(t,e){var n=M(x(t)),r=n.lines,i=n.text_width,a,o,u,l,c,s,f=0,h=w*r.length+(r.length-1)*k.tick_label_line_height,d,p,g,u,l,c,s,a,o;0==v||90==v?(l=u=a=v?h:i,c=s=(o=v?i+Cv(.5):h)/2,0==v&&(f=r.length<2?0:(r.length-1)/2*(w*k.tick_label_line_height))):(d=Zv(v),a=(u=h*(p=Math.sin(d)))+(l=i*(g=Math.cos(d))),o=(c=h*g)+(s=i*p)),b=Math.max(b,a);var _="numeric"==y?Uv(t):null,m="numeric"==y?jv(t):null;return Object.freeze({index:e,value:t,lines:r,type:y,significant_digits:_,exponent:m,text_width:i,text_height:w,box_width:a,box_height:o,box_width_above:u,box_width_below:l,box_height_above:c,box_height_below:s,multiline_offset:f})})).type=y,c.max_box_width="fixed"===k.tick_label_space_mode?Cv(k.tick_label_space):b,Object.freeze(c),a},r.autoLabelSpace=Qv(a),r}function tb(t,e){return Kv(t,e,"y")}function eb(t,e){return Kv(t,e,"y2")}function nb(e,t){var n=1<arguments.length&&void 0!==t?t:"x",r=function t(){return e[n+"Scale"]({domain_only:!0}).ticks()},i=r;return function(t){return void 0===t?i:(i=null===t?r:t,e)}}function rb(t){var e=nb(t,"x");return function(t){return e(t)}}function ib(t){var e=nb(t,"y");return function(t){return e(t)}}function ab(t){var e=nb(t,"y2");return function(t){return e(t)}}function ob(e){var n="";return function(t){return void 0===t?n:(n=t,e)}}function ub(e,n){return e.xAutoTitle=ob(e),e.xAutoTitle("X"),function(){var t;return("auto"===n.x.title_mode?e.xAutoTitle():n.x.title).trim()}}function lb(e,n){return e.yAutoTitle=ob(e),e.yAutoTitle("Y"),function(){var t;return("auto"===n.y.title_mode?e.yAutoTitle():n.y.title).trim()}}function cb(e,n){return e.y2AutoTitle=ob(e),e.y2AutoTitle("Y2"),function(){var t;return("auto"===n.y2.title_mode?e.y2AutoTitle():n.y2.title).trim()}}function sb(t,e){var n=e.x,r=t.xTitle();if("off"===n.axis_visible||!r)return 0;var i=t.chart.select(".fl-x-axis .fl-axis-title"),a=Dv(i,n.title_size,n.title_weight),o=i.append("text").text(r).style("opacity",0).style("font",a),u=o.node().getBoundingClientRect().height;return o.remove(),u+2*Cv(n.title_padding)}function fb(t,e){var n=e.y,r=t.yTitle();if(!n.axis_visible||!r)return 0;var i=t.chart.select(".fl-left-axis .fl-axis-title"),a=Dv(i,n.title_size,n.title_weight),o=i.append("text").text(r).style("opacity",0).style("font",a),u=o.node().getBoundingClientRect().height;return o.remove(),u+2*Cv(n.title_padding)}function hb(t,e){var n=e.y2,r=t.y2Title();if(!n.axis_visible||!r)return 0;var i=t.chart.select(".fl-right-axis .fl-axis-title"),a=Dv(i,n.title_size,n.title_weight),o=i.append("text").text(r).style("opacity",0).style("font",a),u=o.node().getBoundingClientRect().height;return o.remove(),u+2*Cv(n.title_padding)}function db(t,e){var n=e.x,r=n.axis_position;if("off"===r)return 0;var i=0,a=0,o=0,u,i,o,a,l;return"top"!==r&&"bottom"!=r||(i=(u=t.xTicks()).length&&"out"===n.tick_side&&"default"===n.tick_label_position?Cv(n.tick_length):0,o=u.max_box_height||0,a=u.length?Cv(n.tick_padding):0),i+a+o+sb(t,e)}function pb(t,e){var n=e.x,r=0;t.xHide()||-1===["top","float-above"].indexOf(n.axis_position)||(r=db(t,e));var i=0,a=0,o=t.yHide()?[]:t.yTicks(),u;o.length&&(u=o[o.length-1],"default"==e.y.tick_label_position?i=.9*u.box_height_above:"above"==e.y.tick_label_position&&(i+=u.box_height));var l=t.y2Hide()?[]:t.y2Ticks(),c;l.length&&(c=l[l.length-1],"default"==e.y2.tick_label_position?a=.9*c.box_height_above:"above"==e.y2.tick_label_position&&(a+=c.box_height));var s=Math.max(Cv(.25),i,a);return Math.max(r,s)}function gb(t,e){var n=e.x,r=0;t.xHide()||-1===["bottom","float-below"].indexOf(n.axis_position)||(r=db(t,e));var i=0,a=0,o=t.yHide()?[]:t.yTicks(),u;o.length&&(u=o[0],"default"==e.y.tick_label_position?i=.9*u.box_height_below:"below"==e.y.tick_label_position&&(i+=u.box_height));var l=t.y2Hide()?[]:t.y2Ticks(),c;l.length&&(c=l[0],"default"==e.y2.tick_label_position?a=.9*c.box_height_below:"below"==e.y2.tick_label_position&&(a+=c.box_height));var s=Math.max(Cv(.25),i,a);return Math.max(r,s)}function _b(t,e){var n=e.y,r=0,i,a,o,u,l,r;n.axis_visible&&(r=((i=t.yHide()?[]:t.yTicks()).length&&"out"===n.tick_side&&"default"===n.tick_label_position?Cv(n.tick_length):0)+(i.length?Cv(n.tick_padding):0)+(i.max_box_width||0)+(t.yHide()?0:fb(t,e)));var c=Cv(.25),s=0,f=t.xHide()?[]:t.xTicks(),h;return f.length&&(h=f[0],"default"==e.x.tick_label_position?s=.9*h.box_width_left:"left"==e.x.tick_label_position&&(s=h.box_width),c=Math.max(c,s)),Math.max(r,c)}function mb(t,e){var n=e.y2,r=0,i,a,o,u,l,r;n.axis_visible&&(r=((i=t.y2Hide()?[]:t.y2Ticks()).length&&"out"===n.tick_side&&"default"===n.tick_label_position?Cv(n.tick_length):0)+(i.length?Cv(n.tick_padding):0)+(i.max_box_width||0)+(t.y2Hide()?0:hb(t,e)));var c=Cv(.25),s=0,f=t.xHide()?[]:t.xTicks(),h;return f.length&&(h=f[f.length-1],"default"==e.x.tick_label_position?s=.9*h.box_width_right:"right"==e.x.tick_label_position&&(s=h.box_width),c=Math.max(c,s)),Math.max(r,c)}function yb(n,r){var i,a,o,u,t,e=function t(){return{top:i,right:a,bottom:o,left:u}};return e._update=function t(e){i=void 0!==(e=e||{}).top?e.top:pb(n,r),a=void 0!==e.right?e.right:mb(n,r),o=void 0!==e.bottom?e.bottom:gb(n,r),u=void 0!==e.left?e.left:_b(n,r)},Object.defineProperty(e,"top",{get:function t(){return i}}),Object.defineProperty(e,"right",{get:function t(){return a}}),Object.defineProperty(e,"bottom",{get:function t(){return o}}),Object.defineProperty(e,"left",{get:function t(){return u}}),e}function vb(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function bb(r){var a=r,o=r;function u(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=1+i:r=i}return n}function t(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=1+i}return n}function e(t,e,n,r){null==n&&(n=0),null==r&&(r=t.length);var i=u(t,e,n,r-1);return n<i&&a(t[i-1],e)>-a(t[i],e)?i-1:i}return 1===r.length&&(a=function t(e,n){return r(e)-n},o=xb(r)),{left:u,center:e,right:t}}function xb(n){return function(t,e){return vb(n(t),e)}}function wb(t){return null===t?NaN:+t}var Mb,kb=bb(vb).right;bb(wb).center;var Ab=Math.sqrt(50),Nb=Math.sqrt(10),Tb=Math.sqrt(2);function Sb(t,e,n){var r,i=-1,a,o,u;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(u=Cb(t,e,n))||!isFinite(u))return[];if(0<u){var l=Math.round(t/u),c=Math.round(e/u);for(l*u<t&&++l,e<c*u&&--c,o=new Array(a=c-l+1);++i<a;)o[i]=(l+i)*u}else{u=-u;var s=Math.round(t*u),f=Math.round(e*u);for(s/u<t&&++s,e<f/u&&--f,o=new Array(a=f-s+1);++i<a;)o[i]=(s+i)/u}return r&&o.reverse(),o}function Cb(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return 0<=i?(Ab<=a?10:Nb<=a?5:Tb<=a?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(Ab<=a?10:Nb<=a?5:Tb<=a?2:1)}function Eb(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return Ab<=a?i*=10:Nb<=a?i*=5:Tb<=a&&(i*=2),e<t?-i:i}function zb(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Db(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Fb=Symbol("implicit");function Lb(){var a=new Map,o=[],r=[],i=Fb;function u(t){var e=t+"",n=a.get(e);if(!n){if(i!==Fb)return i;a.set(e,n=o.push(t))}return r[(n-1)%r.length]}return u.domain=function(t){if(!arguments.length)return o.slice();o=[],a=new Map;var e=fe(t),n;try{for(e.s();!(n=e.n()).done;){var r=n.value,i=r+"";a.has(i)||a.set(i,o.push(r))}}catch(t){e.e(t)}finally{e.f()}return u},u.range=function(t){return arguments.length?(r=Array.from(t),u):r.slice()},u.unknown=function(t){return arguments.length?(i=t,u):i},u.copy=function(){return Lb(o,r).unknown(i)},Db.apply(u,arguments),u}function Ob(){var t=Lb().unknown(void 0),a=t.domain,o=t.range,u=0,l=1,c,s,f=!1,h=0,d=0,p=.5;function r(){var t=a().length,e=l<u,n=e?l:u,r=e?u:l;c=(r-n)/Math.max(1,t-h+2*d),f&&(c=Math.floor(c)),n+=(r-n-c*(t-h))*p,s=c*(1-h),f&&(n=Math.round(n),s=Math.round(s));var i=zb(t).map(function(t){return n+c*t});return o(e?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(a(t),r()):a()},t.range=function(t){var e,n;return arguments.length?(n=ee(t,2),u=n[0],l=n[1],u=+u,l=+l,r()):[u,l]},t.rangeRound=function(t){var e,n,e,n=ee(t,2);return u=n[0],l=n[1],u=+u,l=+l,f=!0,r()},t.bandwidth=function(){return s},t.step=function(){return c},t.round=function(t){return arguments.length?(f=!!t,r()):f},t.padding=function(t){return arguments.length?(h=Math.min(1,d=+t),r()):h},t.paddingInner=function(t){return arguments.length?(h=Math.min(1,t),r()):h},t.paddingOuter=function(t){return arguments.length?(d=+t,r()):d},t.align=function(t){return arguments.length?(p=Math.max(0,Math.min(1,t)),r()):p},t.copy=function(){return Ob(a(),[u,l]).round(f).paddingInner(h).paddingOuter(d).align(p)},Db.apply(r(),arguments)}function jb(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jb(e())},t}function Ub(){return jb(Ob.apply(null,arguments).paddingInner(1))}function qb(t){return function(){return t}}function Hb(t){return+t}var Pb=[0,1];function Rb(t){return t}function Yb(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:qb(isNaN(n)?NaN:.5)}function Bb(e,n){var t;return n<e&&(t=e,e=n,n=t),function(t){return Math.max(e,Math.min(n,t))}}function Ib(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1],a=i<r?(r=Yb(i,r),n(o,a)):(r=Yb(r,i),n(a,o));return function(t){return a(r(t))}}function Wb(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Yb(n[o],n[o+1]),a[o]=e(t[o],t[o+1]);return function(t){var e=kb(n,t,1,r)-1;return a[e](i[e](t))}}function Vb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $b(){var e=Pb,n=Pb,r=ir,i,a,o,u=Rb,l,c,s;function f(){var t=Math.min(e.length,n.length);return u!==Rb&&(u=Bb(e[0],e[t-1])),l=2<t?Wb:Ib,c=s=null,h}function h(t){return isNaN(t=+t)?o:(c=c||l(e.map(i),n,r))(i(u(t)))}return h.invert=function(t){return u(a((s=s||l(n,e.map(i),Qn))(t)))},h.domain=function(t){return arguments.length?(e=Array.from(t,Hb),f()):e.slice()},h.range=function(t){return arguments.length?(n=Array.from(t),f()):n.slice()},h.rangeRound=function(t){return n=Array.from(t),r=ar,f()},h.clamp=function(t){return arguments.length?(u=!!t||Rb,f()):u!==Rb},h.interpolate=function(t){return arguments.length?(r=t,f()):r},h.unknown=function(t){return arguments.length?(o=t,h):o},function(t,e){return i=t,a=e,f()}}function Zb(){return $b()(Rb,Rb)}function Xb(t,e,n,r){var i=Eb(t,e,n),a;switch((r=Br(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=ri(i,o))||(r.precision=a),Kr(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=ii(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=ni(i))||(r.precision=a-2*("%"===r.type))}return Jr(r)}function Gb(c){var s=c.domain;return c.ticks=function(t){var e=s();return Sb(e[0],e[e.length-1],null==t?10:t)},c.tickFormat=function(t,e){var n=s();return Xb(n[0],n[n.length-1],null==t?10:t,e)},c.nice=function(t){null==t&&(t=10);var e=s(),n=0,r=e.length-1,i=e[n],a=e[r],o,u,l=10;for(a<i&&(u=i,i=a,a=u,u=n,n=r,r=u);0<l--;){if((u=Cb(i,a,t))===o)return e[n]=i,e[r]=a,s(e);if(0<u)i=Math.floor(i/u)*u,a=Math.ceil(a/u)*u;else{if(!(u<0))break;i=Math.ceil(i*u)/u,a=Math.floor(a*u)/u}o=u}return c},c}function Qb(){var t=Zb();return t.copy=function(){return Vb(t,Qb())},Db.apply(t,arguments),Gb(t)}function Jb(t,e){var n=0,r=(t=t.slice()).length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function Kb(t){return Math.log(t)}function tx(t){return Math.exp(t)}function ex(t){return-Math.log(-t)}function nx(t){return-Math.exp(-t)}function rx(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ix(e){return 10===e?rx:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function ax(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function ox(e){return function(t){return-e(-t)}}function ux(t){var e=t(Kb,tx),h=e.domain,d=10,p,g;function n(){return p=ax(d),g=ix(d),h()[0]<0?(p=ox(p),g=ox(g),t(ex,nx)):t(Kb,tx),e}return e.base=function(t){return arguments.length?(d=+t,n()):d},e.domain=function(t){return arguments.length?(h(t),n()):h()},e.ticks=function(t){var e=h(),n=e[0],r=e[e.length-1],i;(i=r<n)&&(a=n,n=r,r=a);var a=p(n),o=p(r),u,l,c,s=null==t?10:+t,f=[];if(!(d%1)&&o-a<s){if(a=Math.floor(a),o=Math.ceil(o),0<n){for(;a<=o;++a)for(l=1,u=g(a);l<d;++l)if(!((c=u*l)<n)){if(r<c)break;f.push(c)}}else for(;a<=o;++a)for(l=d-1,u=g(a);1<=l;--l)if(!((c=u*l)<n)){if(r<c)break;f.push(c)}2*f.length<s&&(f=Sb(n,r,s))}else f=Sb(a,o,Math.min(o-a,s)).map(g);return i?f.reverse():f},e.tickFormat=function(t,n){if(null==n&&(n=10===d?".0e":","),"function"!=typeof n&&(n=Jr(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,d*t/e.ticks().length);return function(t){var e=t/g(Math.round(p(t)));return e*d<d-.5&&(e*=d),e<=r?n(t):""}},e.nice=function(){return h(Jb(h(),{floor:function t(e){return g(Math.floor(p(e)))},ceil:function t(e){return g(Math.ceil(p(e)))}}))},e}function lx(){var t=ux($b()).domain([1,10]);return t.copy=function(){return Vb(t,lx()).base(t.base())},Db.apply(t,arguments),t}var cx=1e3,sx=60*cx,fx=60*sx,hx=24*fx,dx=7*hx,px=30*hx,gx=365*hx;function _x(t){return new Date(t)}function mx(t){return t instanceof Date?+t:+new Date(+t)}function yx(o,e,n,r,i,a,u,l,c){var s=Zb(),f=s.invert,h=s.domain,d=c(".%L"),p=c(":%S"),g=c("%I:%M"),_=c("%I %p"),m=c("%a %d"),y=c("%b %d"),v=c("%B"),b=c("%Y"),x=[[u,1,cx],[u,5,5*cx],[u,15,15*cx],[u,30,30*cx],[a,1,sx],[a,5,5*sx],[a,15,15*sx],[a,30,30*sx],[i,1,fx],[i,3,3*fx],[i,6,6*fx],[i,12,12*fx],[r,1,hx],[r,2,2*hx],[n,1,dx],[e,1,px],[e,3,3*px],[o,1,gx]];function w(t){return(u(t)<t?d:a(t)<t?p:i(t)<t?g:r(t)<t?_:e(t)<t?n(t)<t?m:y:o(t)<t?v:b)(t)}function M(t,e,n){if(null==t&&(t=10),"number"!=typeof t)return t;var r=Math.abs(n-e)/t,i=bb(function(t){return t[2]}).right(x,r),a;return(t=i===x.length?(a=Eb(e/gx,n/gx,t),o):i?(a=(i=x[r/x[i-1][2]<x[i][2]/r?i-1:i])[1],i[0]):(a=Math.max(Eb(e,n,t),1),l)).every(a)}return s.invert=function(t){return new Date(f(t))},s.domain=function(t){return arguments.length?h(Array.from(t,mx)):h().map(_x)},s.ticks=function(t){var e=h(),n=e[0],r=e[e.length-1],i=r<n,a;return i&&(a=n,n=r,r=a),a=(a=M(t,n,r))?a.range(n,r+1):[],i?a.reverse():a},s.tickFormat=function(t,e){return null==e?w:c(e)},s.nice=function(t){var e=h();return(t=M(t,e[0],e[e.length-1]))?h(Jb(e,t)):s},s.copy=function(){return Vb(s,yx(o,e,n,r,i,a,u,l,c))},s}function vx(){return Db.apply(yx(Ni,Ai,wi,bi,vi,yi,mi,fi,dm).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var bx=1e3;function xx(t,e){var n=e.edge_padding,r,i=e.flip?t.unique().reverse():t.unique(),a=Ub().domain(i).padding(n/100);return a.type="ordinal",a}function wx(t,e){var n=e.min,r=e.max,i=e.include_zero,a=e.nice,o=e.flip,u=100,l,c,l;return n===r&&(n=r=null),null!==n&&null!==r?o?[r,n]:[n,r]:(t.range?(l=t.extent(),a&&(l=Qb().domain(l).nice().domain()),i&&(0<=l[0]?l[0]=0:l[1]<0&&(l[1]=0))):l=t.length?0<(c=t.min)?[0,2*c]:c<0?[2*c,0]:[-50,50]:[0,100],null!==n?(l[0]=n,l[0]===l[1]&&(l[1]=n+(t.range||100))):null!==r&&(l[1]=r,l[0]===l[1]&&(l[0]=r-(t.range||100))),o?l.reverse():l)}function Mx(t,e){var n=wx(t,e),r=Qb().domain(n);return r.type="numeric",r}function kx(t,e){var n=e.min,r=e.max,i=e.nice,a=e.flip,o=t.extent();o[0]<=0&&(0<o[1]?o[0]=Math.min(1,o[1]/bx):o[0]=1),o[1]<=o[0]&&(o[1]=bx*o[0]);var u=lx().domain(o);i&&u.nice();var l=u.domain();return n===r&&(n=r=null),0<n&&(l[0]=n),0<r&&(l[1]=r),u.domain(a?l.reverse():l),u.type="numeric",u}function Ax(t,e){var n=e.min,r=e.max,i=e.format,a=e.nice,o=e.flip,u=t.extent(),l=vx().domain(u);a&&l.nice(),i&&l.tickFormat(null,i);var c=l.domain();return n===r&&(n=r=null),n&&(c[0]=i(n)),r&&(c[1]=i(r)),l.domain(o?c.reverse():c),l.type="datetime",l}function Nx(t,e){if(e.step)return e.step();var n=t.uniqueAscending().map(function(t){return e(t)}),r=n.length;if(r<2)return 0;for(var i=1/0,a=1;a<r;a++)var o=Math.abs(n[a]-n[a-1]),i=Math.min(i,o);return i}function Tx(a){var o=["px","steps"],u=0,l=0,c="px";return function(t){if(void 0===t)return{left:u,right:l,unit:c};var e=t.unit;if(e&&!o.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));var n=t.left;u=void 0===n?u:n;var r=t.right;l=void 0===r?l:r;var i=t.unit;return c=void 0===i?c:i,a}}function Sx(t,e,n){var r={left:0,right:0},i=t.xData();if(i.string_array)return r;var a=t.xPadding(),o=a.left,u=a.right,l=a.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==l)return r;if("px"===l||!o&&!u)return{left:o,right:u};var c=i.uniqueAscending(),s=c.length;if(s<2)return r;for(var f=1/0,h=1;h<s;h++)var d=Math.abs(c[h]-c[h-1]),f=Math.min(f,d);var p,g,_=(Math.max.apply(Math,ne(n))-Math.min.apply(Math,ne(n))+(o+u)*f)/f,m=t.plot_width/_;return{left:o*m,right:u*m}}function Cx(p,t){var g=t.x;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=p.xData(),n={nice:g.nice},r;e.string_array?(r=xx,n.edge_padding=g.edge_padding,n.flip=g.flip):e.datetime_array?(r=Ax,n.min=g.datetime_min,n.max=g.datetime_max,n.flip=g.flip,n.format=p.xDatetimeParse()):"log"===g.numeric_scale_type?(r=kx,n.min=g.log_min,n.max=g.log_max,n.flip=g.flip):(r=Mx,n.min=g.linear_min,n.max=g.linear_max,n.flip=g.flip,n.include_zero="off"!==g.zero_axis&&("on"===g.zero_axis||p.xZeroAxis()));var i=r(e,n);if(t.domain_only)return i;var a=p.plot_width,o=p.margins.left,u=Sx(p,g,i.domain()),l=u.left,c,s,f=o+l,h=[f,f+(a-(l+u.right))],d=t.global&&p.offsetLeft();return d&&(h=h.map(function(t){return t+d})),i.range(h)}}function Ex(t){return function(){return Nx(t.xData(),t.xScale())}}function zx(a){var o=["px","steps"],u=0,l=0,c="px";return function(t){if(void 0===t)return{bottom:u,top:l,unit:c};var e=t.unit;if(e&&!o.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));var n=t.bottom;u=void 0===n?u:n;var r=t.top;l=void 0===r?l:r;var i=t.unit;return c=void 0===i?c:i,a}}function Dx(t,e,n){var r={bottom:0,top:0},i=t.yData();if(i.string_array)return r;var a=t.yPadding(),o=a.bottom,u=a.top,l=a.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==l)return r;if("px"===l||!o&&!u)return{bottom:o,top:u};var c=i.uniqueAscending(),s=c.length;if(s<2)return r;for(var f=1/0,h=1;h<s;h++)var d=Math.abs(c[h]-c[h-1]),f=Math.min(f,d);var p,g,_=(Math.max.apply(Math,ne(n))-Math.min.apply(Math,ne(n))+(o+u)*f)/f,m=t.plot_height/_;return{bottom:o*m,top:u*m}}function Fx(p,t){var g=t.y;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=p.yData(),n={nice:g.nice},r;e.string_array?(r=xx,n.edge_padding=g.edge_padding,n.flip=g.flip):e.datetime_array?(r=Ax,n.min=g.datetime_min,n.max=g.datetime_max,n.flip=g.flip,n.format=p.yDatetimeParse()):"log"===g.numeric_scale_type?(r=kx,n.min=g.log_min,n.max=g.log_max,n.flip=g.flip):(r=Mx,n.min=g.linear_min,n.max=g.linear_max,n.flip=g.flip,n.include_zero="off"!==g.zero_axis&&("on"===g.zero_axis||p.yZeroAxis()));var i=r(e,n);if(t.domain_only)return i;var a=p.plot_height,o=p.margins.top,u=Dx(p,g,i.domain()),l=u.bottom,c=u.top,s=a-(l+c),f=t.global&&p.offsetTop(),h=o+c,d=[h+s,h];return f&&(d=d.map(function(t){return t+f})),i.range(d)}}function Lx(t){return function(){return Nx(t.yData(),t.yScale())}}function Ox(a){var o=["px","steps"],u=0,l=0,c="px";return function(t){if(void 0===t)return{bottom:u,top:l,unit:c};var e=t.unit;if(e&&!o.includes(e))throw new Error('Unit "'.concat(e,'" not recognised'));var n=t.bottom;u=void 0===n?u:n;var r=t.top;l=void 0===r?l:r;var i=t.unit;return c=void 0===i?c:i,a}}function jx(t,e,n){var r={bottom:0,top:0},i=t.y2Data();if(i.string_array)return r;var a=t.y2Padding(),o=a.bottom,u=a.top,l=a.unit;if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==l)return r;if("px"===l||!o&&!u)return{bottom:o,top:u};var c=i.uniqueAscending(),s=c.length;if(s<2)return r;for(var f=1/0,h=1;h<s;h++)var d=Math.abs(c[h]-c[h-1]),f=Math.min(f,d);var p,g,_=(Math.max.apply(Math,ne(n))-Math.min.apply(Math,ne(n))+(o+u)*f)/f,m=t.plot_width/_;return{bottom:o*m,top:u*m}}function Ux(p,t){var g=t.y2;return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=p.y2Data(),n={nice:g.nice},r;e.string_array?(r=xx,n.edge_padding=g.edge_padding,n.flip=g.flip):e.datetime_array?(r=Ax,n.min=g.datetime_min,n.max=g.datetime_max,n.flip=g.flip,n.format=p.y2DatetimeParse()):"log"===g.numeric_scale_type?(r=kx,n.min=g.log_min,n.max=g.log_max,n.flip=g.flip):(r=Mx,n.min=g.linear_min,n.max=g.linear_max,n.flip=g.flip,n.include_zero="off"!==g.zero_axis&&("on"===g.zero_axis||p.y2ZeroAxis()));var i=r(e,n);if(t.domain_only)return i;var a=p.plot_height,o=p.margins.top,u=jx(p,g,i.domain()),l=u.bottom,c=u.top,s=a-(l+c),f=t.global&&p.offsetTop(),h=o+c,d=[h+s,h];return f&&(d=d.map(function(t){return t+f})),i.range(d)}}function qx(t){return function(){return Nx(t.y2Data(),t.y2Scale())}}function Hx(e){var n=!1;return function(t){return void 0===t?n:(n=!!t,e)}}function Px(e){var n=!1,r=!1;return function(t){return void 0===t?!!n&&{keep_gridlines:r}:(n=!!t,r=!(!t||"object"!==Kt(t)||!t.keep_gridlines),e)}}function Rx(t){return t.length?Rv(t[0])?Array.from(new Set(t.map(function(t){return t.getTime()}))).map(function(t){return new Date(t)}):Array.from(new Set(t)):t.slice()}function Yx(t,e,n){var r=2<arguments.length&&void 0!==n?n:"x",i=e[r],a=t[r+"Scale"]({domain_only:!0}),o=t[r+"Data"](),u,l,c,s,f,h,c,d,p,g,_,u;return u=("x"===r?"off"===i.axis_position:!i.axis_visible)?[]:o.string_array?a.domain():"number"===i.tick_mode?a.ticks(i.tick_number):(s=o.datetime_array,c=Rx(c="custom"===i.tick_mode?(h=t[r+(s?"Datetime":"Number")+"Parse"](),Bv(i.tick_custom).map(function(t){return h(t)})):(d=t[r+"AutoTicks"](),Array.isArray(d)?d:d())),p=a.domain(),g=Math.min.apply(Math,ne(p)),_=Math.max.apply(Math,ne(p)),s?c.filter(function(t){return Yv(t)&&g<=t&&t<=_}):c.filter(function(t){return!isNaN(t)&&g<=t&&t<=_}))}function Bx(e,n){var t=function t(){e.xTicks._update(Yx(e,n,"x"))},r=function t(){e.yTicks._update(Yx(e,n,"y"))},i=function t(){e.y2Ticks._update(Yx(e,n,"y2"))};return function(){t(),r(),i()}}function Ix(g,_){var m=g.chart.select("clipPath.fl-data-clip-path"),y=m.select("rect"),v=g.chart.select("clipPath.fl-grid-clip-path"),b=v.select("rect"),x=g.chart.select(".fl-data-background"),w=g.chart.select(".fl-data-foreground"),M=g.chart.select(".fl-gridlines");return function(){var t=g.identifier()+"-clip-path",e="url(#"+t+")";m.attr("id",t);var n=g.identifier()+"-grid-clip-path",r="url(#"+n+")";v.attr("id",n),x.attr("clip-path",e),w.attr("clip-path",e),M.attr("clip-path",r);var i=g.x_left,a=g.x_right,o=g.y_top,u=g.y_bottom,l=g.clip(),c=l.left?i:0,s=l.top?o:0,f=Math.max((l.right?a:g.width())-c,1),h=Math.max((l.bottom?u:g.height())-s,1);y.attr("x",c).attr("y",s).attr("width",f).attr("height",h);var d=Cv(_.x.gridline_width,!0),p=Cv(_.y.gridline_width,!0);b.transition().duration(g.animationDuration()).attr("x",i-d).attr("y",o-p).attr("width",a-i+2*d).attr("height",u-o+2*p)}}function Wx(o,t){var u=t.background,l=o.chart.select("rect.fl-chart-fill"),c=o.chart.select("image.fl-chart-image"),s=o.chart.select("rect.fl-chart-interaction");return function(){var t=o.xScale().range(),e=o.yScale().range(),n=t[0],r=e[1],i=Math.max(o.plot_width,1),a=Math.max(o.plot_height,1);l.attr("x",n).attr("y",r).attr("width",i).attr("height",a).attr("fill",u.background_color_enabled?u.background_color:"none"),c.attr("x",n).attr("y",r).attr("width",i).attr("height",a).attr("xlink:href",u.background_image_enabled?u.background_image_src:null).attr("preserveAspectRatio",function(){return"stretch"==u.background_image_size?"none":u.background_image_position+" "+u.background_image_size}),s.attr("x",n).attr("y",r).attr("width",i).attr("height",a)}}function Vx(t,e){var n=t.significant_digits-e.significant_digits;return n||((n=e.exponent-t.exponent)||(n=Math.abs(e.value)-Math.abs(t.value))?n:n=e.value-t.value)}function $x(t){t.style("user-select","none").style("-moz-user-select","none").style("-webkit-user-select","none").style("-ms-user-select","none").style("cursor","default")}function Zx(x,w){var M=w.x,k,A,N,T,S,C,E,z,D,F,L,O,j,U,q,H,a,P,R,Y;function n(){k=Pv(x.xScale()),A=Pv(x.yScale()),N=a?x.animationDuration():0,O=x.x_left,U=x.x_right,j=(O+U)/2,void 0===q&&(q=O),P=(a=a||k).type===k.type&&"ordinal"!==k.type?a:k,R=a.type===k.type&&"ordinal"!==a.type?k:a,T=M.line_and_tick_color,S=Cv(M.line_and_tick_width,!0),C=M.tick_label_color;var t="default"===M.tick_label_position,e=x.xTicks(),n=e.max_box_height,r=e.length?Cv(M.tick_padding):0;"top"!=M.axis_position&&"bottom"!=M.axis_position||(n+=r);var i="out"===M.tick_side;E=t?Cv(M.tick_length)*(i?1:-1):n,z=Cv(M.tick_label_size),D=(i&&t?E:0)+r,F=Cv(M.title_size),L=x.xTitle()}var r=(t=x.chart.select("g.fl-bottom-axis"),B=t.select("g.fl-axis-line"),I=t.select("g.fl-axis-ticks"),W=t.select("g.fl-axis-title"),function(){var h=M.axis_position,t={pos:h},e=!x.xHide()&&-1!==["bottom","float-below"].indexOf(h),n=e?x.xTicks():[],r=x.y_bottom;void 0===V&&(V=r);var i=r+Cv(M.title_padding);function a(t,e){return void 0===t||isNaN(t)?e:t}"bottom"===h&&(i+=D+n.max_box_height,t.extended_gridline=r+D+n.max_box_height);var o=V,u=r;"float-below"===h&&(o=a((Y||A)(M.y_axis_position),V),u=a(A(M.y_axis_position),r));var l=B.selectAll("line").data(e&&M.line_visible?[k.domain()]:[]);l.exit().style("stroke",T).style("stroke-width",S).transition().duration(N).attr("x1",O).attr("x2",U).attr("y1",u).attr("y2",u).style("opacity",0).remove();var c=l.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",S).attr("x1",q).attr("x2",H).attr("y1",o).attr("y2",o).style("opacity",0);l.merge(c).style("stroke",T).style("stroke-width",S).transition().duration(N).attr("x1",O).attr("x2",U).attr("y1",u).attr("y2",u).style("opacity",1);var s=e?n:[];"numeric"===n.type&&"custom"!==M.tick_mode&&(s=n.slice().sort(Vx));var f=function t(e){var n="default"==M.tick_label_position?-M.tick_label_angle:-90,r=Lv(n,0,0);if("default"===M.tick_label_position)return 0==n?Fv(e.text_width/2,D+.66*z):-90==n?Fv(0,D)+" "+r+" "+Fv(0,.33*z-e.multiline_offset):Fv(0,D)+" "+r+" "+Fv(0,.66*z);var i="left"===M.tick_label_position?-.3:1;return Fv(0,D)+" "+r+" "+Fv(0,z*i)},d=I.selectAll("g").data(s,function(t){return t.type+"-"+t.value}),p=d.exit();p.transition().duration(N).attr("transform",function(t){return Fv(R(t.value),u)}).style("opacity",0).remove(),p.each(function(){var t=vg(this);t.select("line").style("stroke",T).style("stroke-width",S).transition().duration(N).attr("y2",E),t.select("text").style("fill",C).style("font-size",z+"px").style("font-weight",M.tick_label_weight).attr("transform",f).transition().duration(N)});var g=d.enter().append("g").style("opacity",0);g.attr("transform",function(t){return Fv(P(t.value),o)}),g.each(function(){var t=vg(this);t.append("line").attr("y2",E),t.append("text").attr("text-anchor","middle").attr("transform",f).call($x)});var _=d.merge(g);_.transition().duration(N).style("opacity",1).attr("transform",function(t){return Fv(k(t.value),u)});var m=(y=[],v=u+D,function(t){var e=k(t.value);if("float-below"===h){var n=k.range(),r,i;if(w.y.axis_visible&&e-t.box_width_left<n[0])return 0;if(w.y2.axis_visible&&e+t.box_width_right>n[1])return 0}for(var a=[e,v],o,u,l=[a,[e+t.box_width_right,v+t.box_height_right]],c=[a,[e-t.box_width_left,v+t.box_height_left]],s=0;s<y.length;s++){var f=y[s];if(e<=f.x_anchor){if(qv(l,f.q))return 0}else if(qv(f.p,c))return 0}return y.push({x_anchor:e,p:l,q:c}),1}),y,v;_.each(function(){var t=vg(this);t.select("line").style("stroke",T).style("stroke-width",S).transition().duration(N).attr("y2",E),t.select("text").each(function(){var t=vg(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?M.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).attr("text-anchor","end").style("fill",C).style("font-size",z+"px").style("font-weight",M.tick_label_weight).transition().duration(N).style("opacity",m).attr("transform",f)});var b=W.selectAll("text").data(e&&L?[L]:[]);return b.exit().remove(),b.enter().append("text").attr("text-anchor","middle").style("font-size",F+"px").style("fill",M.title_color).style("font-weight",M.title_weight).call($x).transition().duration(0).delay(N).text(function(t){return t}).attr("x",j).attr("y",i).attr("dy",F),b.text(function(t){return t}).style("fill",M.title_color).style("font-size",F+"px").style("font-weight",M.title_weight).transition().duration(N).attr("x",j).attr("y",i).attr("dy",F),V=r,"bottom"==h?t:null}),t,B,I,W,V,i=(e=x.chart.select("g.fl-top-axis"),b=e.select("g.fl-axis-line"),$=e.select("g.fl-axis-ticks"),Z=e.select("g.fl-axis-title"),function(){var h=M.axis_position,t={pos:h},e=!x.xHide()&&-1!==["top","float-above"].indexOf(h),n=e?x.xTicks():[],r=x.y_top;void 0===X&&(X=r);var i=r-Cv(M.title_padding);"top"===h&&(i-=D+n.max_box_height,t.extended_gridline=r-(D+n.max_box_height));var a="float-above"===h?(Y||A)(M.y_axis_position):X,o="float-above"===h?A(M.y_axis_position):r,u=b.selectAll("line").data(e&&M.line_visible?[k.domain()]:[]);u.exit().style("stroke",T).style("stroke-width",S).transition().duration(N).attr("x1",O).attr("x2",U).attr("y1",o).attr("y2",o).style("opacity",0).remove();var l=u.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",S).attr("x1",q).attr("x2",q).attr("y1",a).attr("y2",a).style("opacity",0);u.merge(l).style("stroke",T).style("stroke-width",S).transition().duration(N).attr("x1",O).attr("x2",U).attr("y1",o).attr("y2",o).style("opacity",1);var c=[];e&&(c="numeric"===n.type?n.slice().sort(Vx):n);var s=function t(e){var n="default"==M.tick_label_position?-M.tick_label_angle:-90,r=Lv(n,0,0);if("default"===M.tick_label_position)return 0==n?Fv(-e.text_width/2,-(D+.33*z)):-90==n?Fv(0,-D)+" "+r+" "+Fv(0,.33*z-e.multiline_offset):Fv(0,-D)+" "+r+Fv(0,-e.multiline_offset);var i="left"===M.tick_label_position?-.3:1;return Fv(0,-D)+" "+r+" "+Fv(0,z*i)},f=$.selectAll("g").data(c,function(t){return t.type+"-"+t.value}),d=f.exit();d.transition().duration(N).attr("transform",function(t){return Fv(R(t.value),o)}).style("opacity",0).remove(),d.each(function(){var t=vg(this);t.select("line").style("stroke",T).style("stroke-width",S).transition().duration(N).attr("y2",-E),t.select("text").style("fill",C).style("font-size",z+"px").style("font-weight",M.tick_label_weight).attr("transform",s).transition().duration(N)});var p=f.enter().append("g").style("opacity",0);p.attr("transform",function(t){return Fv(P(t.value),a)}),p.each(function(){var t=vg(this);t.append("line").attr("y2",-E),t.append("text").attr("text-anchor","middle").attr("transform",s).call($x)});var g=f.merge(p);g.transition().duration(N).style("opacity",1).attr("transform",function(t){return Fv(k(t.value),o)});var _=(m=[],y=o+D,function(t){var e=k(t.value);if("float-above"===h){var n=k.range(),r,i;if(w.y.axis_visible&&e-t.box_width_left<n[0])return 0;if(w.y2.axis_visible&&e+t.box_width_right>n[1])return 0}for(var a=[e,y],o,u,l=[a,[e-t.box_width_left,y-t.box_height_left]],c=[a,[e+t.box_width_right,y-t.box_height_right]],s=0;s<m.length;s++){var f=m[s];if(e<=f.x_anchor){if(qv(c,f.p))return 0}else if(qv(l,f.q))return 0}return m.push({x_anchor:e,p:l,q:c}),1}),m,y;g.each(function(){var t=vg(this);t.select("line").style("stroke",T).style("stroke-width",S).transition().duration(N).attr("y2",-E),t.select("text").each(function(){var t=vg(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?M.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).attr("text-anchor","start").style("fill",C).style("font-size",z+"px").style("font-weight",M.tick_label_weight).transition().duration(N).style("opacity",_).attr("transform",s)});var v=Z.selectAll("text").data(e&&L?[L]:[]);return v.exit().remove(),v.enter().append("text").attr("text-anchor","middle").style("font-size",F+"px").style("fill",M.title_color).style("font-weight",M.title_weight).call($x).transition().duration(0).delay(N).text(function(t){return t}).attr("x",j).attr("y",i).attr("dy",-.33*F),v.text(function(t){return t}).style("fill",M.title_color).style("font-size",F+"px").style("font-weight",M.title_weight).transition().duration(N).attr("x",j).attr("y",i).attr("dy",-.33*F),X=r,"top"==h?t:null}),e,b,$,Z,X;return function(){n();var t=r(),e=i();return a=k,Y=A,q=O,H=U,t||e}}function Xx(q,t){var e=q.chart.select("g.fl-left-axis"),H=e.select("g.fl-axis-line"),P=e.select("g.fl-axis-ticks"),R=e.select("g.fl-axis-title"),Y=t.y,B,I,W,V,$;return function(){var t={},e=Y.axis_visible&&!q.yHide(),n=Pv(q.xScale()),c=Pv(q.yScale()),a=e?q.yTicks():[],r=B?q.animationDuration():0;B=B||n;var i=(I=I||c).type===c.type&&"ordinal"!==c.type?I:c,o=I.type===c.type&&"ordinal"!==I.type?c:I,u=q.y_bottom,l=q.y_top;void 0===W&&(W=u),void 0===V&&(V=l);var s=q.x_left;void 0===$&&($=s);var f=Y.line_and_tick_color,h=Cv(Y.line_and_tick_width,!0),d=Y.tick_label_color,p="default"===Y.tick_label_position,g="out"===Y.tick_side,_=Cv(Y.tick_padding),m=q.yTicks().max_box_width+_,y=p?Cv(Y.tick_length)*(g?1:-1):m,v=Cv(Y.tick_label_size),b=(g&&p?y:0)+_,x=q.yTitle(),w=Cv(Y.title_size),M=b+a.max_box_width+Cv(Y.title_padding)+.33*w;t.extended_gridline=s-(b+a.max_box_width);var k=(l+u)/2,A=H.selectAll("line").data(e&&Y.line_visible?[c.domain()]:[]);A.exit().style("stroke",f).style("stroke-width",h).transition().duration(r).attr("x1",s).attr("x2",s).attr("y1",u).attr("y2",l).style("opacity",0).remove();var N=A.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",h).attr("x1",$).attr("x2",$).attr("y1",W).attr("y2",V).style("opacity",0);A.merge(N).style("stroke",f).style("stroke-width",h).transition().duration(r).attr("x1",s).attr("x2",s).attr("y1",u).attr("y2",l).style("opacity",1);var T=e?a:[];function S(t){var e,n;if("default"!==Y.tick_label_position)return Fv(-b-(a.max_box_width-t.box_width),("above"===Y.tick_label_position?-.3:1)*v);var r=-Y.tick_label_angle;if(0==r)return Fv(-b,.33*v-t.multiline_offset);var i=Fv(-b,0)+" "+Lv(r);return-90==r&&(i+=" "+Fv(t.text_width/2,0)),i}"numeric"===a.type&&"custom"!==Y.tick_mode&&(T=a.slice().sort(Vx));var C=P.selectAll("g").data(T,function(t){return t.type+"-"+t.value}),E=C.exit();E.transition().duration(r).attr("transform",function(t){return Fv(s,o(t.value))}).style("opacity",0).remove(),E.each(function(){var t=vg(this);t.select("line").style("stroke",f).style("stroke-width",h).transition().duration(r).attr("x2",-y),t.select("text").style("fill",d).style("font-size",v+"px").style("font-weight",Y.tick_label_weight).attr("transform",S).transition().duration(r)});var z=C.enter().append("g").style("opacity",0);z.attr("transform",function(t){return Fv($,i(t.value))}),z.each(function(){var t=vg(this);t.append("line").attr("x2",-y),t.append("text").attr("text-anchor","end").attr("transform",S).call($x)});var D=C.merge(z);D.transition().duration(r).style("opacity",1).attr("transform",function(t){return Fv(s,c(t.value))});var F=(L=[],O=s-b,function(t){for(var e=c(t.value),n=[O,e],r,i,a=[n,[O-t.box_width_above,e-t.box_height_above]],o=[n,[O-t.box_width_below,e+t.box_height_below]],u=0;u<L.length;u++){var l=L[u];if(e>=l.y_anchor){if(qv(a,l.q))return 0}else if(qv(l.p,o))return 0}return L.push({y_anchor:e,p:a,q:o}),1}),L,O;D.each(function(){var t=vg(this);t.select("line").style("stroke",f).style("stroke-width",h).transition().duration(r).attr("x2",-y),t.select("text").each(function(){var t=vg(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?Y.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).style("fill",d).style("font-size",v+"px").style("font-weight",Y.tick_label_weight).transition().duration(r).style("opacity",F).attr("transform",S)});var j=R.selectAll("text").data(e&&x?[x]:[]);j.exit().remove();var U=function t(){return Fv(s,k)+" "+Lv(-90)+" "+Fv(0,-M)};return j.enter().append("text").attr("text-anchor","middle").style("font-size",w+"px").style("fill",Y.title_color).style("font-weight",Y.title_weight).call($x).transition().duration(0).delay(r).text(function(t){return t}).attr("x",0).attr("y",0).attr("transform",U),j.text(function(t){return t}).style("fill",Y.title_color).style("font-size",w+"px").style("font-weight",Y.title_weight).transition().duration(r).attr("x",0).attr("y",0).attr("transform",U),B=n,I=c,W=u,V=l,$=s,t}}function Gx(q,t){var e=q.chart.select("g.fl-right-axis"),H=e.select("g.fl-axis-line"),P=e.select("g.fl-axis-ticks"),R=e.select("g.fl-axis-title"),Y=t.y2,B,I,W,V,$;return function(){var t={},e=Y.axis_visible&&!q.y2Hide(),n=Pv(q.xScale()),c=Pv(q.y2Scale()),a=e?q.y2Ticks():[],r=B?q.animationDuration():0;B=B||n;var i=(I=I||c).type===c.type&&"ordinal"!==c.type?I:c,o=I.type===c.type&&"ordinal"!==I.type?c:I,u=q.y_bottom,l=q.y_top;void 0===W&&(W=u),void 0===V&&(V=l);var s=q.x_right;void 0===$&&($=s);var f=Y.line_and_tick_color,h=Cv(Y.line_and_tick_width,!0),d=Y.tick_label_color,p="default"===Y.tick_label_position,g="out"===Y.tick_side,_=Cv(Y.tick_padding),m=q.y2Ticks().max_box_width+_,y=p?Cv(Y.tick_length)*(g?1:-1):m,v=Cv(Y.tick_label_size),b=(g&&p?y:0)+_,x=q.y2Title(),w=Cv(Y.title_size),M=b+a.max_box_width+Cv(Y.title_padding)+.85*w;t.extended_gridline=s+b+a.max_box_width;var k=(u+l)/2,A=H.selectAll("line").data(e&&Y.line_visible?[c.domain()]:[]);A.exit().style("stroke",f).style("stroke-width",h).transition().duration(r).attr("x1",s).attr("x2",s).attr("y1",u).attr("y2",l).style("opacity",0).remove();var N=A.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",h).attr("x1",$).attr("x2",$).attr("y1",W).attr("y2",V).style("opacity",0);A.merge(N).style("stroke",f).style("stroke-width",h).transition().duration(r).attr("x1",s).attr("x2",s).attr("y1",u).attr("y2",l).style("opacity",1);var T="numeric"===a.type?a.slice().sort(Vx):a;function S(t){var e,n;if("default"!==Y.tick_label_position)return Fv(b+(a.max_box_width-t.box_width),("above"===Y.tick_label_position?-.3:1)*v);var r=-Y.tick_label_angle;if(0==r)return Fv(b,.33*v-t.multiline_offset);var i=Fv(b,0)+" "+Lv(r);return-90==r&&(i+=" "+Fv(t.text_width/2,0)),i}var C=P.selectAll("g").data(T,function(t){return t.type+"-"+t.value}),E=C.exit();E.transition().duration(r).attr("transform",function(t){return Fv(s,o(t.value))}).style("opacity",0).remove(),E.each(function(){var t=vg(this);t.select("line").style("stroke",f).style("stroke-width",h).transition().duration(r).attr("x2",-y),t.select("text").style("fill",d).style("font-size",v+"px").style("font-weight",Y.tick_label_weight).attr("transform",S).transition().duration(r)});var z=C.enter().append("g").style("opacity",0);z.attr("transform",function(t){return Fv($,i(t.value))}),z.each(function(){var t=vg(this);t.append("line").attr("x2",y),t.append("text").attr("text-anchor","start").attr("transform",S).call($x)});var D=C.merge(z);D.transition().duration(r).style("opacity",1).attr("transform",function(t){return Fv(s,c(t.value))});var F=(L=[],O=s+b,function(t){for(var e=c(t.value),n=[O,e],r,i,a=[n,[O-t.box_width_above,e-t.box_height_above]],o=[n,[O-t.box_width_below,e+t.box_height_below]],u=0;u<L.length;u++){var l=L[u];if(e>=l.y_anchor){if(qv(a,l.q))return 0}else if(qv(l.p,o))return 0}return L.push({y_anchor:e,p:a,q:o}),1}),L,O;D.each(function(){var t=vg(this);t.select("line").style("stroke",f).style("stroke-width",h).transition().duration(r).attr("x2",y),t.select("text").each(function(){var t=vg(this).selectAll("tspan").data(function(t){return t.lines});t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",function(t,e){return e?Y.tick_label_line_height+"em":0}).text(function(t){return t}),t.exit().remove()}).style("fill",d).style("font-size",v+"px").style("font-weight",Y.tick_label_weight).transition().duration(r).style("opacity",F).attr("transform",S)});var j=R.selectAll("text").data(e&&x?[x]:[]);j.exit().remove();var U=function t(){return Fv(s,k)+" "+Lv(-90)+" "+Fv(0,M)};return j.enter().append("text").attr("text-anchor","middle").style("font-size",w+"px").style("fill",Y.title_color).style("font-weight",Y.title_weight).call($x).transition().duration(0).delay(r).text(function(t){return t}).attr("x",0).attr("y",0).attr("transform",U),j.text(function(t){return t}).style("fill",Y.title_color).style("font-size",w+"px").style("font-weight",Y.title_weight).transition().duration(r).attr("x",0).attr("y",0).attr("transform",U),B=n,I=c,W=u,V=l,$=s,t}}function Qx(t,e){var r=Zx(t,e),i=Xx(t,e),a=Gx(t,e);return function(){var t,e,n;return{x:r(),y:i(),y2:a()}}}var Jx={solid:null,dash:[4,1],dot:[1,1],dot_dash:[4,1,1,1]};function Kx(t){if("solid"===t)return null;var e=Cv(1)/4;return Jx[t].map(function(t){return t*e}).join(" ")}function tw(E,z){var D=z.x,F=z.y,L=z.y2,O=E.chart.select("g.fl-gridlines-vertical"),j=E.chart.select("g.fl-gridlines-horizontal"),U,q,H,P,R,Y,B;return function(r){var e=Pv(E.xScale()),n=Pv(E.yScale()),i=Pv(E.y2Scale()),t=E.x_left,a=E.x_right;void 0===P&&(P=t),void 0===R&&(R=a);var o=E.y_bottom,u=E.y_top;void 0===Y&&(Y=o),void 0===B&&(B=u),q=q||n,H=H||i;var l=(U=U||e).type===e.type&&"ordinal"!==e.type?U:e,c=U.type===e.type&&"ordinal"!==U.type?e:U,s=q.type===n.type&&"ordinal"!==n.type?q:n,f=q.type===n.type&&"ordinal"!==q.type?n:q,h=H.type===i.type&&"ordinal"!==H.type?H:i,d=H.type===i.type&&"ordinal"!==H.type?i:H,p=U?E.animationDuration():0,g=function t(e){if("x"===e&&"off"===z.x.axis_position)return[];if("x"!==e&&!z[e].axis_visible)return[];if(!z[e].gridlines_visible)return[];var n=E[e+"Hide"]();return n&&!n.keep_gridlines?[]:E[e+"Ticks"]()},_=g("x"),m=g("y"),y=g("y2"),v=_.map(function(t){return{type:t.type,value:t.value,dasharray:Kx(D.gridline_style),stroke:D.gridline_color,width:Cv(D.gridline_width,!0),x_enter:l(t.value),x:e(t.value)}}),b;D.gridline_category_dividers&&e.step&&(b=e.step(),v.pop(),v.forEach(function(t){var e,n;t.x_enter+=b/2,t.x+=b/2,D.gridline_category_dividers_extend&&(e=r.x&&"top"==r.x.pos,n=r.x&&"bottom"==r.x.pos,e?t.y2=r.x.extended_gridline:n&&(t.y1=r.x.extended_gridline))}));var x=m.map(function(t){return{axis:"y",type:t.type,value:t.value,dasharray:Kx(F.gridline_style),stroke:F.gridline_color,width:Cv(F.gridline_width,!0),y_enter:s(t.value),y:n(t.value)}}),w;F.gridline_category_dividers&&n.step&&(w=n.step(),x.pop(),x.forEach(function(t){t.y_enter-=w/2,t.y-=w/2,F.gridline_category_dividers_extend&&(t.x1=r.y.extended_gridline)}));var M=y.map(function(t){return{axis:"y2",type:t.type,value:t.value,dasharray:Kx(L.gridline_style),stroke:L.gridline_color,width:Cv(L.gridline_width),y_enter:h(t.value),y:i(t.value)}}),k;L.gridline_category_dividers&&i.step&&(k=i.step(),M.pop(),M.forEach(function(t){t.y_enter-=k/2,t.y-=k/2,L.gridline_category_dividers_extend&&(t.x2=r.y2.extended_gridline)}));var A=x.concat(M),N=O.selectAll("line").data(v,function(t){return t.type+"-"+t.value});N.exit().attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(p).attr("x1",function(t){return c(t.value)}).attr("x2",function(t){return c(t.value)}).attr("y1",o).attr("y2",u).style("opacity",0).remove();var T=N.enter().append("line").style("shape-rendering","crispEdges").attr("x1",function(t){return t.x_enter}).attr("x2",function(t){return t.x_enter}).attr("y1",Y).attr("y2",B).style("opacity",0);N.merge(T).attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(p).attr("x1",function(t){return t.x}).attr("x2",function(t){return t.x}).attr("y1",o).attr("y2",u).style("opacity",1);var S=j.selectAll("line").data(A,function(t){return t.axis+"-"+t.type+"-"+t.value});S.exit().attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(p).attr("x1",t).attr("x2",a).attr("y1",function(t){return("y"===t.axis?f:d)(t.value)}).attr("y2",function(t){return("y"===t.axis?f:d)(t.value)}).style("opacity",0).remove();var C=S.enter().append("line").style("shape-rendering","crispEdges").attr("x1",P).attr("x2",R).attr("y1",function(t){return t.y_enter}).attr("y2",function(t){return t.y_enter}).style("opacity",0);S.merge(C).attr("stroke-dasharray",function(t){return t.dasharray}).style("stroke",function(t){return t.stroke}).style("stroke-width",function(t){return t.width}).transition().duration(p).attr("x1",t).attr("x2",a).attr("y1",function(t){return t.y}).attr("y2",function(t){return t.y}).style("opacity",1),U=e,q=n,H=i,P=t,R=a}}function ew(n,t){var r=function t(){var e=null;(n.offsetLeft()||n.offsetTop())&&(e="translate("+n.offsetLeft()+","+n.offsetTop()+")"),n.chart.attr("transform",e)},i=Bx(n,t),a=function t(e){n.margins._update(e)},o=Ix(n,t),u=Wx(n,t),l=Qx(n,t),c=tw(n,t);return function(t){if(t=t||{},zv(),r(),i(),a(t.margins),t.skip_rendering)return n;o(),u();var e=l();return c(e),n}}function nw(t,e){e=vd(e);var n={},r=xg(t);Object.defineProperty(n,"svg",{get:r.getSvg}),n.container=r.container,n.chart=Ag(n),n.data_background=n.chart.select("g.fl-data-background"),n.data_foreground=n.chart.select("g.fl-data-foreground"),n.identifier=Tg(n),n.clip=Eg(n),n.animationDuration=em(n);var i=Fy(n);return n.width=i.width,n.height=i.height,n.plotAspect=i.plotAspect,Object.defineProperty(n,"plot_width",{get:i.plotWidth}),Object.defineProperty(n,"plot_height",{get:i.plotHeight}),Object.defineProperty(n,"x_left",{get:i.xLeft}),Object.defineProperty(n,"x_right",{get:i.xRight}),Object.defineProperty(n,"y_bottom",{get:i.yBottom}),Object.defineProperty(n,"y_top",{get:i.yTop}),n.offsetLeft=Ly(n),n.offsetTop=Oy(n),n.margins=yb(n,e),n.xData=Vv(n),n.yData=Vv(n),n.y2Data=Vv(n),n.xFormat=rm(n),n.yFormat=rm(n),n.y2Format=rm(n),n.xNumberParse=zy(n),n.yNumberParse=zy(n),n.y2NumberParse=zy(n),n.xDatetimeParse=Dy(n),n.yDatetimeParse=Dy(n),n.y2DatetimeParse=Dy(n),n.xTitle=ub(n,e),n.yTitle=lb(n,e),n.y2Title=cb(n,e),n.xTicks=Jv(n,e),n.yTicks=tb(n,e),n.y2Ticks=eb(n,e),n.xAutoTicks=rb(n),n.yAutoTicks=ib(n),n.y2AutoTicks=ab(n),n.xScale=Cx(n,e),n.yScale=Fx(n,e),n.y2Scale=Ux(n,e),n.xPadding=Tx(n),n.yPadding=zx(n),n.y2Padding=Ox(n),n.xMinStep=Ex(n),n.yMinStep=Lx(n),n.y2MinStep=qx(n),n.xZeroAxis=Hx(n),n.yZeroAxis=Hx(n),n.y2ZeroAxis=Hx(n),n.xHide=Px(n),n.yHide=Px(n),n.y2Hide=Px(n),n.y2Hide(!0),n.update=ew(n,e),n}var rw=25,iw=5,aw=10,ow=10,uw={},lw,cw;function sw(t,e,n,r,i,a,o){var u=n-t/2-10,l=n+t/2+10,c=t/2+Math.min(0,u-i.left)+Math.max(0,l-i.right),s,s=c-10<5?[-c,-15*a,Math.max(10,5-c),-10*a]:t-5<c+10?[Math.min(-10,t-c-5),-10*a,Math.min(10,t-c),-15*a]:[-10,-10*a,10,-10*a];return{pos:[c,o],shape:s}}function fw(t,e,n,r,i,a,o){var u=r-e/2-10,l=r+e/2+10,c=e/2+Math.min(0,u-i.top)+Math.max(0,l-i.bottom),s,s=c-10<5?[-15*a,-c,-10*a,Math.max(10,5-c)]:e-5<c+10?[-10*a,Math.min(-10,e-c-5),-15*a,Math.min(10,e-c)]:[-10*a,-10,-10*a,10];return{pos:[o,c],shape:s}}function hw(t,e,n,r,i,a){var o=uw[t](e,n,r,i,a),u=r-rw-o.pos[0],l=i-rw-o.pos[1];return{left:u,top:l,right:u+e+2*rw,bottom:l+n+2*rw}}function dw(t,e,n,r,i,a,o,u,l,c){var s=uw[t](r,i,u,l,c);e.left=a-rw-s.pos[0]+"px",e.top=o-rw-s.pos[1]+"px",n.setAttribute("d","M0,0L"+s.shape.join(",")+"Z"),n.setAttribute("transform","translate("+(s.pos[0]+rw)+","+(s.pos[1]+rw)+")")}function pw(){var e=this;function t(t){return e._maxWidth.match(/^\d+(?:\.\d+)?%$/)?t.width*parseFloat(e._maxWidth)/100:e._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(e._maxWidth):(null!=e._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+e._maxWidth),t.width)}if(e._point){var n=document.documentElement.getBoundingClientRect(),r=e._point[0],i=e._point[1],a=e._container.getBoundingClientRect();r<a.left?r=a.left:r>a.right&&(r=a.right),i<a.top?i=a.top:i>a.bottom&&(i=a.bottom);var o=r-n.left,u=i-n.top,l=e._getElement(),c=l.style,s=l.querySelector(".flourish-popup-svg"),f=s.querySelector("g"),h=f.querySelector("rect"),d=f.querySelector("path"),p=l.querySelector(".flourish-popup-content");c.display="block",p.style.maxWidth=t(a)+"px",e._inner_html!=e._html&&(p.innerHTML=e._inner_html=e._html);for(var g=p.getBoundingClientRect(),_,m;_=Math.ceil(g.width),m=Math.ceil(g.height),c.width=_+2*rw+"px",c.height=m+2*rw+"px",g=p.getBoundingClientRect(),_!=Math.ceil(g.width)||m!=Math.ceil(g.height););h.setAttribute("width",_),h.setAttribute("height",m),s.setAttribute("width",_+2*rw),s.setAttribute("height",m+2*rw);for(var y=rw-10,v=null,b=null,x=null,w=1/0,M=1/0,k,A,N=0;N<e._directions.length;N++){var T=e._directions[N],S=hw(T,_,m,r,i,a),C=Math.max(0,Math.floor(a.left)-S.left-y)+Math.max(0,S.right-Math.ceil(a.right)-y),E=Math.max(0,Math.floor(a.top)-S.top-y)+Math.max(0,S.bottom-Math.ceil(a.bottom)-y);if(0==C&&0==E){v=T;break}(C<w||C==w&&E<k)&&(w=C,k=E,b=T),(E<M||E==M&&C<A)&&(M=E,A=C,x=T)}return dw(T=v||("horizontal"==e._fallbackFit?b:"vertical"==e._fallbackFit?x:(console.warn("Popup: failed to point box of size ("+_+", "+m+") at ("+r+", "+i+") within ("+a.left+", "+a.top+", "+a.right+", "+a.bottom+")"),e._directions[0])),c,d,_,m,o,u,r,i,a),e}console.error("Popup: cannot draw popup till point() has been specified")}function gw(t,e,n){var r=document.createElementNS("http://www.w3.org/2000/svg",t),i;if(e)for(i in e)r.setAttribute(i,e[i]);var a=r.style;if(n)for(i in n)a[i]=n[i];return r}function _w(){var e=this,t="flourish-popup-"+e.unique_id,n=document.getElementById(t),r,i,a,o,u,l,c;return n||((n=document.createElement("div")).className="flourish-popup",n.id=t,(r=n.style).display="none",r.margin=r.padding=0,r.position="absolute",r.width="80px",r.height="40px",r.boxSizing="border-box",n.addEventListener("click",function(t){e.fire("click",t)},!1),i=gw("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),(a=gw("filter",{id:"dropshadow-"+e.unique_id,height:"130%"})).appendChild(gw("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),a.appendChild(gw("feOffset",{dx:0,dy:2,result:"offsetblur"})),(o=gw("feComponentTransfer")).appendChild(gw("feFuncA",{type:"linear",slope:.2})),a.appendChild(o),u=gw("feMerge"),a.appendChild(u),u.appendChild(gw("feMergeNode")),u.appendChild(gw("feMergeNode",{in:"SourceGraphic"})),i.appendChild(a),(l=gw("g",{filter:"url(#dropshadow-"+e.unique_id+")",fill:"white",stroke:"none"})).appendChild(gw("rect",{x:rw,y:rw,rx:5})),l.appendChild(gw("path")),i.appendChild(l),n.appendChild(i),(c=document.createElement("div")).className="flourish-popup-content",(r=c.style).position="absolute",r.top=r.left=rw+"px",r.padding="10px",n.appendChild(c),e._getConstrainer().appendChild(n)),e._resizeConstrainer(),n}function mw(){return lw||((lw=document.createElement("div")).id="flourish-popup-constrainer",(cw=lw.style).overflow="hidden",cw.pointerEvents="none",cw.position="absolute",cw.left="0",cw.top="0",cw.margin="0",cw.padding="0",document.body.appendChild(lw),this._resizeConstrainer(),lw)}function yw(){var t=cw.display;cw.display="none",cw.width=document.documentElement.scrollWidth+"px",cw.height=document.documentElement.scrollHeight+"px",cw.display=t}uw.bottom=function t(e,n){return{shape:[-10,-10,10,-10],pos:[e/2,n+10]}},uw.top=function t(e,n){return{shape:[-10,10,10,10],pos:[e/2,-10]}},uw.left=function t(e,n){return{shape:[10,10,10,-10],pos:[-10,n/2]}},uw.right=function t(e,n){return{shape:[-10,10,-10,-10],pos:[e+10,n/2]}},uw.topLeft=function t(e,n){return{shape:[15,10,10,15],pos:[-10,-10]}},uw.bottomLeft=function t(e,n){return{shape:[15,-10,10,-15],pos:[-10,n+10]}},uw.topRight=function t(e,n){return{shape:[-15,10,-10,15],pos:[e+10,-10]}},uw.bottomRight=function t(e,n){return{shape:[-15,-10,-10,-15],pos:[e+10,n+10]}},uw.bottomFlexible=function t(e,n,r,i,a){return sw(e,n,r,i,a,1,n+10)},uw.topFlexible=function t(e,n,r,i,a){return sw(e,n,r,i,a,-1,-10)},uw.rightFlexible=function t(e,n,r,i,a){return fw(e,n,r,i,a,1,e+10)},uw.leftFlexible=function t(e,n,r,i,a){return fw(e,n,r,i,a,-1,-10)};var vw="2.1.2",bw=1,xw={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function ww(){for(var t in this.unique_id=bw++,xw)this["_"+t]=xw[t];this.handlers={click:[]}}function Mw(e){ww.prototype[e]=function(t){return void 0===t?this["_"+e]:(this["_"+e]=t,this)}}for(var kw in xw)Mw(kw);function Aw(t){return t.replace(/[&<>]/g,function(t){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[t]})}function Nw(){return new ww}ww.prototype.point=function(t,e){return void 0===t?this._point:(Array.isArray(t)?this._point=[t[0],t[1]]:void 0!==e?this._point=[t,e]:t instanceof HTMLElement||t instanceof SVGElement?(n=t.getBoundingClientRect(),this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]):console.error("Popup: could not understand argument"),this);var n},ww.prototype.directions=function(t){return void 0===t?this._directions:("string"==typeof t&&(t=[t]),this._directions=t.slice(),this)},ww.prototype.text=function t(e){return this._html=Aw(e),this},ww.prototype.on=function t(e,n){if(!(e in this.handlers))throw new Error("Popup.on: No such event: "+e);return this.handlers[e].push(n),this},ww.prototype.fire=function t(e,n){if(!(e in this.handlers))throw new Error("Popup.fire: No such event: "+e);for(var r=this.handlers[e],i=0;i<r.length;i++)r[i].call(this,n);return this},ww.prototype._getElement=_w,ww.prototype._getConstrainer=mw,ww.prototype._resizeConstrainer=yw,ww.prototype.draw=pw,ww.prototype.hide=function t(){return this._getElement().style.display="none",this};var Tw={show_popups:!0,text_color:"#333333",align:"left",font_size:12,fill_color:"#ffffff",opacity:1,padding:10,border_radius:3,show_pointer:!0,show_shadow:!0,is_custom:!(Nw.version=vw),style_popups:!1};function Sw(t){if("number"!=typeof t)return t;var e=Math.round(t*Math.pow(10,2))/100;return 4==Math.round(t).toString().length?e:Jr(",")(e)}function Cw(){var t;document.querySelector("#popup-styles")||((t=document.createElement("style")).id="popup-styles",t.type="text/css",t.innerHTML=".flourish-popup { pointer-events: none; }.flourish-popup .flourish-popup-content { pointer-events: auto; }.flourish-popup h1 { margin: 0; font-size: inherit; }.flourish-popup h2 { font-weight: normal; font-size: inherit; margin: 0; }.flourish-popup h2 .name { font-weight: bold; }.flourish-popup ul { padding: 0; margin: 0; }.flourish-popup li { font-size: inherit; list-style: none; }",document.head.appendChild(t))}function Ew(t,e,n,r){for(var i in this._state=e,this._default_template=n,this._first_load=!0,this._title_binding=r||"id",Tw)null==e[i]&&(e[i]=Tw[i]);Cw(),this.popup=Nw().container(t).point(0,0).draw().hide()}function zw(t,e,n,r){return new Ew(t,e,n,r)}Ew.prototype.addColumnNames=function(t){if(this._column_names=t,!this._state.custom_template&&this._first_load){for(var e in this._column_names)if(!Array.isArray(this._column_names[e])){var n=this._column_names[e];this._state.custom_template=n+": {{"+n+"}}";break}this._first_load=!1}return this},Ew.prototype.hide=function(){return this.popup.hide(),this},Ew.prototype.point=function(t,e){var n;return 1==arguments.length&&(t=(n=t.getBoundingClientRect()).left+n.width/2,e=n.top),this.popup.point(t,e),this},Ew.prototype.html=function(t){return this.popup.html(t),this},Ew.prototype.updateStyle=function(){var t=this.popup._getElement(),e=t.querySelector(".flourish-popup-content");e.style.padding=this._state.padding+"px",e.style.textAlign=this._state.align;var n=t.querySelector(".flourish-popup-svg g");return n.style.fill=this._state.fill_color,n.style.opacity=this._state.opacity,0==this._state.show_shadow?n.removeAttribute("filter"):n.setAttribute("filter","url(#dropshadow-"+this.popup.unique_id+")"),n.querySelector("rect").setAttribute("rx",this._state.border_radius),n.querySelector("path").style.display=this._state.show_pointer?"block":"none",this},Ew.prototype.draw=function(i,t){if(this._state.show_popups){var a=this;if(this.updateStyle(),!arguments.length)return this.popup.draw(),t&&t(this.popup._getElement()),this;var n="<div style='color: "+this._state.text_color+"; font-size: "+this._state.font_size+"px; text-align:"+this._state.align+";'>";if(this._state.is_custom||this._default_template)!this._state.is_custom&&this._default_template?n+=this._default_template.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;if(Array.isArray(a._column_names[n])){var e=a._column_names[n];if(0==e.length)return"";r="<ul>",e.forEach(function(t,e){r+="<li>"+t+": "+i[n][e]+"</li>"}),r+="</ul>"}else r=i[n];return void 0!==r?Sw(r):""}):n+=this._state.custom_template.replace(/\{\{((?:[^}]|\}[^}])*)\}\}/g,function(t,n){var r;return Object.keys(a._column_names).some(function(t){if(Array.isArray(a._column_names[t])){var e=a._column_names[t].indexOf(n);if(0<=e)return r=i[t][e],!0}else if(a._column_names[t]==n)return r=i[t],!0}),void 0!==r?Sw(r):""});else{i[this._title_binding]&&(n+="<h1>"+i[this._title_binding]+"</h1>");var e={},r;for(var o in this._column_names){if(o!=this._title_binding)if("metadata"==o){if(!Array.isArray(i.metadata))return;for(var u=0;u<i.metadata.length;u++)e[r=this._column_names.metadata[u]]||(e[r]=!0,n+="<h2><span class='name' data-binding='metadata'>"+r+"</span>: "+Sw(i.metadata[u])+"</h2>")}else{if(r=this._column_names[o],Array.isArray(r)){r.forEach(function(t,e){n+="<h2><span class='name' data-binding='"+o+"'>"+t+"</span>: "+Sw(i[o][e])+"</h2>"});continue}if(e[r])continue;e[r]=!0,n+="<h2><span class='name' data-binding='"+o+"'>"+r+"</span>: "+Sw(i[o])+"</h2>"}}n+="</div>"}return this.popup.html(n).draw(),t&&t(this.popup._getElement()),this}},Ew.prototype.directions=function(t){return this.popup.directions(t),this},Ew.prototype.container=function(t){return this.popup.container(t),this};var Dw=Object.freeze({input_decimal_separator:".",output_separators:",."});function Fw(t,e){return{decimal:t,thousands:e,grouping:[3],currency:["",""]}}function Lw(e){var n=new RegExp("[^-0-9eE"+e+"]","g");return function(t){return"number"==typeof t?t:""===t||void 0===t?NaN:parseFloat(t.replace(n,"").replace(e,"."))}}function Ow(t){var e=1<t.length,n=e?t.charAt(1):t.charAt(0),r=e?t.charAt(0):"",i=ti(Fw(n,r)).format;return i.decimal=n,i.thousands=r,i}function jw(e){for(var t in Dw)void 0===e[t]&&(e[t]=Dw[t]);return{getParser:function t(){return Lw(e.input_decimal_separator)},getFormatterFunction:function t(){return Ow(e.output_separators)}}}var Uw=Object.freeze({transform_labels:!1,transform:"multiply",multiply_divide_constant:1,exponentiate_constant:0,multiplier:1,prefix:"",n_dec:2,suffix:"",strip_zeros:!0,strip_separator:!0,negative_sign:"-$nk"});function qw(t,e){if(!(e=0<e?Math.floor(e):Math.ceil(e)))return Math.round(t);var n=Math.pow(10,Math.abs(e));return 0<e?Math.round(t*n)/n:Math.round(t/n)*n}function Hw(t){var e=1;return t.transform_labels&&(e="multiply"===t.transform?t.multiply_divide_constant:"divide"===t.transform?1/t.multiply_divide_constant:Math.pow(10,t.exponentiate_constant)),function(t){return t*e}}function Pw(o,t){var u=0<=o.n_dec?Math.floor(o.n_dec):Math.ceil(o.n_dec),l=t(",."+(0<u?u:"0")+"f"),e=t.decimal,c=t.thousands,s=o.strip_zeros&&0<u?new RegExp("\\"+e+"?0+$"):null,f=o.strip_separator&&c,h=o.negative_sign,d=Hw(o);return function(t){var e=0<=u?d(t):qw(d(t),u),n=e<0,r=Math.abs(e),i=f&&c&&1e3<=r&&r<1e4,a=l(r);return s&&(a=a.replace(s,"")),i&&(a=a.replace(c,"")),n&&"none"!==h?"-$nk"===h?"-"+o.prefix+a+o.suffix:"$-nk"===h?o.prefix+"-"+a+o.suffix:"($nk)"===h?"("+o.prefix+a+o.suffix+")":o.prefix+"("+a+")"+o.suffix:o.prefix+a+o.suffix}}function Rw(e){for(var t in Uw)void 0===e[t]&&(e[t]=Uw[t]);return function(t){return Pw(e,t)}}var Yw=Object.freeze({scale_type:"categorical",categorical_type:"palette",categorical_palette:["#1D6996","#EDAD08","#73AF48","#94346E","#38A6A5","#E17C05","#5F4690","#0F8554","#6F4070","#CC503E","#994E95","#666666"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#FFFFFF",sequential_custom_max:"#000000",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#67001f",diverging_custom_mid:"#f7f7f7",diverging_custom_max:"#053061",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),Bw=null,Iw="$";function Ww(){}function Vw(t,e){var n=new Ww;if(t instanceof Ww)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r=-1,i=t.length,a;if(null==e)for(;++r<i;)n.set(r,t[r]);else for(;++r<i;)n.set(e(a=t[r],r,t),a)}else if(t)for(var o in t)n.set(o,t[o]);return n}function $w(){}Ww.prototype=Vw.prototype={constructor:Ww,has:function t(e){return Iw+e in this},get:function t(e){return this[Iw+e]},set:function t(e,n){return this[Iw+e]=n,this},remove:function t(e){var n=Iw+e;return n in this&&delete this[n]},clear:function t(){for(var e in this)e[0]===Iw&&delete this[e]},keys:function t(){var t=[];for(var e in this)e[0]===Iw&&t.push(e.slice(1));return t},values:function t(){var t=[];for(var e in this)e[0]===Iw&&t.push(this[e]);return t},entries:function t(){var t=[];for(var e in this)e[0]===Iw&&t.push({key:e.slice(1),value:this[e]});return t},size:function t(){var t=0;for(var e in this)e[0]===Iw&&++t;return t},empty:function t(){for(var e in this)if(e[0]===Iw)return!1;return!0},each:function t(e){for(var n in this)n[0]===Iw&&e(this[n],n.slice(1),this)}};var Zw=Vw.prototype;function Xw(t,e){var n=new $w;if(t instanceof $w)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}$w.prototype=Xw.prototype={constructor:$w,has:Zw.has,add:function t(e){return this[Iw+(e+="")]=e,this},remove:Zw.remove,clear:Zw.clear,values:Zw.keys,size:Zw.size,empty:Zw.empty,each:Zw.each};var Gw,Qw=360/((1+Math.sqrt(5))/2),Jw="#FF0000";function Kw(c,s,f){return function(t,r){Array.isArray(t)||(t=t?[t]:[Jw]),r=void 0!==r?r:Qw;var e=t.map(function(t){return c(t)}).filter(function(t){return!isNaN(t[s])&&!isNaN(t[f])});e.length||(e=[c(Jw)]);for(var n=e.length,i=e.reduce(function(t,e){return t+e[s]},0)/n,a=e.reduce(function(t,e){return t+e[f]},0)/n,o=n,u;u=e[--o].h,isNaN(u)&&0<o;);var l=0;return function t(){var e=++l*r,n;return We(c((u+e)%360,i,a)).hex()}}}var tM,eM,nM={hcl:Kw(wn,"c","l"),hsl:Kw(tn,"s","l")};function rM(t,e){var i={},n=Xw(e).values(),r=t.categorical_palette,a=r.length,o,u,l;t.categorical_extend?(o=Yw.rotation_angle,u="hcl",l=nM.hcl(r,o),n.forEach(function(t,e){i[t]=e<a?r[e]:l()})):n.forEach(function(t,e){i[t]=r[e%a]}),t.categorical_custom_palette.split("\n").filter(function(t){return t}).forEach(function(t){var e=t.lastIndexOf(":"),n,r;-1!==e&&(n=t.slice(0,e).trim(),r=t.slice(e+1).trim(),n&&r&&(i[n]=r))});var c=function t(e){return i[e]};return c.domain=n.slice(),c.colors=n.map(function(t){return i[t]}),c.items=n.map(function(t){return{label:t,color:i[t]}}),c}function iM(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function aM(o){return 1===o.length&&(o=oM(o)),{left:function t(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;o(e[a],n)<0?r=1+a:i=a}return r},right:function t(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;0<o(e[a],n)?i=a:r=1+a}return r}}}function oM(n){return function(t,e){return iM(n(t),e)}}var uM,lM=aM(iM).right;function cM(t){return null===t?NaN:+t}function sM(t,e){var n=t.length,r=-1,i,a,o;if(null==e){for(;++r<n;)if(null!=(i=t[r])&&i<=i)for(a=o=i;++r<n;)null!=(i=t[r])&&(i<a&&(a=i),o<i&&(o=i))}else for(;++r<n;)if(null!=(i=e(t[r],r,t))&&i<=i)for(a=o=i;++r<n;)null!=(i=e(t[r],r,t))&&(i<a&&(a=i),o<i&&(o=i));return[a,o]}var fM=Math.sqrt(50),hM=Math.sqrt(10),dM=Math.sqrt(2);function pM(t,e,n){var r,i=-1,a,o,u;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(u=gM(t,e,n))||!isFinite(u))return[];if(0<u)for(t=Math.ceil(t/u),e=Math.floor(e/u),o=new Array(a=Math.ceil(e-t+1));++i<a;)o[i]=(t+i)*u;else for(t=Math.floor(t*u),e=Math.ceil(e*u),o=new Array(a=Math.ceil(t-e+1));++i<a;)o[i]=(t-i)/u;return r&&o.reverse(),o}function gM(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return 0<=i?(fM<=a?10:hM<=a?5:dM<=a?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(fM<=a?10:hM<=a?5:dM<=a?2:1)}function _M(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return fM<=a?i*=10:hM<=a?i*=5:dM<=a&&(i*=2),e<t?-i:i}function mM(t,e,n){if(null==n&&(n=cM),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),u;return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function yM(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function vM(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var bM,xM=Array.prototype.slice;function wM(t){return t}function MM(t,e,n,r){var i=_M(t,e,n),a;switch((r=Br(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=ri(i,o))||(r.precision=a),Kr(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=ii(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=ni(i))||(r.precision=a-2*("%"===r.type))}return Jr(r)}function kM(u){var l=u.domain;return u.ticks=function(t){var e=l();return pM(e[0],e[e.length-1],null==t?10:t)},u.tickFormat=function(t,e){var n=l();return MM(n[0],n[n.length-1],null==t?10:t,e)},u.nice=function(t){null==t&&(t=10);var e=l(),n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=i,i=a,a=o,o=n,n=r,r=o),0<(o=gM(i,a,t))?o=gM(i=Math.floor(i/o)*o,a=Math.ceil(a/o)*o,t):o<0&&(o=gM(i=Math.ceil(i*o)/o,a=Math.floor(a*o)/o,t)),0<o?(e[n]=Math.floor(i/o)*o,e[r]=Math.ceil(a/o)*o,l(e)):o<0&&(e[n]=Math.ceil(i*o)/o,e[r]=Math.floor(a*o)/o,l(e)),u},u}function AM(){var i=[],n=[],r=[],e;function a(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=mM(i,t/e);return o}function o(t){return isNaN(t=+t)?e:n[lM(r,t)]}return o.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?r[e-1]:i[0],e<r.length?r[e]:i[i.length-1]]},o.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e=0,n=t.length,r;e<n;++e)null==(r=t[e])||isNaN(r=+r)||i.push(r);return i.sort(iM),a()},o.range=function(t){return arguments.length?(n=xM.call(t),a()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return AM().domain(i).range(n).unknown(e)},yM.apply(o,arguments)}function NM(){var n=0,r=1,i=1,a=[.5],o=[0,1],e;function u(t){return t<=t?o[lM(a,t,0,i)]:e}function l(){var t=-1;for(a=new Array(i);++t<i;)a[t]=((t+1)*r-(t-i)*n)/(i+1);return u}return u.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],l()):[n,r]},u.range=function(t){return arguments.length?(i=(o=xM.call(t)).length-1,l()):o.slice()},u.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,a[0]]:i<=e?[a[i-1],r]:[a[e-1],a[e]]},u.unknown=function(t){return arguments.length&&(e=t),u},u.thresholds=function(){return a.slice()},u.copy=function(){return NM().domain([n,r]).range(o).unknown(e)},yM.apply(kM(u),arguments)}function TM(){var n=[.5],r=[0,1],e,i=1;function a(t){return t<=t?r[lM(n,t,0,i)]:e}return a.domain=function(t){return arguments.length?(n=xM.call(t),i=Math.min(n.length,r.length-1),a):n.slice()},a.range=function(t){return arguments.length?(r=xM.call(t),i=Math.min(n.length,r.length-1),a):r.slice()},a.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return TM().domain(n).range(r).unknown(e)},yM.apply(a,arguments)}function SM(){var e=0,n=1,r,i,a,o,u=wM,l=!1,c;function s(t){return isNaN(t=+t)?c:u(0===a?.5:(t=(o(t)-r)*a,l?Math.max(0,Math.min(1,t)):t))}return s.domain=function(t){return arguments.length?(r=o(e=+t[0]),i=o(n=+t[1]),a=r===i?0:1/(i-r),s):[e,n]},s.clamp=function(t){return arguments.length?(l=!!t,s):l},s.interpolator=function(t){return arguments.length?(u=t,s):u},s.unknown=function(t){return arguments.length?(c=t,s):c},function(t){return r=(o=t)(e),i=t(n),a=r===i?0:1/(i-r),s}}function CM(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function EM(){var t=kM(SM()(wM));return t.copy=function(){return CM(t,EM())},vM.apply(t,arguments)}function zM(){var e=0,n=.5,r=1,i,a,o,u,l,c=wM,s,f=!1,h;function d(t){return isNaN(t=+t)?h:(t=.5+((t=+s(t))-a)*(t<a?u:l),c(f?Math.max(0,Math.min(1,t)):t))}return d.domain=function(t){return arguments.length?(i=s(e=+t[0]),a=s(n=+t[1]),o=s(r=+t[2]),u=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),d):[e,n,r]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(c=t,d):c},d.unknown=function(t){return arguments.length?(h=t,d):h},function(t){return i=(s=t)(e),a=t(n),o=t(r),u=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),d}}function DM(){var t=kM(zM()(wM));return t.copy=function(){return CM(t,DM())},vM.apply(t,arguments)}function FM(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function LM(t){return Vn(t[t.length-1])}var OM,jM=LM(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(FM)),UM,qM=LM(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(FM)),HM,PM=LM(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(FM)),RM,YM=LM(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(FM)),BM,IM=LM(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(FM)),WM,VM=LM(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(FM)),$M,ZM=LM(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(FM)),XM,GM=LM(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(FM)),QM,JM=LM(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(FM)),KM,tk=LM(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(FM)),ek,nk=LM(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(FM)),rk,ik=LM(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(FM)),ak,ok=LM(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(FM)),uk,lk=LM(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(FM)),ck,sk=LM(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(FM)),fk,hk=LM(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(FM)),dk,pk=LM(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(FM)),gk,_k=LM(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(FM)),mk,yk=LM(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(FM)),vk,bk=LM(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(FM)),xk,wk=LM(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(FM)),Mk,kk=LM(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(FM)),Ak,Nk=LM(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(FM)),Tk,Sk=LM(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(FM)),Ck,Ek=LM(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(FM)),zk,Dk=LM(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(FM)),Fk,Lk=LM(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(FM)),Ok=kr(Ln(300,.5,0),Ln(-240,.5,1)),jk=kr(Ln(-100,.75,.35),Ln(80,1.5,.8)),Uk=kr(Ln(260,.75,.35),Ln(80,1.5,.8));function qk(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}Ln();var Hk=qk(FM("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Pk=qk(FM("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Rk=qk(FM("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Yk=qk(FM("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Bk(t,e,n,r){var i=e[0],a=e[e.length-1],o=[],u,l;"custom"==t.bin_mode?l=(u=t.bin_thresholds.split(";").map(parseFloat).filter(function(t){return!isNaN(t)&&(i<t&&t<a)}).sort(Wk)).length+1:(l=Math.floor(t.bin_count),u=[]);var c=Ik(r,l,e),s,s="fixed"==t.bin_mode?NM().domain([i,a]):"quantile"==t.bin_mode?AM().domain(n):TM().domain(u);s.range(c.colors),u.length||c.colors.forEach(function(t,e){e&&u.push(s.invertExtent(t)[0])}),u.forEach(function(t,e){e<u.length-1&&o.push((u[e+1]+t)/2)});var f=function t(e){return isNaN(e)?null:s(e)};return f.domain=Object.freeze(e),f.thresholds=Object.freeze(u),f.centers=Object.freeze(o),f}function Ik(t,e,n){for(var r=1/e,i=[],a=0;a<e;a++){var o=a/e+r/2,u=n[0]+o*(n[n.length-1]-n[0]);i.push(u)}var l=i.map(t);return{positions:i,colors:l}}function Wk(t,e){return t-e}function Vk(t){var e;return Array.isArray(t)?sM(t):[0,1]}var $k=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),Zk=Object.freeze({Blues:kk,BuGn:tk,BuPu:nk,Carrots:Vn($k),Cool:Uk,CubehelixDefault:Ok,GnBu:ik,Greens:Nk,Greys:Sk,Inferno:Rk,Magma:Pk,Oranges:Lk,OrRd:ok,Plasma:Yk,PuBu:sk,PuBuGn:lk,PuRd:hk,Purples:Ek,RdPu:pk,Reds:Dk,Viridis:Hk,Warm:jk,YlGn:yk,YlGnBu:_k,YlOrBr:bk,YlOrRd:wk}),Xk={hcl:wr,hsl:vr,lab:br,rgb:In};function Gk(t){var e=t.sequential_color_space,n=t.sequential_custom_min,r=t.sequential_custom_max;return Xk[e](n,r)}function Qk(r,t){var e=r.sequential_custom_domain&&!r.binning?[r.sequential_domain_min,r.sequential_domain_max]:Vk(t),n,i=EM(function t(e){var n=Zk[r.sequential_palette]||Gk(r);return r.sequential_reverse?n(1-e):n(e)}).domain(e),a=function t(e){return isNaN(e)?null:i(e)};return a.domain=Object.freeze(e),r.binning?Bk(r,e,t,a):a}var Jk=Object.freeze({BrBG:jM,PiYG:PM,PRGn:qM,PuOr:YM,RdBu:IM,RdGy:VM,RdYlBu:ZM,RdYlGn:GM,Spectral:JM}),Kk={hcl:wr,hsl:vr,lab:br,rgb:In};function tA(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,i=t.diverging_custom_max;return Ar(Kk[e],[n,r,i])}function eA(r,t){var e=Vk(t),n=e[0]<0&&0<e[1]?0:(e[0]+e[1])/2,i=[e[0],n,e[1]];r.diverging_custom_domain&&(r.binning?i[1]=r.diverging_domain_mid:i=[r.diverging_domain_min,r.diverging_domain_mid,r.diverging_domain_max]);var a,o=DM(function t(e){var n=Jk[r.diverging_palette]||tA(r);return r.diverging_reverse?n(1-e):n(e)}).domain(i),u=function t(e){return isNaN(e)?null:o(e)};return u.domain=Object.freeze(i),u.midpoint=r.diverging_custom_domain?r.diverging_domain_mid:n,r.binning?Bk(r,i,t,u):u}function nA(n){var r=null;for(var t in Yw)void 0===n[t]&&(n[t]=Yw[t]);var i=Bw,e=function t(e){return"categorical"===n.scale_type?r=rM(n,e):"sequential"===n.numeric_type?r=Qk(n,e):"diverging"===n.numeric_type&&(r=eA(n,e)),o.thresholds=r.thresholds,o.centers=r.centers,o.midpoint=r.midpoint,o.domain=r.domain,o.colors=r.colors,o.items=r.items,this},a,o=function t(e){return r&&r(e)||i};return{getColor:o,updateColorScale:e,fallback:function t(e){return void 0===e?i:(i="default"===e?Bw:e,this)}}}function rA(){return parseFloat}function iA(){return function(t){return t.toString()}}function aA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function oA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function uA(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function lA(t){var r=t.dateTime,i=t.date,a=t.time,e=t.periods,n=t.days,o=t.shortDays,u=t.months,l=t.shortMonths,c=mA(e),s=yA(e),f=mA(n),h=yA(n),d=mA(o),p=yA(o),g=mA(u),_=yA(u),m=mA(l),y=yA(l),v={a:F,A:L,b:O,B:j,c:null,d:HA,e:HA,f:IA,g:eN,G:rN,H:PA,I:RA,j:YA,L:BA,m:WA,M:VA,p:U,q:q,Q:NN,s:TN,S:$A,u:ZA,U:XA,V:QA,w:JA,W:KA,x:null,X:null,y:tN,Y:nN,Z:iN,"%":AN},b={a:H,A:P,b:R,B:Y,c:null,d:aN,e:aN,f:sN,g:xN,G:MN,H:oN,I:uN,j:lN,L:cN,m:fN,M:hN,p:B,q:I,Q:NN,s:TN,S:dN,u:pN,U:gN,V:mN,w:yN,W:vN,x:null,X:null,y:bN,Y:wN,Z:kN,"%":AN},x={a:N,A:T,b:S,B:C,c:E,d:CA,e:CA,f:OA,g:AA,G:kA,H:zA,I:zA,j:EA,L:LA,m:SA,M:DA,p:A,q:TA,Q:UA,s:qA,S:FA,u:bA,U:xA,V:wA,w:vA,W:MA,x:z,X:D,y:AA,Y:kA,Z:NA,"%":jA};function w(l,c){return function(t){var e=[],n=-1,r=0,i=l.length,a,o,u;for(t instanceof Date||(t=new Date(+t));++n<i;)37===l.charCodeAt(n)&&(e.push(l.slice(r,n)),null!=(o=cA[a=l.charAt(++n)])?a=l.charAt(++n):o="e"===a?" ":"0",(u=c[a])&&(a=u(t,o)),e.push(a),r=n+1);return e.push(l.slice(r,n)),e.join("")}}function M(a,o){return function(t){var e=uA(1900,void 0,1),n,r,i;if(k(e,a,t+="",0)!=t.length)return null;if("Q"in e)return new Date(e.Q);if("s"in e)return new Date(1e3*e.s+("L"in e?e.L:0));if(!o||"Z"in e||(e.Z=0),"p"in e&&(e.H=e.H%12+12*e.p),void 0===e.m&&(e.m="q"in e?e.q:0),"V"in e){if(e.V<1||53<e.V)return null;"w"in e||(e.w=1),"Z"in e?(r=4<(i=(r=oA(uA(e.y,0,1))).getUTCDay())||0===i?Ei.ceil(r):Ei(r),r=Ti.offset(r,7*(e.V-1)),e.y=r.getUTCFullYear(),e.m=r.getUTCMonth(),e.d=r.getUTCDate()+(e.w+6)%7):(r=4<(i=(r=aA(uA(e.y,0,1))).getDay())||0===i?Mi.ceil(r):Mi(r),r=bi.offset(r,7*(e.V-1)),e.y=r.getFullYear(),e.m=r.getMonth(),e.d=r.getDate()+(e.w+6)%7)}else("W"in e||"U"in e)&&("w"in e||(e.w="u"in e?e.u%7:"W"in e?1:0),i="Z"in e?oA(uA(e.y,0,1)).getUTCDay():aA(uA(e.y,0,1)).getDay(),e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(i+5)%7:e.w+7*e.U-(i+6)%7);return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,oA(e)):aA(e)}}function k(t,e,n,r){for(var i=0,a=e.length,o=n.length,u,l;i<a;){if(o<=r)return-1;if(37===(u=e.charCodeAt(i++))){if(u=e.charAt(i++),!(l=x[u in cA?e.charAt(i++):u])||(r=l(t,n,r))<0)return-1}else if(u!=n.charCodeAt(r++))return-1}return r}function A(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s[r[0].toLowerCase()],n+r[0].length):-1}function N(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1}function T(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1}function S(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1}function E(t,e,n){return k(t,r,e,n)}function z(t,e,n){return k(t,i,e,n)}function D(t,e,n){return k(t,a,e,n)}function F(t){return o[t.getDay()]}function L(t){return n[t.getDay()]}function O(t){return l[t.getMonth()]}function j(t){return u[t.getMonth()]}function U(t){return e[+(12<=t.getHours())]}function q(t){return 1+~~(t.getMonth()/3)}function H(t){return o[t.getUTCDay()]}function P(t){return n[t.getUTCDay()]}function R(t){return l[t.getUTCMonth()]}function Y(t){return u[t.getUTCMonth()]}function B(t){return e[+(12<=t.getUTCHours())]}function I(t){return 1+~~(t.getUTCMonth()/3)}return v.x=w(i,v),v.X=w(a,v),v.c=w(r,v),b.x=w(i,b),b.X=w(a,b),b.c=w(r,b),{format:function t(e){var n=w(e+="",v);return n.toString=function(){return e},n},parse:function t(e){var n=M(e+="",!1);return n.toString=function(){return e},n},utcFormat:function t(e){var n=w(e+="",b);return n.toString=function(){return e},n},utcParse:function t(e){var n=M(e+="",!0);return n.toString=function(){return e},n}}}var cA={"-":"",_:" ",0:"0"},sA=/^\s*\d+/,fA=/^%/,hA=/[\\^$*+?|[\]().{}]/g,dA,pA;function gA(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function _A(t){return t.replace(hA,"\\$&")}function mA(t){return new RegExp("^(?:"+t.map(_A).join("|")+")","i")}function yA(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function vA(t,e,n){var r=sA.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function bA(t,e,n){var r=sA.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function xA(t,e,n){var r=sA.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function wA(t,e,n){var r=sA.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function MA(t,e,n){var r=sA.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kA(t,e,n){var r=sA.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function AA(t,e,n){var r=sA.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function NA(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function TA(t,e,n){var r=sA.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function SA(t,e,n){var r=sA.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function CA(t,e,n){var r=sA.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function EA(t,e,n){var r=sA.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zA(t,e,n){var r=sA.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function DA(t,e,n){var r=sA.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function FA(t,e,n){var r=sA.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function LA(t,e,n){var r=sA.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function OA(t,e,n){var r=sA.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jA(t,e,n){var r=fA.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function UA(t,e,n){var r=sA.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function qA(t,e,n){var r=sA.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function HA(t,e){return gA(t.getDate(),e,2)}function PA(t,e){return gA(t.getHours(),e,2)}function RA(t,e){return gA(t.getHours()%12||12,e,2)}function YA(t,e){return gA(1+bi.count(Ni(t),t),e,3)}function BA(t,e){return gA(t.getMilliseconds(),e,3)}function IA(t,e){return BA(t,e)+"000"}function WA(t,e){return gA(t.getMonth()+1,e,2)}function VA(t,e){return gA(t.getMinutes(),e,2)}function $A(t,e){return gA(t.getSeconds(),e,2)}function ZA(t){var e=t.getDay();return 0===e?7:e}function XA(t,e){return gA(wi.count(Ni(t)-1,t),e,2)}function GA(t){var e=t.getDay();return 4<=e||0===e?ki(t):ki.ceil(t)}function QA(t,e){return t=GA(t),gA(ki.count(Ni(t),t)+(4===Ni(t).getDay()),e,2)}function JA(t){return t.getDay()}function KA(t,e){return gA(Mi.count(Ni(t)-1,t),e,2)}function tN(t,e){return gA(t.getFullYear()%100,e,2)}function eN(t,e){return gA((t=GA(t)).getFullYear()%100,e,2)}function nN(t,e){return gA(t.getFullYear()%1e4,e,4)}function rN(t,e){var n=t.getDay();return gA((t=4<=n||0===n?ki(t):ki.ceil(t)).getFullYear()%1e4,e,4)}function iN(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+gA(e/60|0,"0",2)+gA(e%60,"0",2)}function aN(t,e){return gA(t.getUTCDate(),e,2)}function oN(t,e){return gA(t.getUTCHours(),e,2)}function uN(t,e){return gA(t.getUTCHours()%12||12,e,2)}function lN(t,e){return gA(1+Ti.count(Di(t),t),e,3)}function cN(t,e){return gA(t.getUTCMilliseconds(),e,3)}function sN(t,e){return cN(t,e)+"000"}function fN(t,e){return gA(t.getUTCMonth()+1,e,2)}function hN(t,e){return gA(t.getUTCMinutes(),e,2)}function dN(t,e){return gA(t.getUTCSeconds(),e,2)}function pN(t){var e=t.getUTCDay();return 0===e?7:e}function gN(t,e){return gA(Ci.count(Di(t)-1,t),e,2)}function _N(t){var e=t.getUTCDay();return 4<=e||0===e?zi(t):zi.ceil(t)}function mN(t,e){return t=_N(t),gA(zi.count(Di(t),t)+(4===Di(t).getUTCDay()),e,2)}function yN(t){return t.getUTCDay()}function vN(t,e){return gA(Ei.count(Di(t)-1,t),e,2)}function bN(t,e){return gA(t.getUTCFullYear()%100,e,2)}function xN(t,e){return gA((t=_N(t)).getUTCFullYear()%100,e,2)}function wN(t,e){return gA(t.getUTCFullYear()%1e4,e,4)}function MN(t,e){var n=t.getUTCDay();return gA((t=4<=n||0===n?zi(t):zi.ceil(t)).getUTCFullYear()%1e4,e,4)}function kN(){return"+0000"}function AN(){return"%"}function NN(t){return+t}function TN(t){return Math.floor(t/1e3)}function SN(t){return(dA=lA(t)).format,pA=dA.parse,dA.utcFormat,dA.utcParse,dA}function CN(t){return t.toLowerCase()}function EN(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function zN(t,e,n,r){var i="numeric"===e.sort,a="temporal"===e.sort,o=CN;i?o=n:a&&(o=pA(e.sort_temporal_format));var u=t.map(function(t,e){var n=o(t);return{value:t,options_index:e,parsed:n,display:i&&!isNaN(n)?r(n):t}});return"unsorted"==e.sort?u:u.sort(function(t,e){return EN(t.parsed,e.parsed)})}function DN(){return this.declarations=[],this}function FN(t){return this.selector=t,this.styles=[],this}function LN(){var t=new DN;return t.select(".fl-controls-container").style("display","inline-block").style("line-height","1em"),t.select(".fl-controls-title").style("display","inline-block").style("margin","0px 0.5em 0px 0px"),t.select(".fl-controls-container, .fl-controls-container *").style("box-sizing","border-box"),t.select(".slider-holder").style("margin-bottom","20px"),t.select(".fl-controls-slider, .slider-play").style("pointer-events","all").style("display","inline-block").style("vertical-align","middle"),t.select(".slider-play svg").style("height","100%").style("width","100%").style("cursor"," pointer",""),t.select(".slider-play:hover").style("opacity","0.6"),t.select(".fl-control-slider").style("width","100%").style("bottom","0"),t.select(".fl-control").style("position","relative"),t.select(".fl-control.hidden").style("display","none"),t.select(".fl-control .button").style("display","inline-block").style("background","#eee").style("padding","0.5em").style("margin-right","0.25em").style("margin-bottom","0.25em").style("line-height","1em"),t.select(".fl-control.grouped:not(.hidden)").style("display","inline-table").style("table-layout","fixed").select(".button").style("display","table-cell").style("margin","0").style("text-align","center"),t.select(".fl-control .button.selected").style("background","#ddd"),t.select(".fl-control-dropdown").style("line-height","1em").select(".list").style("display","none").style("position","absolute").style("background-color","white").style("z-index","100").style("border","1px solid #eee").select(".list-item").style("cursor","pointer").style("padding","0.5rem"),t.select(".fl-control-dropdown.open .list").style("display","block"),t.select(".fl-control-dropdown .main").style("position","relative"),t.select(".fl-control-dropdown .symbol").style("float","right").select("div").style("border-top-color","#333333"),t.print()}SN({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),DN.prototype.select=function(t){if(!t)return this;var e=new FN(t,this);return(e.parent=this).addDeclaration(e),e},DN.prototype.addDeclaration=function(t){return this.declarations.push(t),this},DN.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},DN.prototype.clear=function(){return this.declarations=[],this},FN.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this};var ON=!(FN.prototype.select=function(t){return this.parent.select(this.selector+" "+t)});function jN(){var t,e,n;ON||"undefined"==typeof document||(t=LN(),e=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).type="text/css",n.className="flourish-controls",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),ON=!0)}var UN=(qN=document.createElement("canvas").getContext("2d"),function(t,e){var n;return qN.font=e||"10px sans-serif",qN.measureText(t).width}),qN,HN;function PN(){var n=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;HN=function t(e){return e*n}}var RN=90;function YN(o,u,r){var l={},a=document.body,c=Xt(r).append("div").attr("class","fl-control fl-control-dropdown"),i=c.node(),t=c.append("div").attr("class","main"),s=t.append("span").attr("class","current");t.append("span").attr("class","symbol").style("width","10px").append("div").style("border-left","5px solid transparent").style("border-right","5px solid transparent").style("border-bottom","5px solid transparent").style("border-top-style","solid").style("border-top-width","5px").style("top","50%").style("position","absolute").style("margin-top","-2.5px");var f=c.append("div").attr("class","list"),e=function t(){c.classed("open",!0),f.style("top","100%"),f.style("bottom",null),f.style("display",null),f.style("overflow","auto");var e=a.getBoundingClientRect(),n=f.node().getBoundingClientRect(),r,i;0<n.bottom-e.bottom&&(i=e.bottom-n.top-30,RN<i?f.style("max-height",i+"px"):f.style("top","auto").style("bottom","100%")),n.right>window.innerWidth&&f.style("right",0)},h=function t(){c.classed("open",!1),f.style("right",null),f.style("max-height",null),f.style("display","none")},n=function t(){(c.classed("open")?h:e)()};t.on("click",function(){n()});var d=function t(){if(c.classed("open")){for(var e=event.target,n=e.parentElement;n;){if(e===i)return;n=(e=n).parentElement}h()}},p=function t(e){var n="100%";"auto"==u.dropdown_width_mode?n=Math.min(e+40,HN(20))+"px":"fixed"==u.dropdown_width_mode&&(n=HN(u.dropdown_width_fixed)+"px"),r.style.width="full"==u.dropdown_width_mode?n:"",c.style("width",n).style("display","full"!==u.dropdown_width_mode?"inline-table":null),c.select(".main").style("width",n)},g=function t(){h(),c.style("display","none")};return l.appendedToDOM=function(t){return t&&(a=t),document.querySelector("body").addEventListener("click",d,!1),l},l.removedFromDOM=function(){return document.querySelector("body").removeEventListener("click",d),l},l.show=p,l.hide=g,l.update=function(t){f.text("");var e=window.getComputedStyle(c.node()).fontSize;if(!o.n_options||"dropdown"!==u.control_type)return g(),l;var n="";f.text("").selectAll(".list-item").data(t).enter().append("div").attr("class","list-item").text(function(t){return t.display.length>n.length&&(n=t.display),t.display}).on("click",function(t){h();var e=t.options_index;e!==o.index()&&(o.index(e),s.text(t.display).attr("title",t.display),o.trigger("change"))});var r=UN(n,e+" sans-serif"),i,a=t[o.getSortedIndex()].display;return s.text(a).attr("title",a),p(r),l},l}function BN(r,i,t){var a={},o=Xt(t).append("div").attr("class","fl-control fl-control-buttons"),u=function t(){o.classed("hidden",!1)},l=function t(){o.classed("hidden",!0)};return a.show=u,a.hide=l,a.update=function(t){if(o.text(""),!r.n_options||"buttons"!==i.control_type)return l(),a;var e=r.index();o.classed("grouped",i.button_group),o.classed("fixed-width","fixed"==i.button_group_width_mode||"full"==i.button_group_width_mode),o.style("width",i.button_group&&"fixed"==i.button_group_width_mode?HN(i.button_group_width_fixed)+"px":"full"==i.button_group_width_mode?"100%":null);var n=o.selectAll(".button").data(t).enter().append("div");n.attr("class","button").style("cursor","pointer").classed("selected",function(t){return t.options_index===e}).on("click",function(t){var e=t.options_index;e!==r.index()&&(r.index(e),n.classed("selected",function(t){return t.options_index===e}),r.trigger("change"))}).append("span").text(function(t){return t.display}),u()},a}var IN=Array.prototype.slice;function WN(t){return t}var VN=1,$N=2,ZN=3,XN=4,GN=1e-6;function QN(t){return"translate("+(t+.5)+",0)"}function JN(t){return"translate(0,"+(t+.5)+")"}function KN(e){return function(t){return+e(t)}}function tT(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}function eT(){return!this.__axis}function nT(g,_){var m=[],y=null,v=null,b=6,x=6,w=3,M=g===VN||g===XN?-1:1,k=g===XN||g===$N?"x":"y",A=g===VN||g===ZN?QN:JN;function e(t){var e=null==y?_.ticks?_.ticks.apply(_,m):_.domain():y,n=null==v?_.tickFormat?_.tickFormat.apply(_,m):WN:v,r=Math.max(b,0)+w,i=_.range(),a=+i[0]+.5,o=+i[i.length-1]+.5,u=(_.bandwidth?tT:KN)(_.copy()),l=t.selection?t.selection():t,c=l.selectAll(".domain").data([null]),s,f=(s=l.selectAll(".tick").data(e,_).order()).exit(),h=s.enter().append("g").attr("class","tick"),d=s.select("line"),p=s.select("text"),c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),s=s.merge(h),d=d.merge(h.append("line").attr("stroke","currentColor").attr(k+"2",M*b)),p=p.merge(h.append("text").attr("fill","currentColor").attr(k,M*r).attr("dy",g===VN?"0em":g===ZN?"0.71em":"0.32em"));t!==l&&(c=c.transition(t),s=s.transition(t),d=d.transition(t),p=p.transition(t),f=f.transition(t).attr("opacity",GN).attr("transform",function(t){return isFinite(t=u(t))?A(t):this.getAttribute("transform")}),h.attr("opacity",GN).attr("transform",function(t){var e=this.parentNode.__axis;return A(e&&isFinite(e=e(t))?e:u(t))})),f.remove(),c.attr("d",g===XN||g==$N?x?"M"+M*x+","+a+"H0.5V"+o+"H"+M*x:"M0.5,"+a+"V"+o:x?"M"+a+","+M*x+"V0.5H"+o+"V"+M*x:"M"+a+",0.5H"+o),s.attr("opacity",1).attr("transform",function(t){return A(u(t))}),d.attr(k+"2",M*b),p.attr(k,M*r).text(n),l.filter(eT).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",g===$N?"start":g===XN?"end":"middle"),l.each(function(){this.__axis=u})}return e.scale=function(t){return arguments.length?(_=t,e):_},e.ticks=function(){return m=IN.call(arguments),e},e.tickArguments=function(t){return arguments.length?(m=null==t?[]:IN.call(t),e):m.slice()},e.tickValues=function(t){return arguments.length?(y=null==t?null:IN.call(t),e):y&&y.slice()},e.tickFormat=function(t){return arguments.length?(v=t,e):v},e.tickSize=function(t){return arguments.length?(b=x=+t,e):b},e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b},e.tickSizeOuter=function(t){return arguments.length?(x=+t,e):x},e.tickPadding=function(t){return arguments.length?(w=+t,e):w},e}function rT(t){return nT(ZN,t)}function iT(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function aT(o){return 1===o.length&&(o=oT(o)),{left:function t(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;o(e[a],n)<0?r=1+a:i=a}return r},right:function t(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;0<o(e[a],n)?i=a:r=1+a}return r}}}function oT(n){return function(t,e){return iT(n(t),e)}}var uT,lT=aT(iT).right,cT=Math.sqrt(50),sT=Math.sqrt(10),fT=Math.sqrt(2);function hT(t,e,n){var r,i=-1,a,o,u;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(u=dT(t,e,n))||!isFinite(u))return[];if(0<u)for(t=Math.ceil(t/u),e=Math.floor(e/u),o=new Array(a=Math.ceil(e-t+1));++i<a;)o[i]=(t+i)*u;else for(t=Math.floor(t*u),e=Math.ceil(e*u),o=new Array(a=Math.ceil(t-e+1));++i<a;)o[i]=(t-i)/u;return r&&o.reverse(),o}function dT(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return 0<=i?(cT<=a?10:sT<=a?5:fT<=a?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(cT<=a?10:sT<=a?5:fT<=a?2:1)}function pT(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return cT<=a?i*=10:sT<=a?i*=5:fT<=a&&(i*=2),e<t?-i:i}var gT=Array.prototype,_T=gT.map,mT=gT.slice;function yT(t){return function(){return t}}function vT(t){return+t}var bT=[0,1];function xT(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:yT(n)}function wT(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}}function MT(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}}function kT(t,e,n,r){var i=t[0],a=t[1],o=e[0],u=e[1],o=a<i?(i=n(a,i),r(u,o)):(i=n(i,a),r(o,u));return function(t){return o(i(t))}}function AT(n,t,e,r){var i=Math.min(n.length,t.length)-1,a=new Array(i),o=new Array(i),u=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++u<i;)a[u]=e(n[u],n[u+1]),o[u]=r(t[u],t[u+1]);return function(t){var e=lT(n,t,1,i)-1;return o[e](a[e](t))}}function NT(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function TT(e,n){var r=bT,i=bT,a=ir,o=!1,u,l,c;function s(){return u=2<Math.min(r.length,i.length)?AT:kT,l=c=null,t}function t(t){return(l=l||u(r,i,o?wT(e):e,a))(+t)}return t.invert=function(t){return(c=c||u(i,r,xT,o?MT(n):n))(+t)},t.domain=function(t){return arguments.length?(r=_T.call(t,vT),s()):r.slice()},t.range=function(t){return arguments.length?(i=mT.call(t),s()):i.slice()},t.rangeRound=function(t){return i=mT.call(t),a=ar,s()},t.clamp=function(t){return arguments.length?(o=!!t,s()):o},t.interpolate=function(t){return arguments.length?(a=t,s()):a},s()}function ST(t,e,n){var r=t[0],i=t[t.length-1],a=pT(r,i,null==e?10:e),o;switch((n=Br(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(r),Math.abs(i));return null!=n.precision||isNaN(o=ri(a,u))||(n.precision=o),Kr(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(o=ii(a,Math.max(Math.abs(r),Math.abs(i))))||(n.precision=o-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(o=ni(a))||(n.precision=o-2*("%"===n.type))}return Jr(n)}function CT(u){var l=u.domain;return u.ticks=function(t){var e=l();return hT(e[0],e[e.length-1],null==t?10:t)},u.tickFormat=function(t,e){return ST(l(),t,e)},u.nice=function(t){null==t&&(t=10);var e=l(),n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=i,i=a,a=o,o=n,n=r,r=o),0<(o=dT(i,a,t))?o=dT(i=Math.floor(i/o)*o,a=Math.ceil(a/o)*o,t):o<0&&(o=dT(i=Math.ceil(i*o)/o,a=Math.floor(a*o)/o,t)),0<o?(e[n]=Math.floor(i/o)*o,e[r]=Math.ceil(a/o)*o,l(e)):o<0&&(e[n]=Math.ceil(i*o)/o,e[r]=Math.floor(a*o)/o,l(e)),u},u}function ET(){var t=TT(xT,Qn);return t.copy=function(){return NT(t,ET())},CT(t)}var zT="1.3.2";function DT(t){this.container=Xt(t),this._width=null,this._height=null,this._handleRadius=15,this._channelHeight=5,this._channelRadius=null,this._handleFill="black",this._channelFill="#eee",this._margin={top:null,left:null,right:null},this._domain=[0,1],this._value=null,this._snap=!1,this._scale=null,this._axis=!1,this._ticks=null,this._tickFormat=null,this._tickSize=null,this._label=null,this._labelSize=18,this._startLabel=null,this._startLabelBelow=!1,this._endLabel=null,this._endLabelBelow=!1,this._startEndLabelSize=16,this.handlers={change:[]}}function FT(e){0<e.length&&"_"==e.charAt(0)&&(DT.prototype[e.substr(1)]=function(t){return void 0===t?this[e]:(this[e]=t,this)})}var LT=new DT;for(var OT in LT)FT(OT);function jT(t,e,n,r){if(void 0===n&&(n=0),void 0===r&&(r=t.length),r-n==0)return e;if(r-n==1)return t[n];var i,a;if(r-n==2)return Math.abs(t[n]-e)<=Math.abs(t[n+1]-e)?t[n]:t[n+1];var o=n+Math.floor((r-n)/2),u=t[o],l,c=t[o-1];return c<=e&&e<=u?Math.abs(c-e)<=Math.abs(u-e)?c:u:u<=e?jT(t,e,o,r):jT(t,e,n,o)}function UT(t,e){return"boolean"==typeof t?t?Math.round(e):e:jT(t,e)}function qT(t){return new DT(t)}function HT(t){var e,n;return'<svg width="25px" height="30px" viewBox="0 0 25 30"> <polygon fill="'+t+'" stroke="none" points="25 15 0 30 0 0"></polygon> </svg>'}function PT(t){var e,n;return'<svg width="26px" height="30px" viewBox="0 0 26 30"> <g stroke="none" stroke-width="1" fill="'+t+'"><rect x="2" y="2" width="9" height="26"></rect> <rect x="15" y="2" width="9" height="26"></rect> </g> </svg>'}function RT(a,o,t){var u={},i=Xt(t).append("div").attr("class","fl-control fl-control-slider animatable"),l=i.append("div").attr("class","slider-play"),c=i.append("div").attr("class","fl-controls-slider"),e,n,r,s,f,h,d,p=null,g=function t(){clearTimeout(p),p=null},_=function t(e){var n=s[e];n.options_index!==a.index()&&(a.index(n.options_index),a.trigger("change"))},m=qT(c.node()).snap(!0).on("change",function(t){var e=null!==p;e&&g(),_(t),e&&v()}),y=function t(){g(),i.classed("playing",!1),l.html(e),a._isPlaying_(!1),d=!1},v=function t(){var e=a.getSortedIndex(),n=f[e],r=a.n_options-1,i=e<r?e+1:0;p=setTimeout(function(){_(i),(o.slider_loop||i<r?t:y)()},n)},b=function t(){i.classed("playing",!0),l.html(n),v(),a._isPlaying_(!0),d=!0};l.on("click",function(){(null===p?b:y)()});var x=function t(){var e=Math.round(HN(o.slider_handle_height)/2);i.style("width",Math.round(HN(o.slider_width))+"px"),l.style("height",2*e+"px").style("width",2*e+"px").style("display",o.slider_play_button?null:"none");var n=i.node().getBoundingClientRect().width,r=l.node().getBoundingClientRect().width;c.style("width",Math.max(n-r,1)+"px").style("height",2*e+"px"),m.handleRadius(e).margin({left:e+5,right:e+HN(o.slider_margin),top:e})},w=function t(){o.slider_play_button?i.classed("animatable",!0):(y(),i.classed("animatable",!1)),r!==o.slider_handle_color&&(m.update(),r=o.slider_handle_color||"currentColor",i.select(".slider-handle").style("fill",r),e=HT(r),n=PT(r),l.html(p?n:e))},M=function t(){return i.style("display","inline-block"),x(),w(),u},k=function t(){return y(),i.style("display","none"),u};return u.show=M,u.hide=k,u.update=function(t){if(s=t,!a.n_options||"slider"!==o.control_type)return k(),u;M();var r=a.n_options,i=o.slider_loop;f=s.map(function(t,e){var n;return 1e3*(o.slider_step_time+(i&&e===r-1?o.slider_restart_pause:0))});var e=a.getSortedIndex(),n=s[e];return m.domain([0,r-1]).value(e).endLabel(n.display).channelHeight(Math.round(HN(o.slider_track_height))).channelFill(o.slider_background_color).update(),m.container.select("svg").attr("fill","currentColor"),(h=h||c.select("text.slider-end-labels")).style("fill",o.slider_font_color).attr("y","0").attr("dy","0.25em"),a._isPlaying_()&&!d?b():!a._isPlaying_()&&d&&y(),u},u}DT.prototype.margin=function t(e){if(!e)return this._margin;for(OT in e){if(!(OT in this._margin))throw"Slider.margin: unrecognised option "+OT;this._margin[OT]=e[OT]}return this},DT.prototype.on=function t(e,n){if(!(e in this.handlers))throw"Slider.on: No such event: "+e;return this.handlers[e].push(n),this},DT.prototype.fire=function t(e,n){if(!(e in this.handlers))throw"Slider.fire: No such event: "+e;for(var r=this.handlers[e],i=0;i<r.length;i++)r[i].call(this,n);return this},DT.prototype.update=DT.prototype.draw=function t(){var i=this,e=this._width,n=this._height,r=this.container.node();if(!e){var a=r.getBoundingClientRect();if(!a||0==a.width)return this;e=a.width,n=a.height}var o=null==this._channelRadius?this._channelHeight/2:this._channelRadius,u=null==this._margin.left?Math.max(this._handleRadius,o):this._margin.left,l=null==this._margin.right?Math.max(this._handleRadius,o):this._margin.right,c=null==this._margin.top?Math.max(this._handleRadius,this._channelHeight/2):this._margin.top,s=e-u-l,f=s+2*o,h=1.5*this._labelSize,d;null!=this._label&&null==this._margin.top&&(c+=h),"http://www.w3.org/2000/svg"==r.namespaceURI?d=this.container:((d=this.container.selectAll("svg").data([{width:e,height:n}])).exit().remove(),(d=d.enter().append("svg").merge(d)).attr("width",function(t){return t.width}).attr("height",function(t){return t.height}));var p=d.selectAll("g.slider-container").data([{left:u,top:c,id:this._id}]);p.exit().remove(),(p=p.enter().append("g").attr("class","slider-container").merge(p)).attr("transform",function(t){return"translate("+t.left+","+t.top+")"}).attr("id",function(t){return t.id}),this.scale=(this._scale?this._scale():ET()).domain(this._domain).range([0,s]),null==this._value||this._value<this._domain[0]?this._value=this._domain[0]:this._value>this._domain[1]&&(this._value=this._domain[1]),this._snap&&(this._value=UT(this._snap,this._value));var g=[],_,_;this._axis&&(_="boolean"!=typeof this._axis?this._axis(this.scale):rT().scale(this.scale).tickPadding(6),this._ticks&&_.ticks(this._ticks),this._tickFormat&&_.tickFormat(this._tickFormat),this._tickSize?_.tickSize(this._tickSize):_.tickSize(Math.max(5,this._handleRadius-this._channelHeight-2)),g.push(_));var m,y=p.selectAll(".slider-axis").data(g).enter(),v,b,x,w;function M(t){document.addEventListener("mouseup",k,!1),document.addEventListener("mousemove",A,!1),x=t.clientX,w=i.scale(i._value)}function k(){document.removeEventListener("mouseup",k,!1),document.removeEventListener("mousemove",A,!1)}function A(t){C(t.clientX-x)}function N(t){1==t.touches.length&&(document.addEventListener("touchend",T,!1),document.addEventListener("touchmove",S,!1),x=t.touches[0].clientX,w=i.scale(i._value))}function T(){document.removeEventListener("touchend",T,!1),document.removeEventListener("touchmove",S,!1)}function S(t){1==t.touches.length&&C(t.touches[0].clientX-x)}function C(t){var e=w+t,n=Math.max(0,Math.min(s,e)),r=i.scale.invert(n);i._snap&&(r=UT(i._snap,r)),b.attr("cx",i.scale(r)),r!=i._value&&(i._value=r,i.fire("change",i._value))}y.append("g").attr("class","slider-axis").attr("transform","translate(0,"+this._channelHeight/2+")").each(function(t){t(Xt(this))}),y.select(".domain").attr("fill","none"),y.selectAll(".tick line").attr("stroke","black"),y.exit().remove(),(v=p.selectAll(".slider-channel").data([{width:f,height:this._channelHeight,channel_r:o}])).exit().remove(),(v=v.enter().append("rect").attr("class","slider-channel").attr("cursor","pointer").on("click",function(){var t=Math.max(0,Math.min(s,Jt(this)[0]));i._value=i.scale.invert(t),i._snap&&(i._value=UT(i._snap,i._value)),b.attr("cx",i.scale(i._value)),i.fire("change",i._value)}).merge(v)).attr("width",function(t){return t.width}).attr("fill",this._channelFill).attr("height",function(t){return t.height}).attr("y",function(t){return-t.height/2}).attr("x",function(t){return-t.channel_r}).attr("rx",function(t){return t.channel_r}),(b=(b=p.selectAll(".slider-handle").data([{v:this._value,x:this.scale(this._value)}])).enter().append("circle").attr("class","slider-handle").attr("cursor","col-resize").merge(b)).attr("cx",function(t){return t.x}).attr("r",this._handleRadius).attr("fill",this._handleFill).on("mousedown",function(){Lt.preventDefault(),M(Lt)}).on("touchstart",function(){Lt.preventDefault(),N(Lt)});var E=[];this._label&&E.push({label:this._label,x:s/2,y:-h,font_size:this._labelSize});var z=p.selectAll(".slider-label").data(E);z.exit().remove(),(z=z.enter().append("text").attr("class","slider-label").attr("text-anchor","middle").attr("cursor","default").merge(z)).text(function(t){return t.label}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("font-size",this._labelSize);var D=[];this._startLabel&&D.push({label:this._startLabel,x:this._startLabelBelow?0:-(o+5+Math.max(0,this._handleRadius-o)),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._startLabelBelow?"middle":"end",font_size:this._startEndLabelSize}),this._endLabel&&D.push({label:this._endLabel,x:this._endLabelBelow?s:s+(o+Math.max(0,this._handleRadius-o)+5),y:this._startLabelBelow?o+15:this._startEndLabelSize/1.75-o/2,anchor:this._endLabelBelow?"middle":"start",font_size:this._startEndLabelSize});var F=p.selectAll(".slider-end-labels").data(D);return F.exit().remove(),(F=F.enter().append("text").attr("class","slider-end-labels").attr("pointer-events","none").merge(F)).text(function(t){return t.label}).attr("font-size",function(t){return t.font_size}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("text-anchor",function(t){return t.anchor}),this},qT.version=zT;var YT=Object.freeze({control_type:"dropdown",control_title:"",dropdown_width_mode:"auto",dropdown_width_fixed:20,button_group:!0,button_group_width_mode:"fixed",button_group_width_fixed:20,slider_width:15,slider_handle_color:null,slider_font_color:null,slider_background_color:"#dddddd",slider_handle_height:1,slider_track_height:.2,slider_margin:4.5,slider_play_button:!0,slider_step_time:2,slider_loop:!0,slider_restart_pause:0,sort:"unsorted",sort_temporal_format:"%Y",_index_:null,_is_playing_:!1});function BT(i,t,e){var r={};t=t||rA,e=e||iA;var a=[],o=[],u=[],n=document.createElement("div");n.setAttribute("class","fl-controls-container");var l=Xt(n).append("div").attr("class","fl-controls-title"),c=YN(r,i,n),s=BN(r,i,n),f=RT(r,i,n);for(var h in YT)void 0===i[h]&&(i[h]=YT[h]);var d=i._index_,p=function t(e){return a.length&&0<=e&&e<a.length},g=function t(e){n.style.display=1<e.length?null:"none",n.style.width="",l.node().innerHTML=i.control_title,l.node().style.display=""===i.control_title?"none":"inline-block",f.update(e),c.update(e),s.update(e)};r.appendTo=function(t,e){return jN(),Xt(t).node().appendChild(n),c.appendedToDOM(e),r};var _=function t(){var e=m(),n=a[e];return u.forEach(function(t){t(n,e)}),r};r.remove=function(){return n.parentElement&&n.parentElement.removeChild(n),c.removedFromDOM(),r},r.options=function(t){if(void 0===t)return a.slice();if(!Array.isArray(t))return r;var e=(a=t.slice()).length,n=m();return e?(null===n||e<=n)&&m(0):m(null),r},Object.defineProperty(r,"n_options",{get:function t(){return a.length}});var m=function t(e){return void 0===e?(i._is_playing_||(d=i._index_),d):(null===e||p(e)?(d=e,i._is_playing_||(i._index_=d)):console.warn("Invalid index, ignoring update call"),r)};r.index=m,r.getSortedIndex=function(){var n=m(),r;return"unsorted"==i.sort?n:(o.some(function(t,e){if(t.options_index===n)return r=e,!0}),r)},r.value=function(t){if(void 0===t)return a[m()];var e=a.indexOf(t);return-1!==e&&m(e),r},r.on=function(t,e){return"change"===t&&u.push(e.bind(r)),r},r.update=function(){return PN(),o=zN(a,i,t(),e()),g(o),r},r.trigger=function(t){return"change"===t&&_(),r};var y=function t(e){if(void 0===e)return i._is_playing_;i._is_playing_=!!e,e||m(d)};return r._isPlaying_=y,r}var IT={x_enabled:!1,x_lines:"",x_line_color:"#333333",x_line_width:2,x_line_dash:"2",x_areas:"",x_area_color:"#555555",x_area_opacity:.1,x_font_size:.9,x_font_weight:"regular",x_label_vertical:!0,x_label_color:"#888888",x_label_max_width:3,x_label_y_position:"top",x_label_x_position:"left",x_shadow_enabled:!0,x_shadow_color:"#FFFFFF",y_enabled:!1,y_lines:"",y_line_color:"#333333",y_line_width:2,y_line_dash:"2",y_areas:"",y_area_color:"#555555",y_area_opacity:.1,y_font_size:.9,y_font_weight:"regular",y_label_x_position:"right",y_label_y_position:"above",y_label_color:"#888888",y_label_max_width:3,y_shadow_enabled:!0,y_shadow_color:"#FFFFFF"};function WT(e){var n=0;e.animationDuration=function(t){return void 0===t?n:(n=t,e)}}function VT(e){var n=function t(e){return e};e.numberParser=function(t){return void 0===t?n:(n=t,e)}}function $T(e){var n;e.chartLayout=function(t){return void 0===t?n:(n=t,e)}}function ZT(e){var n=!1;e.xDisabled=function(t){return void 0===t?n:(n=t,e)}}function XT(e){var n=!1;e.yDisabled=function(t){return void 0===t?n:(n=t,e)}}function GT(e){var n=!1;e.xExtendByStep=function(t){return void 0===t?n:(n=t,e)}}function QT(e){var n=!1;e.yExtendByStep=function(t){return void 0===t?n:(n=t,e)}}var JT="http://www.w3.org/1999/xhtml",KT={svg:"http://www.w3.org/2000/svg",xhtml:JT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tS(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),KT.hasOwnProperty(e)?{space:KT[e],local:t}:t}function eS(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===JT&&t.documentElement.namespaceURI===JT?t.createElement(n):t.createElementNS(e,n)}}function nS(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function rS(t){var e=tS(t);return(e.local?nS:eS)(e)}function iS(){}function aS(t){return null==t?iS:function(){return this.querySelector(t)}}function oS(t){"function"!=typeof t&&(t=aS(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=new Array(o),l,c,s=0;s<o;++s)(l=a[s])&&(c=t.call(l,l.__data__,s,a))&&("__data__"in l&&(c.__data__=l.__data__),u[s]=c);return new ZC(r,this._parents)}function uS(t){return"object"===Kt(t)&&"length"in t?t:Array.from(t)}function lS(){return[]}function cS(t){return null==t?lS:function(){return this.querySelectorAll(t)}}function sS(e){return function(){var t=e.apply(this,arguments);return null==t?[]:uS(t)}}function fS(t){t=("function"==typeof t?sS:cS)(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],u=o.length,l,c=0;c<u;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new ZC(r,i)}function hS(t){return function(){return this.matches(t)}}function dS(e){return function(t){return t.matches(e)}}var pS=Array.prototype.find;function gS(t){return function(){return pS.call(this.children,t)}}function _S(){return this.firstElementChild}function mS(t){return this.select(null==t?_S:gS("function"==typeof t?t:dS(t)))}var yS=Array.prototype.filter;function vS(){return this.children}function bS(t){return function(){return yS.call(this.children,t)}}function xS(t){return this.selectAll(null==t?vS:bS("function"==typeof t?t:dS(t)))}function wS(t){"function"!=typeof t&&(t=hS(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&u.push(l);return new ZC(r,this._parents)}function MS(t){return new Array(t.length)}function kS(){return new ZC(this._enter||this._groups.map(MS),this._parents)}function AS(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function NS(t){return function(){return t}}function TS(t,e,n,r,i,a){for(var o=0,u,l=e.length,c=a.length;o<c;++o)(u=e[o])?(u.__data__=a[o],r[o]=u):n[o]=new AS(t,a[o]);for(;o<l;++o)(u=e[o])&&(i[o]=u)}function SS(t,e,n,r,i,a,o){for(var u,l,c=new Map,s=e.length,f=a.length,h=new Array(s),d,u=0;u<s;++u)(l=e[u])&&(h[u]=d=o.call(l,l.__data__,u,e)+"",c.has(d)?i[u]=l:c.set(d,l));for(u=0;u<f;++u)d=o.call(t,a[u],u,a)+"",(l=c.get(d))?((r[u]=l).__data__=a[u],c.delete(d)):n[u]=new AS(t,a[u]);for(u=0;u<s;++u)(l=e[u])&&c.get(h[u])===l&&(i[u]=l)}function CS(t){return t.__data__}function ES(t,e){if(!arguments.length)return Array.from(this,CS);var n=e?SS:TS,r=this._parents,i=this._groups;"function"!=typeof t&&(t=NS(t));for(var a=i.length,o=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var s=r[c],f=i[c],h=f.length,d=uS(t.call(s,s&&s.__data__,c,r)),p=d.length,g=u[c]=new Array(p),_=o[c]=new Array(p),m;n(s,f,g,_,l[c]=new Array(h),d,e);for(var y=0,v=0,b,x;y<p;++y)if(b=g[y]){for(v<=y&&(v=y+1);!(x=_[v])&&++v<p;);b._next=x||null}}return(o=new ZC(o,r))._enter=u,o._exit=l,o}function zS(){return new ZC(this._exit||this._groups.map(MS),this._parents)}function DS(t,e,n){var r=this.enter(),i=this,a=this.exit(),r="function"==typeof t?t(r):r.append(t+"");return null!=e&&(i=e(i)),null==n?a.remove():n(a),r&&i?r.merge(i).order():i}function FS(t){if(!(t instanceof ZC))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],c=n[u],s=l.length,f=o[u]=new Array(s),h,d=0;d<s;++d)(h=l[d]||c[d])&&(f[d]=h);for(;u<r;++u)o[u]=e[u];return new ZC(o,this._parents)}function LS(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;0<=--i;)(o=r[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this}function OS(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n=n||jS;for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o=e[a],u=o.length,l=i[a]=new Array(u),c,s=0;s<u;++s)(c=o[s])&&(l[s]=c);l.sort(t)}return new ZC(i,this._parents).order()}function jS(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function US(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qS(){return Array.from(this)}function HS(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function PS(){var t=0,e=fe(this),n;try{for(e.s();!(n=e.n()).done;){var r=n.value;++t}}catch(t){e.e(t)}finally{e.f()}return t}function RS(){return!this.node()}function YS(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&t.call(u,u.__data__,a,i);return this}function BS(t){return function(){this.removeAttribute(t)}}function IS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function WS(t,e){return function(){this.setAttribute(t,e)}}function VS(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function $S(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function ZS(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function XS(t,e){var n=tS(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?IS:BS:"function"==typeof e?n.local?ZS:$S:n.local?VS:WS)(n,e))}function GS(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function QS(t){return function(){this.style.removeProperty(t)}}function JS(t,e,n){return function(){this.style.setProperty(t,e,n)}}function KS(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}function tC(t,e,n){return 1<arguments.length?this.each((null==e?QS:"function"==typeof e?KS:JS)(t,e,null==n?"":n)):eC(this.node(),t)}function eC(t,e){return t.style.getPropertyValue(e)||GS(t).getComputedStyle(t,null).getPropertyValue(e)}function nC(t){return function(){delete this[t]}}function rC(t,e){return function(){this[t]=e}}function iC(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function aC(t,e){return 1<arguments.length?this.each((null==e?nC:"function"==typeof e?iC:rC)(t,e)):this.node()[t]}function oC(t){return t.trim().split(/^|\s+/)}function uC(t){return t.classList||new lC(t)}function lC(t){this._node=t,this._names=oC(t.getAttribute("class")||"")}function cC(t,e){for(var n=uC(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function sC(t,e){for(var n=uC(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function fC(t){return function(){cC(this,t)}}function hC(t){return function(){sC(this,t)}}function dC(t,e){return function(){(e.apply(this,arguments)?cC:sC)(this,t)}}function pC(t,e){var n=oC(t+"");if(arguments.length<2){for(var r=uC(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?dC:e?fC:hC)(n,e))}function gC(){this.textContent=""}function _C(t){return function(){this.textContent=t}}function mC(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function yC(t){return arguments.length?this.each(null==t?gC:("function"==typeof t?mC:_C)(t)):this.node().textContent}function vC(){this.innerHTML=""}function bC(t){return function(){this.innerHTML=t}}function xC(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function wC(t){return arguments.length?this.each(null==t?vC:("function"==typeof t?xC:bC)(t)):this.node().innerHTML}function MC(){this.nextSibling&&this.parentNode.appendChild(this)}function kC(){return this.each(MC)}function AC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function NC(){return this.each(AC)}function TC(t){var e="function"==typeof t?t:rS(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function SC(){return null}function CC(t,e){var n="function"==typeof t?t:rS(t),r=null==e?SC:"function"==typeof e?e:aS(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function EC(){var t=this.parentNode;t&&t.removeChild(this)}function zC(){return this.each(EC)}function DC(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function FC(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function LC(t){return this.select(t?FC:DC)}function OC(t){return arguments.length?this.property("__data__",t):this.node().__data__}function jC(e){return function(t){e.call(this,t,this.__data__)}}function UC(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function qC(a){return function(){var t=this.__on;if(t){for(var e=0,n=-1,r=t.length,i;e<r;++e)i=t[e],a.type&&i.type!==a.type||i.name!==a.name?t[++n]=i:this.removeEventListener(i.type,i.listener,i.options);++n?t.length=n:delete this.__on}}}function HC(a,o,u){return function(){var t=this.__on,e,n=jC(o);if(t)for(var r=0,i=t.length;r<i;++r)if((e=t[r]).type===a.type&&e.name===a.name)return this.removeEventListener(e.type,e.listener,e.options),this.addEventListener(e.type,e.listener=n,e.options=u),void(e.value=o);this.addEventListener(a.type,n,u),e={type:a.type,name:a.name,value:o,listener:n,options:u},t?t.push(e):this.__on=[e]}}function PC(t,e,n){var r=UC(t+""),i,a=r.length,o;if(!(arguments.length<2)){for(u=e?HC:qC,i=0;i<a;++i)this.each(u(r[i],e,n));return this}var u=this.node().__on;if(u)for(var l=0,c=u.length,s;l<c;++l)for(i=0,s=u[l];i<a;++i)if((o=r[i]).type===s.type&&o.name===s.name)return s.value}function RC(t,e,n){var r=GS(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function YC(t,e){return function(){return RC(this,t,e)}}function BC(t,e){return function(){return RC(this,t,e.apply(this,arguments))}}function IC(t,e){return this.each(("function"==typeof e?BC:YC)(t,e))}AS.prototype={constructor:AS,appendChild:function t(e){return this._parent.insertBefore(e,this._next)},insertBefore:function t(e,n){return this._parent.insertBefore(e,n)},querySelector:function t(e){return this._parent.querySelector(e)},querySelectorAll:function t(e){return this._parent.querySelectorAll(e)}},lC.prototype={add:function t(e){var n;this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function t(e){var n=this._names.indexOf(e);0<=n&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function t(e){return 0<=this._names.indexOf(e)}};var WC=regeneratorRuntime.mark(VC);function VC(){var n,r,i,a,o,u,l;return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:n=this._groups,r=0,i=n.length;case 1:if(!(r<i)){e.next=13;break}a=n[r],o=0,u=a.length;case 3:if(!(o<u)){e.next=10;break}if(l=a[o])return e.next=7,l;e.next=7;break;case 7:++o,e.next=3;break;case 10:++r,e.next=1;break;case 13:case"end":return e.stop()}},WC,this)}var $C=[null];function ZC(t,e){this._groups=t,this._parents=e}function XC(){return new ZC([[document.documentElement]],$C)}function GC(){return this}function QC(t){return"string"==typeof t?new ZC([[document.querySelector(t)]],[document.documentElement]):new ZC([[t]],$C)}ZC.prototype=XC.prototype=te({constructor:ZC,select:oS,selectAll:fS,selectChild:mS,selectChildren:xS,filter:wS,data:ES,enter:kS,exit:zS,join:DS,merge:FS,selection:GC,order:LS,sort:OS,call:US,nodes:qS,node:HS,size:PS,empty:RS,each:YS,attr:XS,style:tC,property:aC,classed:pC,text:yC,html:wC,raise:kC,lower:NC,append:TC,insert:CC,remove:zC,clone:LC,datum:OC,on:PC,dispatch:IC},Symbol.iterator,VC);var JC=eo("start","end","cancel","interrupt"),KC=[],tE=0,eE=1,nE=2,rE=3,iE=4,aE=5,oE=6;function uE(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};fE(t,n,{name:e,index:r,group:i,on:JC,tween:KC,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:tE})}function lE(t,e){var n=sE(t,e);if(n.state>tE)throw new Error("too late; already scheduled");return n}function cE(t,e){var n=sE(t,e);if(n.state>rE)throw new Error("too late; already running");return n}function sE(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fE(a,o,u){var l=a.__transition,c;function t(t){u.state=eE,u.timer.restart(s,u.delay,u.time),u.delay<=t&&s(t-u.delay)}function s(t){var e,n,r,i;if(u.state!==eE)return h();for(e in l)if((i=l[e]).name===u.name){if(i.state===rE)return To(s);i.state===iE?(i.state=oE,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete l[e]):+e<o&&(i.state=oE,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete l[e])}if(To(function(){u.state===rE&&(u.state=iE,u.timer.restart(f,u.delay,u.time),f(t))}),u.state=nE,u.on.call("start",a,a.__data__,u.index,u.group),u.state===nE){for(u.state=rE,c=new Array(r=u.tween.length),e=0,n=-1;e<r;++e)(i=u.tween[e].value.call(a,a.__data__,u.index,u.group))&&(c[++n]=i);c.length=n+1}}function f(t){for(var e=t<u.duration?u.ease.call(null,t/u.duration):(u.timer.restart(h),u.state=aE,1),n=-1,r=c.length;++n<r;)c[n].call(a,e);u.state===aE&&(u.on.call("end",a,a.__data__,u.index,u.group),h())}function h(){for(var t in u.state=oE,u.timer.stop(),delete l[o],l)return;delete a.__transition}(l[o]=u).timer=xo(t,0,u.time)}function hE(t,e){var n=t.__transition,r,i,a=!0,o;if(n){for(o in e=null==e?null:e+"",n)(r=n[o]).name===e?(i=r.state>nE&&r.state<aE,r.state=oE,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]):a=!1;a&&delete t.__transition}}function dE(t){return this.each(function(){hE(this,t)})}function pE(i,a){var o,u;return function(){var t=cE(this,i),e=t.tween;if(e!==o)for(var n=0,r=(u=o=e).length;n<r;++n)if(u[n].name===a){(u=u.slice()).splice(n,1);break}t.tween=u}}function gE(a,o,u){var l,c;if("function"!=typeof u)throw new Error;return function(){var t=cE(this,a),e=t.tween;if(e!==l){c=(l=e).slice();for(var n={name:o,value:u},r=0,i=c.length;r<i;++r)if(c[r].name===o){c[r]=n;break}r===i&&c.push(n)}t.tween=c}}function _E(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=sE(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((null==e?pE:gE)(n,t,e))}function mE(t,e,n){var r=t._id;return t.each(function(){var t=cE(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return sE(t,r).value[e]}}function yE(t,e,n){(t.prototype=e.prototype=n).constructor=t}function vE(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bE(){}var xE=.7,wE=1/.7,ME="\\s*([+-]?\\d+)\\s*",kE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",AE="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NE=/^#([0-9a-f]{3,8})$/,TE=new RegExp("^rgb\\("+[ME,ME,ME]+"\\)$"),SE=new RegExp("^rgb\\("+[AE,AE,AE]+"\\)$"),CE=new RegExp("^rgba\\("+[ME,ME,ME,kE]+"\\)$"),EE=new RegExp("^rgba\\("+[AE,AE,AE,kE]+"\\)$"),zE=new RegExp("^hsl\\("+[kE,AE,AE]+"\\)$"),DE=new RegExp("^hsla\\("+[kE,AE,AE,kE]+"\\)$"),FE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function LE(){return this.rgb().formatHex()}function OE(){return $E(this).formatHsl()}function jE(){return this.rgb().formatRgb()}function UE(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=NE.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?qE(e):3===n?new YE(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?HE(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?HE(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=TE.exec(t))?new YE(e[1],e[2],e[3],1):(e=SE.exec(t))?new YE(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=CE.exec(t))?HE(e[1],e[2],e[3],e[4]):(e=EE.exec(t))?HE(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=zE.exec(t))?VE(e[1],e[2]/100,e[3]/100,1):(e=DE.exec(t))?VE(e[1],e[2]/100,e[3]/100,e[4]):FE.hasOwnProperty(t)?qE(FE[t]):"transparent"===t?new YE(NaN,NaN,NaN,0):null}function qE(t){return new YE(t>>16&255,t>>8&255,255&t,1)}function HE(t,e,n,r){return r<=0&&(t=e=n=NaN),new YE(t,e,n,r)}function PE(t){return t instanceof bE||(t=UE(t)),t?new YE((t=t.rgb()).r,t.g,t.b,t.opacity):new YE}function RE(t,e,n,r){return 1===arguments.length?PE(t):new YE(t,e,n,null==r?1:r)}function YE(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function BE(){return"#"+WE(this.r)+WE(this.g)+WE(this.b)}function IE(){var t=this.opacity,t;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function WE(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function VE(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new XE(t,e,n,r)}function $E(t){if(t instanceof XE)return new XE(t.h,t.s,t.l,t.opacity);if(t instanceof bE||(t=UE(t)),!t)return new XE;if(t instanceof XE)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,l=(a+i)/2;return u?(o=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=l<.5?a+i:2-a-i,o*=60):u=0<l&&l<1?0:o,new XE(o,u,l,t.opacity)}function ZE(t,e,n,r){return 1===arguments.length?$E(t):new XE(t,e,n,null==r?1:r)}function XE(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function GE(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function QE(t,e){var n;return("number"==typeof e?Qn:e instanceof UE?In:(n=UE(e))?(e=n,In):rr)(t,e)}function JE(t){return function(){this.removeAttribute(t)}}function KE(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tz(e,n,r){var i,a=r+"",o;return function(){var t=this.getAttribute(e);return t===a?null:t===i?o:o=n(i=t,r)}}function ez(e,n,r){var i,a=r+"",o;return function(){var t=this.getAttributeNS(e.space,e.local);return t===a?null:t===i?o:o=n(i=t,r)}}function nz(r,i,a){var o,u,l;return function(){var t,e=a(this),n;if(null!=e)return(t=this.getAttribute(r))===(n=e+"")?null:t===o&&n===u?l:(u=n,l=i(o=t,e));this.removeAttribute(r)}}function rz(r,i,a){var o,u,l;return function(){var t,e=a(this),n;if(null!=e)return(t=this.getAttributeNS(r.space,r.local))===(n=e+"")?null:t===o&&n===u?l:(u=n,l=i(o=t,e));this.removeAttributeNS(r.space,r.local)}}function iz(t,e){var n=tS(t),r="transform"===n?mr:QE;return this.attrTween(t,"function"==typeof e?(n.local?rz:nz)(n,r,mE(this,"attr."+t,e)):null==e?(n.local?KE:JE)(n):(n.local?ez:tz)(n,r,e))}function az(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}function oz(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}function uz(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&oz(e,t)),r}return t._value=n,t}function lz(e,n){var r,i;function t(){var t=n.apply(this,arguments);return t!==i&&(r=(i=t)&&az(e,t)),r}return t._value=n,t}function cz(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=tS(t);return this.tween(n,(r.local?uz:lz)(r,e))}function sz(t,e){return function(){lE(this,t).delay=+e.apply(this,arguments)}}function fz(t,e){return e=+e,function(){lE(this,t).delay=e}}function hz(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?sz:fz)(e,t)):sE(this.node(),e).delay}function dz(t,e){return function(){cE(this,t).duration=+e.apply(this,arguments)}}function pz(t,e){return e=+e,function(){cE(this,t).duration=e}}function gz(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?dz:pz)(e,t)):sE(this.node(),e).duration}function _z(t,e){if("function"!=typeof e)throw new Error;return function(){cE(this,t).ease=e}}function mz(t){var e=this._id;return arguments.length?this.each(_z(e,t)):sE(this.node(),e).ease}function yz(e,n){return function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;cE(this,e).ease=t}}function vz(t){if("function"!=typeof t)throw new Error;return this.each(yz(this._id,t))}function bz(t){"function"!=typeof t&&(t=hS(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,u=r[i]=[],l,c=0;c<o;++c)(l=a[c])&&t.call(l,l.__data__,c,a)&&u.push(l);return new Xz(r,this._parents,this._name,this._id)}function xz(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var l=e[u],c=n[u],s=l.length,f=o[u]=new Array(s),h,d=0;d<s;++d)(h=l[d]||c[d])&&(f[d]=h);for(;u<r;++u)o[u]=e[u];return new Xz(o,this._parents,this._name,this._id)}function wz(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})}function Mz(n,r,i){var a,o,u=wz(r)?lE:cE;return function(){var t=u(this,n),e=t.on;e!==a&&(o=(a=e).copy()).on(r,i),t.on=o}}function kz(t,e){var n=this._id;return arguments.length<2?sE(this.node(),n).on.on(t):this.each(Mz(n,t,e))}function Az(n){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}}function Nz(){return this.on("end.remove",Az(this._id))}function Tz(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=aS(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],l=u.length,c=a[o]=new Array(l),s,f,h=0;h<l;++h)(s=u[h])&&(f=t.call(s,s.__data__,h,u))&&("__data__"in s&&(f.__data__=s.__data__),c[h]=f,uE(c[h],e,n,h,c,sE(s,n)));return new Xz(a,this._parents,e,n)}function Sz(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=cS(t));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var l=r[u],c=l.length,s,f=0;f<c;++f)if(s=l[f]){for(var h=t.call(s,s.__data__,f,l),d,p=sE(s,n),g=0,_=h.length;g<_;++g)(d=h[g])&&uE(d,e,n,g,h,p);a.push(h),o.push(s)}return new Xz(a,o,e,n)}yE(bE,UE,{copy:function t(e){return Object.assign(new this.constructor,this,e)},displayable:function t(){return this.rgb().displayable()},hex:LE,formatHex:LE,formatHsl:OE,formatRgb:jE,toString:jE}),yE(YE,RE,vE(bE,{brighter:function t(e){return e=null==e?wE:Math.pow(wE,e),new YE(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function t(e){return e=null==e?.7:Math.pow(.7,e),new YE(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function t(){return this},displayable:function t(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BE,formatHex:BE,formatRgb:IE,toString:IE})),yE(XE,ZE,vE(bE,{brighter:function t(e){return e=null==e?wE:Math.pow(wE,e),new XE(this.h,this.s,this.l*e,this.opacity)},darker:function t(e){return e=null==e?.7:Math.pow(.7,e),new XE(this.h,this.s,this.l*e,this.opacity)},rgb:function t(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new YE(GE(240<=e?e-240:120+e,a,i),GE(e,a,i),GE(e<120?240+e:e-120,a,i),this.opacity)},displayable:function t(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function t(){var e=this.opacity,e;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Cz=XC.prototype.constructor;function Ez(){return new Cz(this._groups,this._parents)}function zz(n,r){var i,a,o;return function(){var t=eC(this,n),e=(this.style.removeProperty(n),eC(this,n));return t===e?null:t===i&&e===a?o:o=r(i=t,a=e)}}function Dz(t){return function(){this.style.removeProperty(t)}}function Fz(e,n,r){var i,a=r+"",o;return function(){var t=eC(this,e);return t===a?null:t===i?o:o=n(i=t,r)}}function Lz(r,i,a){var o,u,l;return function(){var t=eC(this,r),e=a(this),n=e+"";return null==e&&(this.style.removeProperty(r),n=e=eC(this,r)),t===n?null:t===o&&n===u?l:(u=n,l=i(o=t,e))}}function Oz(r,i){var a,o,u,l="style."+i,c="end."+l,s;return function(){var t=cE(this,r),e=t.on,n=null==t.value[l]?s=s||Dz(i):void 0;e===a&&u===n||(o=(a=e).copy()).on(c,u=n),t.on=o}}function jz(t,e,n){var r="transform"==(t+="")?_r:QE;return null==e?this.styleTween(t,zz(t,r)).on("end.style."+t,Dz(t)):"function"==typeof e?this.styleTween(t,Lz(t,r,mE(this,"style."+t,e))).each(Oz(this._id,t)):this.styleTween(t,Fz(t,r,e),n).on("end.style."+t,null)}function Uz(e,n,r){return function(t){this.style.setProperty(e,n.call(this,t),r)}}function qz(e,n,r){var i,a;function t(){var t=n.apply(this,arguments);return t!==a&&(i=(a=t)&&Uz(e,t,r)),i}return t._value=n,t}function Hz(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,qz(t,e,null==n?"":n))}function Pz(t){return function(){this.textContent=t}}function Rz(e){return function(){var t=e(this);this.textContent=null==t?"":t}}function Yz(t){return this.tween("text","function"==typeof t?Rz(mE(this,"text",t)):Pz(null==t?"":t+""))}function Bz(e){return function(t){this.textContent=e.call(this,t)}}function Iz(e){var n,r;function t(){var t=e.apply(this,arguments);return t!==r&&(n=(r=t)&&Bz(t)),n}return t._value=e,t}function Wz(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Iz(t))}function Vz(){for(var t=this._name,e=this._id,n=Gz(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,c=0,s;c<u;++c){(l=o[c])&&uE(l,t,n,c,o,{time:(s=sE(l,e)).time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Xz(r,this._parents,t,n)}function $z(){var i,a,o=this,u=o._id,l=o.size();return new Promise(function(e,t){var n={value:t},r={value:function t(){0==--l&&e()}};o.each(function(){var t=cE(this,u),e=t.on;e!==i&&((a=(i=e).copy())._.cancel.push(n),a._.interrupt.push(n),a._.end.push(r)),t.on=a}),0===l&&e()})}var Zz=0;function Xz(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Gz(){return++Zz}var Qz=XC.prototype;Xz.prototype=te({constructor:Xz,select:Tz,selectAll:Sz,filter:bz,merge:xz,selection:Ez,transition:Vz,call:Qz.call,nodes:Qz.nodes,node:Qz.node,size:Qz.size,empty:Qz.empty,each:Qz.each,on:kz,attr:iz,attrTween:cz,style:jz,styleTween:Hz,text:Yz,textTween:Wz,remove:Nz,tween:_E,delay:hz,duration:gz,ease:mz,easeVarying:vz,end:$z},Symbol.iterator,Qz[Symbol.iterator]);var Jz={time:null,delay:0,duration:250,ease:$u},Kz,tD,eD;function nD(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error("transition ".concat(e," not found"));return n}function rD(t){var e,n;t=t instanceof Xz?(e=t._id,t._name):(e=Gz(),(n=Jz).time=yo(),null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,l,c=0;c<u;++c)(l=o[c])&&uE(l,t,e,c,o,n||nD(l,e));return new Xz(r,this._parents,t,e)}function iD(t){switch(!0){case t.string_array:return"string";case t.numeric_array:return"number";case t.datetime_array:return"datetime";default:return"no type found"}}function aD(t){return window.innerWidth!==Kz&&(Kz=window.innerWidth,tD=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*tD}function oD(t,e,n,r){var i=[],a=0,o,u=document.createElement("canvas").getContext("2d");u.font=e;var l=u.measureText(t).width;if(l<=r)i.push(t),a=l;else{for(var c=t.trim().split(/\s+/g),s="",f=0;f<c.length;f++){var h=c[f],d=s+(s?" ":"")+h,p=u.measureText(d).width,g,_;if(!(p<=r)){if(!(i.length+1==n)&&s)if(i.push(s),u.measureText(h).width<=r){s=h;continue}for(var m=1,y=d;y=d.substring(0,d.length-m)+"â¦",r<(p=u.measureText(y).width)&&++m<d.length;);a=Math.max(a,p),s=y;break}s=d,a=Math.max(a,p)}i.push(s)}return i.widest_line=a,i}function uD(A,O){A.update=function(){var t=A.chartLayout(),e=A.facetName(),F=1.2,r=[{chart_layout:t,facet_name:e}],p="fg-label",g="bg-label",o=A.numberParser(),_=A.animationDuration();function L(){return aD(O.x_font_size)}function w(){return aD(O.y_font_size)}function m(t){return t.replace(/\s*::\s*/g,"::").split("::").map(function(t){return t.trim()})}function y(t){return t.replace(/\s*>>\s*/,">>").split(">>").map(function(t){return t.trim()})}function v(t){return t.color}function b(t,e,n,r){var i,a,i;return i="number"===e?isNaN(o(t))?o(t):t:"datetime"===e?("x"===r?n.xDatetimeParse():n.yDatetimeParse())(t):t}function i(t,o){var u=o.chart_layout,s=u.margins.left,e=u.margins.top,f=Math.max(0,u.plot_height),n=A.xDisabled(),h=u.xScale(),l=iD(u.xData()),c=[];!n&&O.x_enabled&&O.x_lines&&O.x_lines.split("\n").forEach(function(t){var e=m(t),n=e[0],r=e[1],i,a;void 0!==r&&(i=e[2]||O.x_line_color,(a=e[3]||null)&&o.facet_name!==a||c.push({label:n,x:b(r,l,u,"x"),color:i}))});var r=QC(t).selectAll("g.line.x").data(c),i=r.enter().append("g").attr("class","line x").attr("transform",function(t){return"translate("+(h(t.x)||s)+", "+e+")"});i.append("line"),i.append("text");var a=r.merge(i);a.transition().duration(_).attr("transform",function(t){return"translate("+(h(t.x)||s)+", "+e+")"}),a.select("line").attr("stroke-dasharray",O.x_line_dash+" "+O.x_line_dash).attr("stroke",v).attr("stroke-width",O.x_line_width).attr("y2",f),a.select("text").each(function(t){var e=h(t.x)||s,n=A.fontFamily(),r=aD(O.x_label_max_width),i="".concat(O.x_font_weight,"  ").concat(O.x_font_size," ").concat(n),a=oD(t.label,i,null,r);x(a,this,O.x_font_size,O.x_font_weight,g),x(a,this,O.x_font_size,O.x_font_weight,p);var o=a.length,u=M(this,h,f,o,e),l=u.transform_str,c=u.text_anchor;QC(this).attr("transform",l).attr("text-anchor",c)}).attr("font-size",L()),a.selectAll(".".concat(p)).attr("fill",O.x_label_color),a.selectAll(".".concat(g)).attr("display",O.x_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",O.x_shadow_color).attr("stroke-width",2),r.exit().remove()}function a(t,o){var u=o.chart_layout,s=u.margins.left,r=u.margins.top,f=Math.max(0,u.plot_height),l=Math.max(0,u.plot_width),h=u.xScale(),c=iD(o.chart_layout.xData()),e=A.xDisabled(),d=[];!e&&O.x_enabled&&O.x_areas&&O.x_areas.split("\n").map(function(t){var e=m(t),n,r,i,a;e.length<2||(n=e[0],r=y(e[1]).map(function(t,e){var n=b(t,c,u,"x"),r=n?h(n):null;return A.xExtendByStep()&&(r+=h.step()/2*(0==e?-1:1)),r}),i=e[2]||O.x_area_color,(a=e[3]||null)&&o.facet_name!==a||1<r.length&&d.push({label:n,range:r,color:i}))});var n=QC(t).selectAll("g.area.x").data(d),i=n.enter().append("g").attr("class","area x").attr("transform",function(t){return"translate("+(Ne(t.range)||s)+", "+r+")"});i.append("rect").attr("height",f).attr("width",function(t){return Math.abs(t.range[1]-t.range[0])||0}),i.append("text");var a=n.merge(i);a.transition().duration(_).attr("transform",function(t){var e=Ne(t.range),n;return"translate("+(Math.max(e,s)||0)+", "+r+")"}),a.select("rect").attr("width",function(t){var e=Ne(t.range),n=Ae(t.range),r=Math.max(e,s),i=l+s,a=Math.min(n,i),o,u=4;return Math.abs(a-r)||4}).attr("fill",v).attr("opacity",O.x_area_opacity).attr("height",f),a.select("text").each(function(t){var e=A.fontFamily(),n=Ne(t.range)||s,r=aD(O.x_label_max_width),i="".concat(O.x_font_weight," ").concat(O.x_font_size," ").concat(e),a=oD(t.label,i,null,r);x(a,this,O.x_font_size,O.x_font_weight,g),x(a,this,O.x_font_size,O.x_font_weight,p);var o=a.length,u=M(this,h,f,o,n),l=u.transform_str,c=u.text_anchor;QC(this).attr("transform",l).attr("text-anchor",c)}).attr("font-size",L()),a.selectAll(".".concat(p)).attr("fill",O.x_label_color),a.selectAll(".".concat(g)).attr("display",O.x_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",O.x_shadow_color).attr("stroke-width",2),n.exit().remove()}function u(t,o){var u=o.chart_layout,s=Math.max(0,u.plot_width),e=u.margins.left,f=u.yScale(),l=iD(u.yData()),n=A.yDisabled(),h=u.margins.top,c=[];!n&&O.y_enabled&&O.y_lines&&O.y_lines.split("\n").forEach(function(t){var e=m(t),n=e[0],r=e[1],i,a;void 0!==r&&(i=e[2]||O.y_line_color,(a=e[3]||null)&&o.facet_name!==a||c.push({label:n,y:b(r,l,u,"y"),color:i}))});var r=QC(t).selectAll("g.line.y").data(c),i=r.enter().append("g").attr("class","line y").attr("transform",function(t){return"translate("+e+", "+(f(t.y)||0)+")"});i.append("line").attr("width",0),i.append("text");var a=r.merge(i);a.transition().duration(_).attr("transform",function(t){return"translate("+e+", "+(f(t.y)||0)+")"}),a.select("line").attr("stroke-dasharray",O.y_line_dash+" "+O.y_line_dash).attr("stroke",v).attr("stroke-width",O.y_line_width).attr("x2",s),a.select("text").each(function(t){var e=A.fontFamily(),n=f(t.y)||h,r=aD(O.y_label_max_width),i="".concat(O.y_font_weight," ").concat(O.y_font_size," ").concat(e),a=oD(t.label,i,null,r);x(a,this,O.y_font_size,O.y_font_weight,g),x(a,this,O.y_font_size,O.y_font_weight,p);var o=a.length,u=k(this,f,s,o,n),l=u.transform_str,c=u.text_anchor;QC(this).attr("transform",l).attr("text-anchor",c)}).attr("font-size",w()),a.selectAll(".".concat(p)).attr("fill",O.y_label_color),a.selectAll(".".concat(g)).attr("display",O.y_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",O.y_shadow_color).attr("stroke-width",2),r.exit().remove()}function l(t,o){var u=o.chart_layout,s=u.margins.top,f=Math.max(0,u.plot_width),l=Math.max(0,u.plot_height),r=u.margins.left,h=u.yScale(),c=iD(u.yData()),e=A.yDisabled(),d=[];!e&&O.y_enabled&&O.y_areas&&O.y_areas.split("\n").map(function(t){var e=m(t),n,r,i,a;e.length<2||(n=e[0],r=y(e[1]).map(function(t,e){var n=b(t,c,u,"y"),r=n?h(n):n;return A.yExtendByStep()&&(r+=h.step()/2*(0==e?1:-1)),r}),i=e[2]||O.y_area_color,(a=e[3]||null)&&o.facet_name!==a||1<r.length&&d.push({label:n,range:r,color:i}))});var n=QC(t).selectAll("g.area.y").data(d),i=n.enter().append("g").attr("class","area y").attr("transform",function(t){return"translate("+r+", "+Ne(t.range)+")"});i.append("rect").attr("width",f).attr("height",function(t){return Ne(t.range)}),i.append("text");var a=n.merge(i);a.transition().duration(_).attr("transform",function(t){var e=Ne(t.range),n=Math.max(e,s);return"translate("+r+", "+n+")"}),a.select("rect").attr("height",function(t){var e=Ne(t.range),n=Ae(t.range),r=l+s,i=Math.min(n,r),a=Math.max(e,s),o,u=4;return Math.abs(i-a)||4}).attr("fill",v).attr("opacity",O.y_area_opacity).attr("width",f),a.select("text").each(function(t){var e=A.fontFamily(),n=aD(O.y_label_max_width),r=Ne(t.range)||s,i="".concat(O.y_font_weight," ").concat(O.y_font_size," ").concat(e),a=oD(t.label,i,null,n);x(a,this,O.y_font_size,O.y_font_weight,g),x(a,this,O.y_font_size,O.y_font_weight,p);var o=a.length,u=k(this,h,f,o,r),l=u.transform_str,c=u.text_anchor;QC(this).attr("transform",l).attr("text-anchor",c)}).attr("font-size",w()),a.selectAll(".".concat(p)).attr("fill",O.y_label_color),a.selectAll(".".concat(g)).attr("display",O.y_shadow_enabled?"block":"none").attr("fill","none").attr("stroke",O.y_shadow_color).attr("stroke-width",2),n.exit().remove()}function x(t,e,n,r,i){var a=aD(n),o=QC(e).selectAll(".".concat(i)).data(t);o.join("tspan").text(function(t){return t}).attr("class",i).attr("y",function(t,e){var n;return e*(a*F)+"px"}).attr("x",0).attr("font-weight",r),o.exit().remove()}function M(t,e,n,r,i){var a,o=0,u,l="middle"==O.x_label_x_position,c="bottom"==O.x_label_y_position,s=O.x_label_vertical,f=L()*F,h=f*(r-1),d=L()/2,p,g,_=s?d:c?h+d:f,m=s?n/2:n/2-h/2,y=e.range()[1],v=e.range()[0],b=t.getBoundingClientRect().width,x,w={top:_,middle:m,bottom:n-_}[O.x_label_y_position],M,o,k,u,A,N,T,S,C,E,z,D;return s?(o=(M={right:L(),middle:-(h-d)/2,left:-h-d})[O.x_label_x_position],u={top:"end",middle:"middle",bottom:"start"}[O.x_label_y_position],y<i+b+d&&(o=M.left),i-b-d<v&&(o=M.right),l&&(y<i+b/2&&(o=M.left),i-b/2<v&&(o=M.right)),a="translate("+o+", "+w+") rotate(-90)"):s||(o=(C={right:d,middle:0,left:-d})[O.x_label_x_position],u=(E={right:"start",middle:"middle",left:"end"})[O.x_label_x_position],D=l?(z=y<i+b/2,i-b/2<v):(z=y<i+b+d,i-b-d<v),z&&(o=C.left,u=E.left),D&&(o=C.right,u=E.right),a="translate("+o+", "+w+")"),{transform_str:a,text_anchor:u}}function k(t,e,n,r,i){var a,o,u,a={left:"start",middle:"middle",right:"end"}[O.y_label_x_position],l=w()*F,c=l*(r-1),s=w()/2,f=c+s,h=e.range()[0],d=e.range()[1],p=t.getBoundingClientRect().height,g="middle"==O.y_label_y_position,_={above:-f,middle:-f/2+s,below:l},m=_[O.y_label_y_position],y,v={right:n-s,middle:n/2,left:s}[O.y_label_x_position],b,x,x=g?(b=i-p/2<d,h<i+p/2):(b=i-p<d,h<i+p);return b&&(m=_.below),x&&(m=_.above),{transform_str:o="translate("+v+", "+m+")",text_anchor:a}}function n(){var t,e=A.appendTo().selectAll("g.axis-highlights").data(r),n=e.enter().append("g").attr("class","axis-highlights").style("opacity",0);e.merge(n).transition().duration(_).style("opacity",1).each(function(t){var e=this;a(e,t),l(e,t),i(e,t),u(e,t)}),e.exit().remove()}n()}}function lD(e){var n;e.facetName=function(t){return void 0===t?n:(n=t,e)}}function cD(e){var n;e.appendTo=function(t){return void 0===t?n:(n=t,e)}}function sD(e){var n;e.fontFamily=function(t){return void 0===t?n:(n=t,e)}}function fD(t){for(var e in IT)void 0===t[e]&&(t[e]=IT[e]);var n={};return WT(n),VT(n),cD(n),$T(n),ZT(n),XT(n),GT(n),QT(n),lD(n),sD(n),uD(n,t),n}function hD(){return this.declarations=[],this}function dD(t){return this.selector=t,this.styles=[],this}XC.prototype.interrupt=dE,XC.prototype.transition=rD,eD=document.createElement("canvas").getContext("2d"),hD.prototype.select=function(t){if(!t)return this;var e=new dD(t,this);return(e.parent=this).addDeclaration(e),e},hD.prototype.addDeclaration=function(t){return this.declarations.push(t),this},hD.prototype.print=function(){var e="";return this.declarations.forEach(function(t){e+=t.selector+" {\n",t.styles.forEach(function(t){e+="\t"+t[0]+": "+t[1]+";\n"}),e+="}\n\n"}),e},hD.prototype.clear=function(){return this.declarations=[],this},dD.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},dD.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var pD=Object.freeze({font_size:1,font_weight:"bold",padding:.4});function gD(t,e,n){for(var r in this._state=t,pD)void 0===this._state[r]&&(this._state[r]=pD[r]);return this._layout=n||{},this._styles=new hD,this._selector=e,this._createStylesheet(),this}function _D(t,e,n){(t.prototype=e.prototype=n).constructor=t}function mD(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yD(){}gD.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-controls",document.head.appendChild(this._stylesheet)},gD.prototype.update=function(){this._styles.clear(),this._styles.select(this._selector+".hidden").style("display","none"),this._styles.select(this._selector).style("vertical-align","middle").style("position","relative").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(".fl-controls-title").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight).style("vertical-align","middle"),this._styles.select(this._selector+".fl-control .button").style("padding",this._state.padding+"rem "+2*this._state.padding+"rem"),this._styles.select(this._selector+" .list-item").style("padding",Math.max(this._state.padding,.5)+"rem"),this._styles.select(this._selector+"-dropdown .main").style("padding",this._state.padding+"rem "+1.5*this._state.padding+"rem"),this._styles.select(this._selector+"-slider .slider-end-labels").style("font-size",this._state.font_size+"rem").style("font-weight",this._state.font_weight),this._styles.select(this._selector+"-slider").style("padding",this._state.padding+"rem 0"),this._stylesheet.innerHTML=this._styles.print()};var vD=.7,bD=1/.7,xD="\\s*([+-]?\\d+)\\s*",wD="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",MD="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kD=/^#([0-9a-f]{3,8})$/,AD=new RegExp("^rgb\\("+[xD,xD,xD]+"\\)$"),ND=new RegExp("^rgb\\("+[MD,MD,MD]+"\\)$"),TD=new RegExp("^rgba\\("+[xD,xD,xD,wD]+"\\)$"),SD=new RegExp("^rgba\\("+[MD,MD,MD,wD]+"\\)$"),CD=new RegExp("^hsl\\("+[wD,MD,MD]+"\\)$"),ED=new RegExp("^hsla\\("+[wD,MD,MD,wD]+"\\)$"),zD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},DD;function FD(){return this.rgb().formatHex()}function LD(){return VD(this).formatHsl()}function OD(){return this.rgb().formatRgb()}function jD(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kD.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?UD(e):3===n?new RD(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?qD(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?qD(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=AD.exec(t))?new RD(e[1],e[2],e[3],1):(e=ND.exec(t))?new RD(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=TD.exec(t))?qD(e[1],e[2],e[3],e[4]):(e=SD.exec(t))?qD(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=CD.exec(t))?WD(e[1],e[2]/100,e[3]/100,1):(e=ED.exec(t))?WD(e[1],e[2]/100,e[3]/100,e[4]):zD.hasOwnProperty(t)?UD(zD[t]):"transparent"===t?new RD(NaN,NaN,NaN,0):null}function UD(t){return new RD(t>>16&255,t>>8&255,255&t,1)}function qD(t,e,n,r){return r<=0&&(t=e=n=NaN),new RD(t,e,n,r)}function HD(t){return t instanceof yD||(t=jD(t)),t?new RD((t=t.rgb()).r,t.g,t.b,t.opacity):new RD}function PD(t,e,n,r){return 1===arguments.length?HD(t):new RD(t,e,n,null==r?1:r)}function RD(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function YD(){return"#"+ID(this.r)+ID(this.g)+ID(this.b)}function BD(){var t=this.opacity,t;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ID(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function WD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new ZD(t,e,n,r)}function VD(t){if(t instanceof ZD)return new ZD(t.h,t.s,t.l,t.opacity);if(t instanceof yD||(t=jD(t)),!t)return new ZD;if(t instanceof ZD)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,u=a-i,l=(a+i)/2;return u?(o=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=l<.5?a+i:2-a-i,o*=60):u=0<l&&l<1?0:o,new ZD(o,u,l,t.opacity)}function $D(t,e,n,r){return 1===arguments.length?VD(t):new ZD(t,e,n,null==r?1:r)}function ZD(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function XD(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function GD(t,e){if("string"!=typeof t)return!1;var n=jD(t);return n.opacity=void 0!==e?e:1,n}function QD(t,e){var n=GD(t,e);return!!n&&n.toString()}_D(yD,jD,{copy:function t(e){return Object.assign(new this.constructor,this,e)},displayable:function t(){return this.rgb().displayable()},hex:FD,formatHex:FD,formatHsl:LD,formatRgb:OD,toString:OD}),_D(RD,PD,mD(yD,{brighter:function t(e){return e=null==e?bD:Math.pow(bD,e),new RD(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function t(e){return e=null==e?.7:Math.pow(.7,e),new RD(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function t(){return this},displayable:function t(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YD,formatHex:YD,formatRgb:BD,toString:BD})),_D(ZD,$D,mD(yD,{brighter:function t(e){return e=null==e?bD:Math.pow(bD,e),new ZD(this.h,this.s,this.l*e,this.opacity)},darker:function t(e){return e=null==e?.7:Math.pow(.7,e),new ZD(this.h,this.s,this.l*e,this.opacity)},rgb:function t(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,a=2*r-i;return new RD(XD(240<=e?e-240:120+e,a,i),XD(e,a,i),XD(e<120?240+e:e-120,a,i),this.opacity)},displayable:function t(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function t(){var e=this.opacity,e;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}})),DD=document.createElement("canvas").getContext("2d");var JD=Object.freeze({background:null,font_color:null,background_selected:"#2886b2",font_color_selected:"#ffffff",background_hover:null,font_color_hover:null,border_width:1,border_transparency:.25,border_color:null,border_radius:3});function KD(t,e,n){for(var r in this._state=t,JD)void 0===this._state[r]&&(this._state[r]=JD[r]);return this._layout=n||{},this._styles=new hD,this._selector=e,this._createStylesheet(),this}KD.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-button",document.head.appendChild(this._stylesheet)},KD.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=QD(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+".fl-control.hidden").style("display","none"),this._styles.select(this._selector+".fl-control .button").style("overflow","hidden").style("white-space","nowrap").style("box-sizing","content-box").style("margin","0 2px 0 0 !important").style("background-color",t).style("color",e).style("border",this._state.border_width+"px solid "+n).style("border-radius",this._state.border_radius+"px"),this._styles.select(this._selector+".fl-control .button:hover").style("background-color",this._state.background_hover||t).style("color",this._state.font_color_hover||e),this._styles.select(this._selector+".fl-control .button.selected").style("background-color",this._state.background_selected).style("color",this._state.font_color_selected),this._styles.select(this._selector+".grouped.fl-control .button").style("border-right","none").style("border-radius","0").style("margin","0"),this._styles.select(this._selector+".grouped.fl-control .button:first-child").style("border-radius",this._state.border_radius+"px 0 0 "+this._state.border_radius+"px"),this._styles.select(this._selector+".grouped.fl-control .button:last-child").style("border-radius","0 "+this._state.border_radius+"px "+this._state.border_radius+"px 0").style("border-right",this._state.border_width+"px solid "+n),this._styles.select(this._selector+".grouped.fl-control.fixed-width:not(.hidden)").style("width",this._state.grouped_width+"%"),this._stylesheet.innerHTML=this._styles.print()};var tF=Object.freeze({background:null,font_color:null,border_style:"bottom",border_width:1,border_color:null,border_transparency:.25,border_radius:3});function eF(t,e,n){for(var r in this._state=t,tF)void 0===this._state[r]&&(this._state[r]=tF[r]);return this._layout=n||{},this._styles=new hD,this._selector=e,this._createStylesheet(),this}function nF(t,e,n){return new gD(t,e,n)}function rF(t,e,n){return new KD(t,e,n)}function iF(t,e,n){return new eF(t,e,n)}function aF(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function oF(o){return 1===o.length&&(o=uF(o)),{left:function t(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;o(e[a],n)<0?r=1+a:i=a}return r},right:function t(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var a=r+i>>>1;0<o(e[a],n)?i=a:r=1+a}return r}}}function uF(n){return function(t,e){return aF(n(t),e)}}eF.prototype._createStylesheet=function(){this._stylesheet=document.createElement("style"),this._stylesheet.className="fl-ui-styles-dropdown",document.head.appendChild(this._stylesheet)},eF.prototype.update=function(){this._styles.clear();var t=this._state.background||this._layout.background_color||"#ffffff",e=this._state.font_color||this._layout.font_color||"#333333",n=QD(this._state.border_color||e,this._state.border_transparency);this._styles.select(this._selector+" .heading").style("margin-bottom","0.4em"),this._styles.select(this._selector).style("pointer-events","all"),this._styles.select(this._selector+" .main").style("display","inline-block").style("cursor","pointer").style("overflow","hidden").style("white-space","nowrap").style("position","relative").style("background-color",t).style("color",e).style("border","bottom"==this._state.border_style?this._state.border_width+"px solid transparent":this._state.border_width+"px solid "+n).style("border-bottom","bottom"==this._state.border_style?this._state.border_width+"px solid "+n:null).style("border-radius","bottom"==this._state.border_style?null:this._state.border_radius+"px"),this._styles.select(this._selector+" .main .symbol").style("float","right").select("div").style("border-top-color",e+" !important"),this._styles.select(this._selector+" .main .current").style("line-height","1em").style("height","100%").style("max-width","88%").style("display","inline-block").style("overflow","hidden").style("vertical-align","top"),this._styles.select(this._selector+" .list").style("top","2px").style("min-width","100%").style("padding","2px").style("display","none").style("max-height","200px").style("overflow-y","auto").style("box-shadow","0 1px 4px rgba(0, 0, 0, .1)").style("margin-top","2px").select(".list-item").style("line-height","1em").style("cursor","pointer").style("font-weight","normal").style("color",e),this._styles.select(this._selector+".open .list").style("display","block").style("border",this._state.border_width+"px solid "+n).style("background-color",t).style("z-index","1").style("animation","dropdown-out 200ms"),this._styles.select(this._selector+" .list-item:hover").style("opacity","0.6"),this._styles.select(this._selector+" .list-item.selected, "+this._selector+" .list-item.selected:hover").style("opacity","1").style("cursor","default"),"bottom"==this._state.border_style&&this._styles.select(this._selector+" .main").style("padding-left",0).style("padding-right","0.1rem"),this._stylesheet.innerHTML=this._styles.print()};var lF,cF=oF(aF).right,sF=Math.sqrt(50),fF=Math.sqrt(10),hF=Math.sqrt(2);function dF(t,e,n){var r,i=-1,a,o,u;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(u=pF(t,e,n))||!isFinite(u))return[];if(0<u)for(t=Math.ceil(t/u),e=Math.floor(e/u),o=new Array(a=Math.ceil(e-t+1));++i<a;)o[i]=(t+i)*u;else for(t=Math.floor(t*u),e=Math.ceil(e*u),o=new Array(a=Math.ceil(t-e+1));++i<a;)o[i]=(t-i)/u;return r&&o.reverse(),o}function pF(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return 0<=i?(sF<=a?10:fF<=a?5:hF<=a?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(sF<=a?10:fF<=a?5:hF<=a?2:1)}function gF(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return sF<=a?i*=10:fF<=a?i*=5:hF<=a&&(i*=2),e<t?-i:i}function _F(t){var e;return t.appendChild(this._container.node()),document.querySelector("#legend-styles")||((e=document.createElement("style")).id="legend-styles",e.type="text/css",e.innerHTML=".fl-legend-container.interactive .fl-legend-item:hover { opacity: 0.75; cursor: pointer; }",document.head.appendChild(e)),this}function mF(t){return this._formatFunction=t,this}function yF(){return this._container}function vF(t){return void 0===t?this._visible:(this._visible=t,this)}function bF(t){return void 0===t?this._auto_title:(this._auto_title=t,this)}function xF(){var t=this,e="auto"==t._state.title_mode?t.autoTitle():t._state.title;this._container.select(".fl-legend-title").text(e).style("display",function(){return e.trim()?void 0===t._state.orientation||"horizontal"==t._state.orientation?"inline-block":"block":"none"}).style("font-weight",this._state.title_weight).style("color",this._state.text_color).style("vertical-align","middle").style("font-size",this._state.text_size+"rem").style("line-height","1.25rem").style("margin-top",0).style("margin-bottom",0).style("margin-right",this._state.text_size+"rem")}function wF(t,e){var n=t.sort(aF),r=n[0],i=n[n.length-1],a=2<n.length?n[1]:null;null===e.legend_min&&null===e.legend_max||(null!==e.legend_min&&null!==e.legend_max?e.legend_min<e.legend_max&&(r=e.legend_min,i=e.legend_max):null!==e.legend_min?i<(r=e.legend_min)&&(i=r+2):(i=e.legend_max)<r&&(r=i-2)),null!==a&&(a<r||i<a)&&(a=null);var o=[r];return null!==a&&o.push(a),o.push(i),o.min=r,o.max=i,o.mid=a,o}var MF=0,kF=Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",swatch_width:.75,swatch_height:1,swatch_radius:3,order_override:"",orientation:"horizontal",text_color:null,text_size:1,text_weight:"normal"});function AF(t){for(var e in this._state=t,kF)void 0===this._state[e]&&(this._state[e]=kF[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_items=[],this._filtered_items=[],this._eventListeners=[],this._id="fl-legend-discrete-color-"+MF,this._visible=!0,this._auto_title="",this._container=Xt(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id),this._container.append("p").attr("class","fl-legend-title"),MF++,this}function NF(t,e){for(var n={},r=e.split(/\s*\n\s*/),i=0,a;i<r.length;i++){n[r[i]]=i}for(var o=[],u=0;u<t.length;u++){var l=t[u],c=n[l.label];void 0!==c&&(o[c]=l)}return o.filter(function(t){return void 0!==t})}function TF(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}AF.prototype.appendTo=_F,AF.prototype.format=mF,AF.prototype.getContainer=yF,AF.prototype.visible=vF,AF.prototype.autoTitle=bF,AF.prototype._updateTitle=xF,AF.prototype.data=function(t,r){return this._colorFunction=r,t||r?(r?Array.isArray(t)?this._legend_items=t.slice().map(function(t,e){var n="object"==Kt(t)?t.label||"":t;return n?{label:n,color:r(n,e),index:e}:null}).filter(function(t){return null!==t}):this._legend_items=[]:this._legend_items=Array.isArray(t)?t.slice():[],this):this._legend_items.slice()},AF.prototype.filtered=function(t){return t?(this._filtered_items=Array.isArray(t)?t.slice():[],this):this._filtered_items.slice()},AF.prototype.on=function(t,i){return this._container&&(i&&this._eventListeners.indexOf(t)<0?this._eventListeners.push(t):i||this._eventListeners.splice(this._eventListeners.indexOf[t],1),this._container.classed("interactive",0<this._eventListeners.length),i?this._container.on(t,function(){var t=Lt.target,e=t.parentNode,n=t.classList.contains("fl-legend-item")?t:e.classList.contains("fl-legend-item")?e:null,r;n&&(r=Xt(n).datum(),i.call(n,r,r.index))}):this._container.on(t,null)),this},AF.prototype.update=function(){var t=this._state.show_legend&&this._visible&&0<this._legend_items.length;return this._container.style("display",t?"":"none"),t&&(this._updateTitle(),this._updateLegend()),this},AF.prototype._updateLegend=function(){var e=this,n=this._formatFunction,t;this._container.style("line-height","1.25rem").style("display","inline-flex").style("flex-wrap","wrap").style("align-items","horizontal"==this._state.orientation?"center":"start").style("flex-direction","horizontal"==this._state.orientation?null:"column"),t=this._state.order_override.trim()?NF(this._legend_items,this._state.order_override):this._legend_items;var r=this._container.selectAll(".fl-legend-item").data(t),i=r.enter().append("div").attr("class","fl-legend-item");i.append("div").attr("class","fl-legend-swatch"),i.append("p").attr("class","fl-legend-label");var a=r.merge(i);return a.style("display","horizontal"==this._state.orientation?"inline-block":"block").style("opacity",function(t){return-1<e._filtered_items.indexOf(t.label)?.2:""}).style("line-height","0").style("vertical-align","middle").style("margin-right","horizontal"==this._state.orientation?.5*this._state.text_size+"rem":""),a.select(".fl-legend-swatch").style("height",this._state.swatch_height+"rem").style("width",this._state.swatch_width+"rem").style("margin-right",.25*this._state.text_size+"rem").style("border-radius",this._state.swatch_radius+"px").style("background-color",function(t){return t.color}).style("vertical-align","middle").style("display","inline-block"),a.select(".fl-legend-label").style("font-size",this._state.text_size+"rem").style("color",this._state.text_color).text(function(t){return n?n(t.label):t.label}).style("margin",0).style("vertical-align","middle").style("user-select","none").style("line-height","1.25rem").style("font-weight",this._state.text_weight).style("display","inline-block"),r.exit().remove(),this._legend_item_els=a,this};var SF=Array.prototype,CF=SF.map,EF=SF.slice;function zF(t){return function(){return t}}function DF(t){return+t}var FF=[0,1];function LF(t){return t}function OF(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:zF(isNaN(n)?NaN:.5)}function jF(t){var e=t[0],n=t[t.length-1],r;return n<e&&(r=e,e=n,n=r),function(t){return Math.max(e,Math.min(n,t))}}function UF(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1],a=i<r?(r=OF(i,r),n(o,a)):(r=OF(r,i),n(a,o));return function(t){return a(r(t))}}function qF(n,t,e){var r=Math.min(n.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=OF(n[o],n[o+1]),a[o]=e(t[o],t[o+1]);return function(t){var e=cF(n,t,1,r)-1;return a[e](i[e](t))}}function HF(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function PF(){var e=FF,n=FF,r=ir,i,a,o,u=LF,l,c,s;function f(){return l=2<Math.min(e.length,n.length)?qF:UF,c=s=null,h}function h(t){return isNaN(t=+t)?o:(c=c||l(e.map(i),n,r))(i(u(t)))}return h.invert=function(t){return u(a((s=s||l(n,e.map(i),Qn))(t)))},h.domain=function(t){return arguments.length?(e=CF.call(t,DF),u===LF||(u=jF(e)),f()):e.slice()},h.range=function(t){return arguments.length?(n=EF.call(t),f()):n.slice()},h.rangeRound=function(t){return n=EF.call(t),r=ar,f()},h.clamp=function(t){return arguments.length?(u=t?jF(e):LF,h):u!==LF},h.interpolate=function(t){return arguments.length?(r=t,f()):r},h.unknown=function(t){return arguments.length?(o=t,h):o},function(t,e){return i=t,a=e,f()}}function RF(t,e){return PF()(t,e)}function YF(t,e,n,r){var i=gF(t,e,n),a;switch((r=Br(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=ri(i,o))||(r.precision=a),Kr(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=ii(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=ni(i))||(r.precision=a-2*("%"===r.type))}return Jr(r)}function BF(u){var l=u.domain;return u.ticks=function(t){var e=l();return dF(e[0],e[e.length-1],null==t?10:t)},u.tickFormat=function(t,e){var n=l();return YF(n[0],n[n.length-1],null==t?10:t,e)},u.nice=function(t){null==t&&(t=10);var e=l(),n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=i,i=a,a=o,o=n,n=r,r=o),0<(o=pF(i,a,t))?o=pF(i=Math.floor(i/o)*o,a=Math.ceil(a/o)*o,t):o<0&&(o=pF(i=Math.ceil(i*o)/o,a=Math.floor(a*o)/o,t)),0<o?(e[n]=Math.floor(i/o)*o,e[r]=Math.ceil(a/o)*o,l(e)):o<0&&(e[n]=Math.ceil(i*o)/o,e[r]=Math.floor(a*o)/o,l(e)),u},u}function IF(){var t=RF(LF,LF);return t.copy=function(){return HF(t,IF())},TF.apply(t,arguments),BF(t)}function WF(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}var VF=0,$F=window.devicePixelRatio||1,ZF=Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",color_band_width:8,color_band_height:1,color_band_radius:3,binned_label_mode:"thresholds",binned_label_custom:"",legend_min:null,legend_max:null,text_color:null,text_size:1,text_weight:"normal"});function XF(t){for(var e in this._state=t,ZF)void 0===this._state[e]&&(this._state[e]=ZF[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_domain=[],this._id="fl-legend-continuous-color-"+VF,this._visible=!0,this._marker_value=null,this._auto_title="",this._container=Xt(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id).style("display","none"),this._container.append("p").classed("fl-legend-title",!0),this._container.append("div").classed("min label",!0),this._container.append("div").classed("color-range-container",!0),this._container.select(".color-range-container").append("canvas").classed("color-range",!0),this._container.select(".color-range-container").append("canvas").classed("color-range-labels",!0),this._container.append("div").classed("max label",!0),VF++,this}function GF(t){var e=-1/0,n=1/0;for(var r in t)e=Math.max(e,t[r]),n=Math.min(n,t[r]);return function(t){return n<=t&&t<=e}}function QF(t){return new AF(t)}function JF(t){return new XF(t)}XF.prototype.appendTo=_F,XF.prototype.format=mF,XF.prototype.getContainer=yF,XF.prototype.visible=vF,XF.prototype.autoTitle=bF,XF.prototype._updateTitle=xF,XF.prototype.data=function(t,e){if(!t&&!e)return this._legend_domain.slice();var n=Array.isArray(t)?t.slice():[];return this._legend_domain=wF(n,this._state),this._colorFunction=e,this},XF.prototype.markerValue=function(t){return void 0===t?this._marker_value:(this._marker_value=t,this)},XF.prototype.update=function(){var t=this._state.show_legend&&this._visible&&0<this._legend_domain.length;return this._container.style("display",t?"":"none"),t&&(this._updateTitle(),this._updateLegend()),this},XF.prototype._updateLegend=function(){var e=this._legend_domain;this._scale_type="continuous",this._colorFunction.thresholds?this._scale_type="binned":2<e.length&&(this._scale_type="diverging");var t=this._state,n=WF(t.color_band_width),r=WF(t.color_band_height),i=Math.ceil(.95*WF(t.text_size)),a=n;this._container.style("display","inline-flex").style("align-items","center"),this._container.select(".color-range-container").style("display","inline-block");var o=this._container.select(".color-range").attr("width",n*$F).attr("height",r*$F).style("border-radius",t.color_band_radius+"px").style("width",n+"px").style("height",r+"px").style("display","block");this._container.select(".color-range-labels").attr("width",a*$F).attr("height",i*$F).style("width",a+"px").style("height",i+"px").style("display","continuous"==this._scale_type?"none":"block").style("margin-top",.25*t.text_size+"rem").node().getContext("2d").scale($F,$F);var u=o.node().getContext("2d");function l(t){return e.min+t/n*(e.max-e.min)}u.scale($F,$F);for(var c=0,s,f,h,d;c<n;c++)u.fillStyle=this._colorFunction(l(c)),u.fillRect(c,0,1,r);null!==this._marker_value&&(f=IF().domain([e.min,e.max]).range([0,n])(this.markerValue()),h=0,d=r,u.save(),u.strokeStyle="#FFFFFF",u.lineWidth=3,u.beginPath(),u.moveTo(f,0),u.lineTo(f,d),u.stroke(),u.strokeStyle="#000000",u.lineWidth=1,u.beginPath(),u.moveTo(f,0),u.lineTo(f,d),u.stroke(),u.restore()),this._updateLegendLabels()},XF.prototype._updateLegendLabels=function(){var t=this._container.select(".color-range-labels"),f=this._formatFunction,e=this._legend_domain,n=this._state;this._container.select(".min.label").style("display","continuous"==this._scale_type?"inline-block":"none").style("vertical-align","middle").style("user-select","none").style("margin-right",.5*n.text_size+"rem").style("font-size",n.text_size+"rem").style("font-weight",n.text_weight).style("line-height","1.25rem").style("color",n.text_color).text(function(){return f?f(e.min):e.min}),this._container.select(".max.label").style("display","continuous"==this._scale_type?"inline-block":"none").style("vertical-align","middle").style("user-select","none").style("margin-left",.5*n.text_size+"rem").style("font-size",n.text_size+"rem").style("font-weight",n.text_weight).style("line-height","1.25rem").style("color",n.text_color).text(function(){return f?f(e.max):e.max});var r=[],h=0,d=0,i,a,o,u,p,l,c,s,g,_,m,y;"diverging"===this._scale_type?r=this._getDivergingLabels():"binned"===this._scale_type&&(r=this._getBinnedLabels()),r.length&&(o=(a=(i=window.template||void 0)?i.state.layout:void 0)?a.body_font.name:window.getComputedStyle(document.body).fontFamily,u=n.text_color||i&&a&&a.font_color||"#333333",(p=t.node().getContext("2d")).textAlign="center",p.textBaseline="top",p.fillStyle=u,p.font=n.text_weight+" "+WF(n.text_size)+"px "+o,g=[],_=WF(n.color_band_width),m=GF([0,_]),y=IF().domain([e.min,e.max]).range([0,_]),l=function(t){var e=y(t);if(m(e)){for(var n=f?f(t):t,r=p.measureText(n).width/2+1,i=e-r,a=e+r,o=0,u=g.length,l=0;l<u&&e>g[l].center;l++)o++;var c=0===o,s=o===u;if(!(!c&&g[o-1].right>i||!s&&g[o].left<a))return c&&(h=Math.abs(Math.min(0,i))),s&&(d=Math.max(0,a-_)),g.splice(o,0,{left:i,center:e,right:a}),{text:n,position:e}}},c=r.map(function(t){return l(t)}),s=WF(n.color_band_width)+h+d,t.attr("width",s*$F).style("width",s+"px"),Xt(".color-range").style("margin-left",h+"px"),p.scale($F,$F),p.textAlign="center",p.textBaseline="top",p.fillStyle=u,p.font=n.text_weight+" "+WF(n.text_size)+"px "+o,c.forEach(function(t){t&&p.fillText(t.text,t.position+h,0)}))},XF.prototype._getDivergingLabels=function(){var t=this._legend_domain,e=GF(t),n=[];return e(t.min)&&n.push(t.min),e(t.mid)&&n.push(t.mid),e(t.max)&&n.push(t.max),n},XF.prototype._getBinnedLabels=function(){var t=this._state,e=this._legend_domain,n=GF(e),r,i,a,o,r;return"thresholds"===t.binned_label_mode?(r=this._colorFunction.thresholds.slice().filter(n),e.min<r[0]&&r.unshift(e.min),e.max>r[r.length-e.length-1]&&r.unshift(e.max)):"centers"===t.binned_label_mode?(r=this._colorFunction.centers.slice().filter(n)).length?(a=(i=this._colorFunction.thresholds)[0],o=i[i.length-1],a>e.min&&r.unshift((e.min+a)/2),o<e.max&&r.unshift((o+e.max)/2)):r.push((e.min+e.max)/2):r=t.binned_label_custom.split(";").map(parseFloat),r},Object.freeze({show_legend:!0,title_mode:"auto",title:"",title_weight:"bold",clip_height:1,small_circle_size:.5,shape_fill:"#eeeeee",shape_stroke:"#555555",text_color:null,text_size:1,text_weight:"normal"});var KF=hd(gf.layout),tL,eL,nL=nw(Xt(KF.getSection("primary")).append("svg").attr("id","chart"),{x:gf.x,y:gf.y}),rL=fD(gf.axes_highlights),iL=nA(gf.color),aL=zw(document.body,gf.popup),oL=BT(gf.row_filter),uL=nF(gf.controls_style,".fl-control",gf.layout),lL=iF(gf.dropdown_style,".fl-control-dropdown",gf.layout),cL=rF(gf.button_style,".fl-control-buttons",gf.layout),sL=jw(gf.localization),fL=Rw(gf.formatter),hL=JF(gf.legend_continuous),dL=QF(gf.legend_categorical);function pL(t,e,n){for(var r in e){var i=e[r],a,o;"object"!=Kt(i)||null===i||Array.isArray(i)?-1<n.indexOf(r)?t[r]=i:Flourish.warn("State property `"+r+"` not whitelisted for use in URL"):(a=r.length,o=n.filter(function(t){return t.substring(0,a)==r}).map(function(t){return t.substring(a+1)}),pL(t[r],i,o))}}function gL(t,e){var n=location.hash.substring(1),r;if(""!=n){try{r=JSON.parse(decodeURIComponent(n))}catch(t){Flourish.warn({message:"Invalid JSON passed to template URL hash",explanation:t})}r&&pL(t,r,e)}}function _L(t,e,n){var r,i={enabled:t.enabled||!1,whitelist:t.whitelist||""}.whitelist.split(/\n/);gL(e,i),window.addEventListener("hashchange",function(){gL(e,i),n&&n()})}var mL=Af(["width","fixed_height"]),yL,vL,bL,xL,wL,ML;function kL(){var t=mL({width:window.innerWidth}),e=mL({fixed_height:Flourish.fixed_height});(t||e.fixed_height)&&BL(t)}function AL(){_L(gf.url_state,gf,BL),Nf(),hL.appendTo(KF.getSection("legend")),dL.appendTo(KF.getSection("legend")),oL.appendTo(KF.getSection("controls")).on("change",function(t){gf.row_filter_value=t==gf.row_filter_all_text?null:t,BL()}),nL.data_foreground.append("g").attr("class","cells"),rL.appendTo(Xt(".fl-data-foreground")),BL(),window.onresize=kL}function NL(){BL()}mL({width:window.innerWidth,fixed_height:Flourish.fixed_height});var TL=pf(),SL=[];function CL(){aL.hide();var t={value_display:_f.data.column_names.value};"x"in _f.data.column_names&&(t.x_label=_f.data.column_names.x),"y"in _f.data.column_names&&(t.y_label=_f.data.column_names.y),aL.addColumnNames(t)}function EL(t,n){return t.reduce(function(t,e){return t[0]=Math.min(t[0],e[n].start),t[1]=Math.max(t[1],e[n].end),t},[1/0,-1/0])}function zL(){return"categorical"==gf.color.scale_type}function DL(){var t=yL.color_domain,e=_f.data.column_names.value||"",n;zL()?(iL.updateColorScale(t),hL.data([],iL.getColor).visible(!1).update(),dL.visible(!0).data(iL.getColor.items).autoTitle(e).update()):(n=yL.map(function(t){return t.value}),iL.updateColorScale(n),dL.visible(!1).data([]).update(),hL.visible(!0).format(ML).autoTitle(e).data(isNaN(t[0])||isNaN(t[1])?[]:t,iL.getColor).update())}function FL(e){var t=_f.data.slice(0,Math.min(10,_f.data.length)).map(function(t){return t[e]}),n;return"string"==TL(t)[0].type||!(e in _f.data.column_names)||"categorical"===gf[e+"_axis_datatype"]}function LL(i){var t;return function t(e){for(var n=0;n<i.length;n++){var r=i[n];if(e<=r.bin_end)return{center:r.bin_center,start:r.bin_start,end:r.bin_end}}throw new Error("Bug: "+e+" outside all bin ranges")}}function OL(){_f.data.processed=!0;var o=sL.getParser(),i={};yL=[];var u={};["x","y"].forEach(function(e){var t,n,r,i,a;FL(e)||(t=null,"custom"===gf[e+"_axis_binning"]&&(t={width:gf[e+"_axis_bin_width"],center:gf[e+"_axis_bin_center"]}),n=_f.data.map(function(t){return o(t[e])}),r=Math.max.apply(null,n),i=Math.min.apply(null,n),a=Kl(n).domain([i,r]).binning(t)(),u[e]=LL(a)),_f.data.processed=!0});var a=zL(),l=FL("x"),c=FL("y"),s={},f=[];"filter"in _f.data.column_names?(SL=HL(_f.data.map(function(t){return t.filter})),null!==gf.row_filter_value||gf.row_filter_all||(gf.row_filter_value=SL[0])):SL=[],_f.data.forEach(function(t){var e=a?t.value:o(t.value),n,r;!a&&isNaN(e)||SL.length&&null!==gf.row_filter_value&&gf.row_filter_value!==gf.row_filter_all_text&&gf.row_filter_value!==t.filter||(n=l?{center:t.x||""}:u.x(t.x),r=c?{center:t.y||""}:u.y(t.y),n.center in i||(i[n.center]={}),r.center in i[n.center]||(a||(i[n.center][r.center]=0),yL.push({x:n,y:r,x_label:l?n.center:n.start+"â"+n.end,y_label:c?r.center:r.start+"â"+r.end})),a?(s[e]||(s[e]=!0,f.push(e)),i[n.center][r.center]=e):i[n.center][r.center]+=e)});var e=1/0,n=-1/0,t;yL.forEach(function(t){t.value=i[t.x.center][t.y.center],t.value_display=a?t.value:ML(t.value),a||(e=Math.min(e,t.value),n=Math.max(n,t.value))}),t=a?f:ui().domain([e,n]).nice().domain(),yL.color_domain=t}function jL(){KF.update();var t=KF.getPrimaryWidth(),e,n,r,i,i;["x","y"].forEach(function(e){var t;FL(e)?(t="y"==e?yL.slice().reverse():yL,nL[e+"Data"](t,function(t){return t[e].center})):nL[e+"Data"](EL(yL,e))}),nL.width(t).xAutoTitle(_f.data.column_names.x||"").yAutoTitle(_f.data.column_names.y||"").update(),xL=nL.xScale(),vL=FL("x")?xL.step?Math.max(1,xL.step()-gf.cell_x_margin/2):0:xL(yL[0].x.end)-xL(yL[0].x.start),!Flourish.fixed_height&&"auto"!=gf.height_mode?(r=FL("y")?nL.yScale().domain().length:10,i="fixed"==gf.height_mode?r*KF.remToPx(gf.cell_height):r*(vL/gf.cell_aspect),nL.width(t).plotAspect(nL.plot_width/i).update(),e=nL.height(),KF.setHeight(e)):(KF.setHeight(null),e=KF[Flourish.fixed_height?"getPrimaryHeight":"getDefaultPrimaryHeight"](),nL.width(t).height(e).update()),Xt("#chart").attr("height",e).attr("width",t),wL=nL.yScale(),bL=FL("y")?wL.step?Math.max(1,wL.step()-gf.cell_y_margin/2):0:wL(yL[0].y.start)-wL(yL[0].y.end)}function UL(){var t="categorical"===gf.x_axis_datatype;rL.chartLayout(nL).xExtendByStep(t).update()}function qL(l){var t=nL.data_foreground.select(".cells").selectAll(".cell").data(yL,function(t,e){return gf.animation_key?t.x_label+"-"+t.y_label:e}),e=t.enter().append("rect").attr("class","cell").on("mouseleave",function(){aL.hide()}).on("mouseenter",function(){var t=this.getBoundingClientRect(),e=t.left+t.width/2,n=t.top+t.height/2,r=Xt(this).datum();aL.point(e,n).draw(r)}).attr("transform",function(t){var e,n;return"translate("+(xL(t.x.center)-vL/2)+","+(wL(t.y.center)-bL/2)+") scale(1, 1)"}).attr("fill","rgba(255,255,255,0)"),n;t.exit().remove(),t.merge(e).attr("height",bL).attr("width",vL).each(function(t,e){var n=xL(t.x.center)-vL/2,r=wL(t.y.center)-bL/2,i="translate("+n+","+r+") scale(1, 1)",a=l?0:1e3*gf.animation_duration,o=l?0:null==gf.animation_spread?100*e/Math.sqrt(yL.length):e*(1e3*gf.animation_spread)/yL.length,u=iL.getColor(t.value);a&&"none"!=gf.animation_style||Xt(this).attr("transform","translate("+(n+vL/2)+","+r+") scale(0, 1)").attr("fill",u).attr("transform",i),"flip"==gf.animation_style?Xt(this).transition().duration(a/2).delay(o).attr("transform","translate("+(n+vL/2)+","+r+") scale(0, 1)").transition().duration(0).attr("fill",u).transition().duration(a/2).attr("transform",i):"fade"==gf.animation_style&&Xt(this).transition().duration(a).delay(o).attr("fill",u).attr("transform",i)})}function HL(t){for(var e=[],n={},r=0;r<t.length;r++)t[r]in n||(n[t[r]]=!0,e.push(t[r]));return e}function PL(){uL.update(),lL.update(),cL.update()}function RL(){PL(),gf.row_filter_all&&(SL=[gf.row_filter_all_text].concat(SL)),oL.options(SL).value(gf.row_filter_value).update()}function YL(){ML=fL(sL.getFormatterFunction())}function BL(t){Xt("#chart").attr("font-family",gf.layout.body_font.name),YL(),OL(),CL(),RL(),DL(),jL(),UL(),qL(t)}return t.data=_f,t.draw=AL,t.state=gf,t.update=NL,t.updateGraphic=BL,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
//# sourceMappingURL=template.js.map
</script><script>
var path = document.location.href.match(/\/visualisation\/(\d+)/);
if (path) {
	path = path[0];
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	ga("create", "UA-44635456-19", "auto", { storage: "none" });
	ga("set", "transport", "beacon");
	ga("set", "dimension1", path.substr(1));
	ga("set", "dimension2", new Date().toISOString());
	ga("send", "pageview", path);
}</script><script>!function(){"use strict";var e,t,n=!1;function i(e){if(n&&window.top!==window.self){var t=window;"srcdoc"===t.location.pathname&&(t=t.parent);var i,o=(i={},window._Flourish_template_id&&(i.template_id=window._Flourish_template_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_template_id&&(i.template_id=window.Flourish.app.loaded_template_id),window._Flourish_visualisation_id&&(i.visualisation_id=window._Flourish_visualisation_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_visualisation&&(i.visualisation_id=window.Flourish.app.loaded_visualisation.id),window.Flourish&&window.Flourish.app&&window.Flourish.app.story&&(i.story_id=window.Flourish.app.story.id,i.slide_count=window.Flourish.app.story.slides.length),window.Flourish&&window.Flourish.app&&window.Flourish.app.current_slide&&(i.slide_index=window.Flourish.app.current_slide.index+1),i),r={sender:"Flourish",method:"customerAnalytics"};for(var a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);for(var a in e)e.hasOwnProperty(a)&&(r[a]=e[a]);t.parent.postMessage(JSON.stringify(r),"*")}}function o(e){if("function"!=typeof e)throw new Error("Analytics callback is not a function");window.Flourish._analytics_listeners.push(e)}function r(){n=!0;[{event_name:"click",action_name:"click",use_capture:!0},{event_name:"keydown",action_name:"key_down",use_capture:!0},{event_name:"mouseenter",action_name:"mouse_enter",use_capture:!1},{event_name:"mouseleave",action_name:"mouse_leave",use_capture:!1}].forEach((function(e){document.body.addEventListener(e.event_name,(function(){i({action:e.action_name})}),e.use_capture)}))}function a(){if(null==e){var t=function(){var e=window.location;"about:srcdoc"==e.href&&(e=window.parent.location);var t={};return function(e,n,i){for(;i=n.exec(e);)t[decodeURIComponent(i[1])]=decodeURIComponent(i[2])}(e.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),t}();e="referrer"in t?/^https:\/\/medium.com\//.test(t.referrer):!("auto"in t)}return e}function s(e){var t=e||window.innerWidth;return t>999?650:t>599?575:400}function l(e,n){if(window.top!==window.self){var i=window;if("srcdoc"==i.location.pathname&&(i=i.parent),t)return e=parseInt(e,10),void i.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*");var o={sender:"Flourish",context:"iframe.resize",method:"resize",height:e,src:i.location.toString()};if(n)for(var r in n)o[r]=n[r];i.parent.postMessage(JSON.stringify(o),"*")}}function d(){return(-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("iPhone"))&&-1==navigator.userAgent.indexOf("Chrome")}function u(e){return"string"==typeof e||e instanceof String}function c(e){return"warn"!==e.method?(console.warn("BUG: validateWarnMessage called for method"+e.method),!1):!(null!=e.message&&!u(e.message))&&!(null!=e.explanation&&!u(e.explanation))}function h(e){return"resize"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!u(e.src)&&(!!u(e.context)&&!!("number"==typeof(t=e.height)?!isNaN(t)&&t>=0:u(t)&&/\d/.test(t)&&/^[0-9]*(\.[0-9]*)?(cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|vw|vh|vmin|vmax|%)?$/i.test(t)));var t}function f(e){throw new Error("Validation for setSetting is not implemented yet; see issue #4328")}function w(e){return"customerAnalytics"===e.method||(console.warn("BUG: validateCustomerAnalyticsMessage called for method"+e.method),!1)}function p(e){return"request-upload"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!u(e.name)&&!(null!=e.accept&&!u(e.accept))}function m(e,t){var n=function(e){for(var t={warn:c,resize:h,setSetting:f,customerAnalytics:w,"request-upload":p},n={},i=0;i<e.length;i++){var o=e[i];if(!t[o])throw new Error("No validator found for method "+o);n[o]=t[o]}return n}(t);window.addEventListener("message",(function(t){if(null!=t.source&&(t.origin===document.location.origin||t.origin.match(/\/\/localhost:\d+$|\/\/flourish-api\.com$|\.flourish\.(?:local(:\d+)?|net|rocks|studio)$|\.uri\.sh$|\/\/flourish-user-templates\.com$/))){var i;try{i=JSON.parse(t.data)}catch(e){return void console.warn("Unexpected non-JSON message: "+JSON.stringify(t.data))}if("Flourish"===i.sender)if(i.method)if(Object.prototype.hasOwnProperty.call(n,i.method))if(n[i.method](i)){for(var o=document.querySelectorAll("iframe"),r=0;r<o.length;r++)if(o[r].contentWindow==t.source||o[r].contentWindow==t.source.parent)return void e(i,o[r]);console.warn("could not find frame",i)}else console.warn("Validation failed for the message",i);else console.warn("No validator implemented for message",i);else console.warn("The 'method' property was missing from message",i)}})),d()&&(window.addEventListener("resize",g),g())}function g(){for(var e=document.querySelectorAll(".flourish-embed"),t=0;t<e.length;t++){var n=e[t];if(!n.getAttribute("data-width")){var i=n.querySelector("iframe");if(i){var o=window.getComputedStyle(n),r=n.offsetWidth-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight);i.style.width=r+"px"}}}}function v(e,t,n,i,o){var r=document.createElement("iframe");if(r.setAttribute("scrolling","no"),r.setAttribute("frameborder","0"),r.setAttribute("title","Interactive or visual content"),r.setAttribute("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"),t.appendChild(r),r.offsetParent||"fixed"===getComputedStyle(r).position)_(e,t,r,n,i,o);else{var a={embed_url:e,container:t,iframe:r,width:n,height:i,play_on_load:o};if(window._flourish_poll_items?window._flourish_poll_items.push(a):window._flourish_poll_items=[a],window._flourish_poll_items.length>1)return r;var s=setInterval((function(){window._flourish_poll_items=window._flourish_poll_items.filter((function(e){return!e.iframe.offsetParent||(_(e.embed_url,e.container,e.iframe,e.width,e.height,e.play_on_load),!1)})),window._flourish_poll_items.length||clearInterval(s)}),500)}return r}function _(e,t,n,i,o,r){var a;return i&&"number"==typeof i?(a=i,i+="px"):i&&i.match(/^[ \t\r\n\f]*([+-]?\d+|\d*\.\d+(?:[eE][+-]?\d+)?)(?:\\?[Pp]|\\0{0,4}[57]0(?:\r\n|[ \t\r\n\f])?)(?:\\?[Xx]|\\0{0,4}[57]8(?:\r\n|[ \t\r\n\f])?)[ \t\r\n\f]*$/)&&(a=parseFloat(i)),o&&"number"==typeof o&&(o+="px"),i?n.style.width=i:d()?n.style.width=t.offsetWidth+"px":n.style.width="100%",!!o||(e.match(/\?/)?e+="&auto=1":e+="?auto=1",o=s(a||n.offsetWidth)+"px"),o&&("%"===o.charAt(o.length-1)&&(o=parseFloat(o)/100*t.parentNode.offsetHeight+"px"),n.style.height=o),n.setAttribute("src",e+(r?"#play-on-load":"")),n}function y(e){return!Array.isArray(e)&&"object"==typeof e&&null!=e}function F(e,t){for(var n in t)y(e[n])&&y(t[n])?F(e[n],t[n]):e[n]=t[n];return e}!function(){var e,n=window.top===window.self,u=n?null:(t="#amp=1"==window.location.hash,{createEmbedIframe:v,isFixedHeight:a,getHeightForBreakpoint:s,startEventListeners:m,notifyParentWindow:l,isSafari:d,initCustomerAnalytics:r,addAnalyticsListener:o,sendCustomerAnalyticsMessage:i}),c=!0;function h(){var t;Flourish.fixed_height||(null!=e?t=e:c&&(t=u.getHeightForBreakpoint()),t!==window.innerHeight&&u.notifyParentWindow(t))}function f(){h(),window.addEventListener("resize",h)}Flourish.warn=function(e){if("string"==typeof e&&(e={message:e}),n||"editor"!==Flourish.environment)console.warn(e.message);else{var t={sender:"Flourish",method:"warn",message:e.message,explanation:e.explanation};window.parent.postMessage(JSON.stringify(t),"*")}},Flourish.uploadImage=function(e){if(n||"story_editor"!==Flourish.environment)throw"Invalid upload request";var t={sender:"Flourish",method:"request-upload",name:e.name,accept:e.accept};window.parent.postMessage(JSON.stringify(t),"*")},Flourish.setSetting=function(e,t){if("editor"===Flourish.environment||"sdk"===Flourish.environment){var n={sender:"Flourish",method:"setSetting",name:e,value:t};window.parent.postMessage(JSON.stringify(n),"*")}else if("story_editor"===Flourish.environment){var i={};i[e]=t,F(window.template.state,function(e){var t={};for(var n in e){for(var i=t,o=n.indexOf("."),r=0;o>=0;o=n.indexOf(".",r=o+1)){var a=n.substring(r,o);a in i||(i[a]={}),i=i[a]}i[n.substring(r)]=e[n]}return t}(i))}},Flourish.setHeight=function(t){Flourish.fixed_height||(e=t,c=null==t,h())},Flourish.checkHeight=function(){if(!n){var e=Flourish.__container_height;null!=e?(Flourish.fixed_height=!0,u.notifyParentWindow(e)):u.isFixedHeight()?Flourish.fixed_height=!0:(Flourish.fixed_height=!1,h())}},Flourish.fixed_height=n||u.isFixedHeight(),Flourish.enableCustomerAnalytics=function(){u&&u.initCustomerAnalytics()},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",f):f()}()}();
//# sourceMappingURL=embedded.js.map
</script><script>
		function _Flourish_unflattenInto(dest, src) {
			dest = dest || {};
			for (var k in src) {
				var t = dest;
				for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
					var s = k.substring(p, i);
					if (!(s in t)) t[s] = {};
					t = t[s];
				}
				t[k.substring(p)] = src[k];
			}
			return dest;
		}
		var _Flourish_settings = {"cell_height":2.5,"cell_x_margin":5,"cell_y_margin":5,"height_mode":"fixed","legend_continuous.text_color":null,"x.tick_label_angle":"0","x.tick_label_styling":true,"x.title_mode":"custom","x.title_styling":true,"y.title_mode":"custom","y.title_styling":true,"x_axis_datatype":"categorical","y_axis_datatype":"categorical","color.scale_type":"categorical","color.categorical_palette":["#bfbfbf"],"legend_categorical.text_weight":"normal","legend_categorical.show_legend":true,"axes_highlights.x_enabled":false,"x.axis_position":"bottom","x.gridlines_visible":false,"x.flip":false,"x.tick_label_position":"default","animation_style":"none","x.tick_label_weight":"bold","y.gridlines_visible":false,"y.axis_visible":true,"popup.custom_template":"{{page_name}}, posiÃ§Ã£o nÂº {{rank}} em {{uf}}","localization.input_decimal_separator":".","color.categorical_custom_palette":"Brasil Paralelo: #013b5b\nBP Select: #10709b\nSimone Tebet: #faca0c\nGreenpeace Brasil: #adbb31\nTribunal Superior Eleitoral (TSE): #ec4b4e\n\n","color.categorical_extend":true,"legend_categorical.orientation":"horizontal","legend_categorical.title_mode":"fixed","legend_categorical.order_override":"Brasil Paralelo\nBP Select\nSimone Tebet\nGreenpeace Brasil\nTribunal Superior Eleitoral (TSE)\n","layout.body_font":{"name":"Source Sans Pro","url":"https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700"},"layout.background_color_enabled":true,"layout.background_color":"#eeeeee","y.title":"PosiÃ§Ã£o no ranking","legend_categorical.title_weight":"bold","popup.show_pointer":true,"popup.show_shadow":false,"popup.style_popups":true,"popup.fill_color":"#1d1d1d","popup.text_color":"#ffffff","popup.is_custom":true,"layout.background_image_enabled":true,"layout.background_image_src":"","layout.background_image_size":"auto","layout.background_image_position":"bottom right","layout.title":"Ranking dos 10 maiores anunciantes no Facebook por UF","layout.source_name":"Meta","layout.source_label":"Fonte:","layout.footer_logo_enabled":true,"layout.footer_logo_src":"https://public.flourish.studio/uploads/169/faefe098-8572-4621-a484-0c347338557f.png","layout.screenreader_hide_primary":true,"layout.screenreader_text_primary":"A tabela mostra que o Brasil Paralelo estÃ¡ em primeiro lugar no ranking de 10 maiores anunciantes em 22 das 27 Unidades da FederaÃ§Ã£o, contando ainda com o BP Select (plataforma de streaming do portal) presente no top 10. Outros grandes anunciantes sÃ£o Simone Tebet, Greenpeace Brasil e o Tribunal Superior Eleitoral.","axes_highlights.y_enabled":true,"axes_highlights.y_lines":"","axes_highlights.y_label_x_position":"right","cell_aspect":1,"y.title_size":1.1,"y.tick_label_position":"default","y.title_color":"#0c0c0c","y.title_weight":"bold","y.tick_label_styling":false,"y.title_padding":0.2};
		_Flourish_unflattenInto(window.template.state, _Flourish_settings);

		var _Flourish_data_column_names = {"data":{"value":"page_name","x":"uf","y":"rank"}},
		    _Flourish_data_metadata = {"data":{"value":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"x":{"type":"number","type_id":"number$comma_point","output_format_id":"number$comma_point"}}},
		    _Flourish_data = {"data":[{"value":"Brasil Paralelo","x":"AC","y":"1"},{"value":"Mara Rocha","x":"AC","y":"2"},{"value":"Dr. Jenilson Leite","x":"AC","y":"3"},{"value":"PerpÃ©tua Almeida","x":"AC","y":"4"},{"value":"Dep. Estadual Luiz Gonzaga","x":"AC","y":"5"},{"value":"BP Select","x":"AC","y":"6"},{"value":"Hospitais PROADI-SUS","x":"AC","y":"7"},{"value":"JosÃ© Adriano","x":"AC","y":"8"},{"value":"Simone Tebet","x":"AC","y":"9"},{"value":"FeirÃ£o Limpa Nome","x":"AC","y":"10"},{"value":"Brasil Paralelo","x":"AL","y":"1"},{"value":"Rodrigo Cunha","x":"AL","y":"2"},{"value":"JoÃ£o Catunda","x":"AL","y":"3"},{"value":"Rafael Brito","x":"AL","y":"4"},{"value":"Paulo Dantas","x":"AL","y":"5"},{"value":"Simone Tebet","x":"AL","y":"6"},{"value":"Rodrigo ValenÃ§a","x":"AL","y":"7"},{"value":"BP Select","x":"AL","y":"8"},{"value":"Ronaldo Medeiros","x":"AL","y":"9"},{"value":"Davi Maia","x":"AL","y":"10"},{"value":"ClÃ©cio Luis","x":"AP","y":"1"},{"value":"Davi Alcolumbre","x":"AP","y":"2"},{"value":"Jaime Nunes","x":"AP","y":"3"},{"value":"Governo do AmapÃ¡","x":"AP","y":"4"},{"value":"Brasil Paralelo","x":"AP","y":"5"},{"value":"Prefeitura de MacapÃ¡","x":"AP","y":"6"},{"value":"Lucas AbrahÃ£o","x":"AP","y":"7"},{"value":"Randolfe Rodrigues","x":"AP","y":"8"},{"value":"Camilo Capiberibe","x":"AP","y":"9"},{"value":"BP Select","x":"AP","y":"10"},{"value":"Senador Eduardo Braga","x":"AM","y":"1"},{"value":"Brasil Paralelo","x":"AM","y":"2"},{"value":"CapitÃ£o Alberto Neto","x":"AM","y":"3"},{"value":"Delegado Pablo","x":"AM","y":"4"},{"value":"Portal do Holanda","x":"AM","y":"5"},{"value":"Saullo Vianna","x":"AM","y":"6"},{"value":"Ricardo Nicolau","x":"AM","y":"7"},{"value":"BP Select","x":"AM","y":"8"},{"value":"Portal RealTime1","x":"AM","y":"9"},{"value":"foconofato","x":"AM","y":"10"},{"value":"Brasil Paralelo","x":"BA","y":"1"},{"value":"Governo da Bahia","x":"BA","y":"2"},{"value":"Simone Tebet","x":"BA","y":"3"},{"value":"BP Select","x":"BA","y":"4"},{"value":"Eduardo Salles","x":"BA","y":"5"},{"value":"Angelo Coronel","x":"BA","y":"6"},{"value":"Ceuci Nunes","x":"BA","y":"7"},{"value":"Greenpeace Brasil","x":"BA","y":"8"},{"value":"ACM Neto","x":"BA","y":"9"},{"value":"Tribunal Superior Eleitoral (TSE)","x":"BA","y":"10"},{"value":"CÃ©lio Studart","x":"CE","y":"1"},{"value":"Brasil Paralelo","x":"CE","y":"2"},{"value":"Prefeitura de Sobral","x":"CE","y":"3"},{"value":"Simone Tebet","x":"CE","y":"4"},{"value":"BP Select","x":"CE","y":"5"},{"value":"Emanuel Mota","x":"CE","y":"6"},{"value":"Idilvan","x":"CE","y":"7"},{"value":"Tribunal Superior Eleitoral (TSE)","x":"CE","y":"8"},{"value":"ClÃ¡udio Pinho","x":"CE","y":"9"},{"value":"Greenpeace Brasil","x":"CE","y":"10"},{"value":"Brasil Paralelo","x":"DF","y":"1"},{"value":"Rafael Parente","x":"DF","y":"2"},{"value":"BP Select","x":"DF","y":"3"},{"value":"Julia Lucy DF","x":"DF","y":"4"},{"value":"Jaqueline Silva","x":"DF","y":"5"},{"value":"Paula Belmonte","x":"DF","y":"6"},{"value":"Daniel Donizet","x":"DF","y":"7"},{"value":"Greenpeace Brasil","x":"DF","y":"8"},{"value":"Contrabando Rouba Nosso Futuro","x":"DF","y":"9"},{"value":"Faculdade Republicana","x":"DF","y":"10"},{"value":"Brasil Paralelo","x":"ES","y":"1"},{"value":"Felipe Rigoni","x":"ES","y":"2"},{"value":"BP Select","x":"ES","y":"3"},{"value":"Renato Casagrande","x":"ES","y":"4"},{"value":"Idecan Oficial","x":"ES","y":"5"},{"value":"Simone Tebet","x":"ES","y":"6"},{"value":"Sergio Vidigal","x":"ES","y":"7"},{"value":"Dr. Victor Linhalis","x":"ES","y":"8"},{"value":"Aridelmo Teixeira","x":"ES","y":"9"},{"value":"Greenpeace Brasil","x":"ES","y":"10"},{"value":"Brasil Paralelo","x":"GO","y":"1"},{"value":"BP Select","x":"GO","y":"2"},{"value":"Simone Tebet","x":"GO","y":"3"},{"value":"Gui Azambuja PT GoiÃ¡s","x":"GO","y":"4"},{"value":"Deputado Federal Elias Vaz","x":"GO","y":"5"},{"value":"Deputado Estadual Cairo Salim","x":"GO","y":"6"},{"value":"Professor Alcides","x":"GO","y":"7"},{"value":"FlÃ¡vio Pagotto","x":"GO","y":"8"},{"value":"Greenpeace Brasil","x":"GO","y":"9"},{"value":"BrasilPatriota.shop","x":"GO","y":"10"},{"value":"Brasil Paralelo","x":"MA","y":"1"},{"value":"Governo do MaranhÃ£o","x":"MA","y":"2"},{"value":"Carlos BrandÃ£o","x":"MA","y":"3"},{"value":"Assembleia Legislativa do Estado do MaranhÃ£o","x":"MA","y":"4"},{"value":"Weverton","x":"MA","y":"5"},{"value":"MaranhÃ£o com BrandÃ£o","x":"MA","y":"6"},{"value":"Deputado Josivaldo JP","x":"MA","y":"7"},{"value":"BP Select","x":"MA","y":"8"},{"value":"Carlos Lula","x":"MA","y":"9"},{"value":"Roberto Costa","x":"MA","y":"10"},{"value":"Brasil Paralelo","x":"MT","y":"1"},{"value":"Wellington Fagundes","x":"MT","y":"2"},{"value":"BP Select","x":"MT","y":"3"},{"value":"Juca do GuaranÃ¡ Filho","x":"MT","y":"4"},{"value":"Mauro Mendes","x":"MT","y":"5"},{"value":"Elizeu Nascimento","x":"MT","y":"6"},{"value":"Fabio Garcia","x":"MT","y":"7"},{"value":"Leiagora Portal de NotÃ­cias","x":"MT","y":"8"},{"value":"Simone Tebet","x":"MT","y":"9"},{"value":"Tenente Coronel Paccola","x":"MT","y":"10"},{"value":"Brasil Paralelo","x":"MS","y":"1"},{"value":"Eduardo Borges","x":"MS","y":"2"},{"value":"Loester Trutis","x":"MS","y":"3"},{"value":"Simone Tebet","x":"MS","y":"4"},{"value":"Marcio Fernandes","x":"MS","y":"5"},{"value":"Campo Grande em Alerta","x":"MS","y":"6"},{"value":"Eduardo Riedel","x":"MS","y":"7"},{"value":"Reinaldo Azambuja","x":"MS","y":"8"},{"value":"CapitÃ£o Contar","x":"MS","y":"9"},{"value":"BP Select","x":"MS","y":"10"},{"value":"Brasil Paralelo","x":"MG","y":"1"},{"value":"Governo do Estado de Minas Gerais","x":"MG","y":"2"},{"value":"Greenpeace Brasil","x":"MG","y":"3"},{"value":"BP Select","x":"MG","y":"4"},{"value":"Simone Tebet","x":"MG","y":"5"},{"value":"Elismar Prado","x":"MG","y":"6"},{"value":"Noraldino JÃºnior","x":"MG","y":"7"},{"value":"CDL De Belo Horizonte","x":"MG","y":"8"},{"value":"AÃ©cio Neves","x":"MG","y":"9"},{"value":"Alexandre Silveira MG","x":"MG","y":"10"},{"value":"Brasil Paralelo","x":"PA","y":"1"},{"value":"BP Select","x":"PA","y":"2"},{"value":"AÃ§Ã£o Itinerante Presente - Por Todo o ParÃ¡","x":"PA","y":"3"},{"value":"Simone Tebet","x":"PA","y":"4"},{"value":"Zequinha Marinho","x":"PA","y":"5"},{"value":"Dr Daniel Santos","x":"PA","y":"6"},{"value":"Tribunal Superior Eleitoral (TSE)","x":"PA","y":"7"},{"value":"Alessandra Haber","x":"PA","y":"8"},{"value":"Greenpeace Brasil","x":"PA","y":"9"},{"value":"Igor Normando","x":"PA","y":"10"},{"value":"Brasil Paralelo","x":"PB","y":"1"},{"value":"Bruno Roberto","x":"PB","y":"2"},{"value":"Simone Tebet","x":"PB","y":"3"},{"value":"BP Select","x":"PB","y":"4"},{"value":"Tribunal Superior Eleitoral (TSE)","x":"PB","y":"5"},{"value":"Governo do Estado da ParaÃ­ba","x":"PB","y":"6"},{"value":"Greenpeace Brasil","x":"PB","y":"7"},{"value":"Rafaela Camaraense","x":"PB","y":"8"},{"value":"MÃ­dia NINJA","x":"PB","y":"9"},{"value":"IDIB","x":"PB","y":"10"},{"value":"Brasil Paralelo","x":"PR","y":"1"},{"value":"Geraldo Mendes","x":"PR","y":"2"},{"value":"Ratinho Junior","x":"PR","y":"3"},{"value":"BP Select","x":"PR","y":"4"},{"value":"Guto Silva","x":"PR","y":"5"},{"value":"Gleisi Hoffmann","x":"PR","y":"6"},{"value":"Roberto RequiÃ£o","x":"PR","y":"7"},{"value":"Simone Tebet","x":"PR","y":"8"},{"value":"Cesar Silvestri Filho","x":"PR","y":"9"},{"value":"Prefeitura de Francisco BeltrÃ£o","x":"PR","y":"10"},{"value":"Miguel Coelho","x":"PE","y":"1"},{"value":"Brasil Paralelo","x":"PE","y":"2"},{"value":"Coronel Alberto Feitosa","x":"PE","y":"3"},{"value":"Simone Tebet","x":"PE","y":"4"},{"value":"Danilo Cabral","x":"PE","y":"5"},{"value":"BP Select","x":"PE","y":"6"},{"value":"Raquel Lyra","x":"PE","y":"7"},{"value":"IDIB","x":"PE","y":"8"},{"value":"Romero","x":"PE","y":"9"},{"value":"Augusto Coutinho","x":"PE","y":"10"},{"value":"Brasil Paralelo","x":"PI","y":"1"},{"value":"Silvio Mendes","x":"PI","y":"2"},{"value":"Progressistas PI","x":"PI","y":"3"},{"value":"Rafael Fonteles","x":"PI","y":"4"},{"value":"Iracema Portella","x":"PI","y":"5"},{"value":"Kleber Montezuma","x":"PI","y":"6"},{"value":"Simone Tebet","x":"PI","y":"7"},{"value":"Joel Rodrigues","x":"PI","y":"8"},{"value":"Elmano FÃ©rrer","x":"PI","y":"9"},{"value":"BP Select","x":"PI","y":"10"},{"value":"Brasil Paralelo","x":"RJ","y":"1"},{"value":"Deputado Val Ceasa","x":"RJ","y":"2"},{"value":"BP Select","x":"RJ","y":"3"},{"value":"Marcelo Freixo","x":"RJ","y":"4"},{"value":"Greenpeace Brasil","x":"RJ","y":"5"},{"value":"Prefeitura de Duque de Caxias","x":"RJ","y":"6"},{"value":"Simone Tebet","x":"RJ","y":"7"},{"value":"Deputado Gurgel","x":"RJ","y":"8"},{"value":"TIM Brasil","x":"RJ","y":"9"},{"value":"Thiago Rangel","x":"RJ","y":"10"},{"value":"Brasil Paralelo","x":"RN","y":"1"},{"value":"Kelps Lima","x":"RN","y":"2"},{"value":"Governo do Estado do Rio Grande do Norte","x":"RN","y":"3"},{"value":"Simone Tebet","x":"RN","y":"4"},{"value":"Isolda","x":"RN","y":"5"},{"value":"Luiz Eduardo","x":"RN","y":"6"},{"value":"BP Select","x":"RN","y":"7"},{"value":"FÃ¡bio Dantas","x":"RN","y":"8"},{"value":"Ãlvaro Dias","x":"RN","y":"9"},{"value":"Fernando Mineiro","x":"RN","y":"10"},{"value":"Brasil Paralelo","x":"RS","y":"1"},{"value":"BP Select","x":"RS","y":"2"},{"value":"Simone Tebet","x":"RS","y":"3"},{"value":"Greenpeace Brasil","x":"RS","y":"4"},{"value":"Luciana Genro","x":"RS","y":"5"},{"value":"Heitor Schuch","x":"RS","y":"6"},{"value":"Tribunal Superior Eleitoral (TSE)","x":"RS","y":"7"},{"value":"Jefferson Otto","x":"RS","y":"8"},{"value":"Tenente Coronel Zucco","x":"RS","y":"9"},{"value":"MÃ­dia NINJA","x":"RS","y":"10"},{"value":"Brasil Paralelo","x":"RO","y":"1"},{"value":"Ieda Chaves","x":"RO","y":"2"},{"value":"Mariana Carvalho","x":"RO","y":"3"},{"value":"Rosangela Donadon - Deputada Estadual","x":"RO","y":"4"},{"value":"Jaqueline Cassol","x":"RO","y":"5"},{"value":"AndrÃ© Da Royal","x":"RO","y":"6"},{"value":"BP Select","x":"RO","y":"7"},{"value":"Simone Tebet","x":"RO","y":"8"},{"value":"Julian Cuadal","x":"RO","y":"9"},{"value":"Ezequiel Neiva","x":"RO","y":"10"},{"value":"Brasil Paralelo","x":"RR","y":"1"},{"value":"Teresa Surita","x":"RR","y":"2"},{"value":"Jeferson Alves","x":"RR","y":"3"},{"value":"Linoberg","x":"RR","y":"4"},{"value":"Simone Queiroz","x":"RR","y":"5"},{"value":"Arthur Henrique","x":"RR","y":"6"},{"value":"Yonny Pedroso","x":"RR","y":"7"},{"value":"Romero JucÃ¡","x":"RR","y":"8"},{"value":"Pedro Henrique Machado","x":"RR","y":"9"},{"value":"Assembleia Legislativa do Estado de Roraima","x":"RR","y":"10"},{"value":"Brasil Paralelo","x":"SC","y":"1"},{"value":"BP Select","x":"SC","y":"2"},{"value":"Sebrae Santa Catarina","x":"SC","y":"3"},{"value":"AntÃ­dio Lunelli","x":"SC","y":"4"},{"value":"Simone Tebet","x":"SC","y":"5"},{"value":"Greenpeace Brasil","x":"SC","y":"6"},{"value":"Ed Pereira","x":"SC","y":"7"},{"value":"Ismael Dos Santos","x":"SC","y":"8"},{"value":"Leandro Sorgatto","x":"SC","y":"9"},{"value":"Bruno Souza","x":"SC","y":"10"},{"value":"Brasil Paralelo","x":"SP","y":"1"},{"value":"Itamar Borges","x":"SP","y":"2"},{"value":"CÃ¢mara Municipal de SÃ£o Paulo","x":"SP","y":"3"},{"value":"BP Select","x":"SP","y":"4"},{"value":"Simone Tebet","x":"SP","y":"5"},{"value":"Governo do Estado de SÃ£o Paulo","x":"SP","y":"6"},{"value":"Greenpeace Brasil","x":"SP","y":"7"},{"value":"MaurÃ­cio Neves","x":"SP","y":"8"},{"value":"Prefeitura De RibeirÃ£o Preto","x":"SP","y":"9"},{"value":"Rodrigo Garcia","x":"SP","y":"10"},{"value":"Brasil Paralelo","x":"SE","y":"1"},{"value":"HENRI CLAY","x":"SE","y":"2"},{"value":"Zezinho Sobral","x":"SE","y":"3"},{"value":"Simone Tebet","x":"SE","y":"4"},{"value":"AndrÃ© Moura","x":"SE","y":"5"},{"value":"BP Select","x":"SE","y":"6"},{"value":"Assembleia Legislativa de Sergipe","x":"SE","y":"7"},{"value":"Henri Clay Andrade","x":"SE","y":"8"},{"value":"RogÃ©rio Carvalho","x":"SE","y":"9"},{"value":"Tribunal Superior Eleitoral (TSE)","x":"SE","y":"10"},{"value":"Ronaldo Dimas","x":"TO","y":"1"},{"value":"Brasil Paralelo","x":"TO","y":"2"},{"value":"Janad Valcari","x":"TO","y":"3"},{"value":"PL Tocantins - 22","x":"TO","y":"4"},{"value":"Prefeitura de ParaÃ­so do Tocantins","x":"TO","y":"5"},{"value":"Professora Dorinha","x":"TO","y":"6"},{"value":"BP Select","x":"TO","y":"7"},{"value":"Professor JÃºnior Geo","x":"TO","y":"8"},{"value":"Tiago Dimas","x":"TO","y":"9"},{"value":"Simone Tebet","x":"TO","y":"10"}]},
		    _Flourish_visualisation_id = 10124390,
		    _Flourish_template_id = 1794;
		for (var _Flourish_dataset in _Flourish_data) {
				window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
				window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
				window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
		}

		
		window.template.draw();
	</script></body></html>